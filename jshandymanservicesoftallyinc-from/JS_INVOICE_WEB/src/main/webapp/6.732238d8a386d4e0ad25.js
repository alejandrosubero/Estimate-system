(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{g7l3:function(t,e,i){"use strict";i.d(e,"a",function(){return o});class o{constructor(){this.to=new Array,this.cc=new Array,this.bcc=new Array}}},qBFp:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=i("g7l3");class n{constructor(){this.email=new o.a,this.printProduct=!1,this.avancePayments=!1}}},u6rD:function(t,e,i){"use strict";i.r(e),i.d(e,"ConfigModule",function(){return gt});var o=i("ofXK"),n=i("kMz5"),c=i("1kSV"),a=i("ADsi"),r=i("zSib"),s=i("tyNb"),l=i("7EHt"),d=i("bJE5"),h=i("fXoL"),p=i("dNgK"),u=i("tk/3"),m=i("AytR"),b=i("SLj6");class f{constructor(t,e,i){this.http=t,this.router=e,this.encryptService=i}sendTaxes(t){const e=new u.d;return e.append("Content-Type","application/json"),this.http.post(m.a.serverUrl+"config/taxes/and/price/save",t,{headers:e})}sendEmailconfig(t){const e=new u.d;return e.append("Content-Type","application/json"),this.http.post(m.a.serverUrl+"config/emaildataconfig/save",t,{headers:e})}saveParameter(t){const e=new u.d;return e.append("Content-Type","application/json"),this.http.post(m.a.serverUrl+"config/parameters/save/automatic",t,{headers:e})}setAndSaveTemplate(t){const e=new u.d;return e.append("Content-Type","application/json"),this.http.post(m.a.serverUrl+"config/Template/saves",t,{headers:e})}setTemplate(){const t={headers:new u.d};return this.http.get(m.a.serverUrl+"config/Template/set",t)}sendConfigurationData(t){const e=new u.d;return e.append("Content-Type","application/json"),this.http.post(m.a.serverUrl+"config/configuration/save/New",t,{headers:e})}encrypt(t){return this.encryptService.encripted(t)}decrypt(t){return this.encryptService.decrypted(t)}}f.\u0275fac=function(t){return new(t||f)(h.vc(u.b),h.vc(s.c),h.vc(b.a))},f.\u0275prov=h.ec({token:f,factory:f.\u0275fac,providedIn:"root"});var g=i("6gb7"),v=i("P64T"),y=i("bTqV"),w=i("NFeN"),x=i("kmnG");class C{constructor(t,e,i,o,n){this._snackBar=t,this.configurationService=e,this.router=i,this.spinnerService=o,this.coreService=n,this.panelOpenState=!1}ngOnInit(){}onSelltingsUser(){this.coreService.navigateByUrl("/jshandy-man-services/menu/configuration/user")}onSelltingsData(){this.coreService.navigateByUrl("/jshandy-man-services/menu/configuration/data")}onSelltingsTaxes(){this.coreService.navigateByUrl("/jshandy-man-services/menu/configuration/taxes")}onSelltingsMail(){this.coreService.navigateByUrl("/jshandy-man-services/menu/configuration/mail")}onBackMenu(){this.coreService.navigateByUrl("/jshandy-man-services/menu/home")}onSetTemplate(){this.show(),this.configurationService.setAndSaveTemplate(d.a.temp1).subscribe(t=>{this.notification=t?"the configuration is save":'"An error occurred while trying set the templates try again later"',t?this.configurationService.setAndSaveTemplate(d.a.tempPaimentCar).subscribe(t=>{this.notification=t?"the configuration is save":'"An error occurred while trying set the templates try again later"',t?this.configurationService.setAndSaveTemplate(d.a.imgTemplate).subscribe(e=>{this.notification=t?"the configuration is save":'"An error occurred while trying set the templates try again later"',this.openSnackBar(this.notification,"Close"),this.hide()},t=>{console.log("Error",t),this.notification='"An error occurred while trying to save the configuration template car"',this.hide(),this.openSnackBar(this.notification,"Close")}):(this.openSnackBar(this.notification,"Close"),this.hide())},t=>{console.log("Error",t),this.notification='"An error occurred while trying to save the configuration template car"',this.hide(),this.openSnackBar(this.notification,"Close")}):(this.openSnackBar(this.notification,"Close"),this.hide())},t=>{console.log("Error",t),this.notification='"An error occurred while trying to save the configuration template 1"',this.openSnackBar(this.notification,"Close"),this.hide()})}openSnackBar(t,e){this._snackBar.open(t,e)}show(){this.spinnerService.spinnerActive=!1,this.spinnerService.show()}hide(){this.spinnerService.hide(),this.spinnerService.spinnerActive=!0}}C.\u0275fac=function(t){return new(t||C)(h.ic(p.a),h.ic(f),h.ic(s.c),h.ic(g.a),h.ic(v.a))},C.\u0275cmp=h.cc({type:C,selectors:[["app-configuration-menu"]],viewQuery:function(t,e){if(1&t&&h.fd(l.a,1),2&t){let t;h.Qc(t=h.zc())&&(e.accordion=t.first)}},decls:72,vars:2,consts:[[1,"example-button-row"],[1,"example-flex-container"],["mat-icon-button","","aria-label","vertical three dot icon",3,"click"],[1,"h4","text-center","font-weight-light","p-1","textTitle"],[1,"ex-action-buttons","mt-1"],["mat-raised-button","",1,"flowRight","mr-1","border",3,"click"],["mat-raised-button","",1,"flowRight","ml-1","mr-1","border",3,"click"],[1,"mt-2"],["multi","",1,"ex-headers-align"],[1,"border",3,"expanded"],["User_Configuration",""],[1,"Dold"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"p-3","bd-highlight","border"],[1,"DoldTex"],["mat-raised-button","","type","button","color","primary",1,"ml-1","flowRight",3,"click"],["Avance_Configuration",""]],template:function(t,e){1&t&&(h.oc(0,"section"),h.oc(1,"div",0),h.oc(2,"div",1),h.oc(3,"button",2),h.yc("click",function(){return e.onBackMenu()}),h.oc(4,"mat-icon"),h.bd(5,"arrow_back_ios"),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(6,"div",3),h.bd(7," Settings Management "),h.nc(),h.oc(8,"div",4),h.oc(9,"button",5),h.yc("click",function(){return e.accordion.openAll()}),h.bd(10,"Expand All"),h.nc(),h.oc(11,"button",6),h.yc("click",function(){return e.accordion.closeAll()}),h.bd(12,"Collapse All"),h.nc(),h.nc(),h.jc(13,"br"),h.oc(14,"div",7),h.oc(15,"mat-accordion",8),h.oc(16,"mat-expansion-panel",9,10),h.oc(18,"mat-expansion-panel-header"),h.oc(19,"mat-panel-title",11),h.bd(20," User Configuration "),h.nc(),h.oc(21,"mat-panel-description"),h.bd(22," User Management "),h.nc(),h.nc(),h.oc(23,"div",12),h.oc(24,"div",13),h.oc(25,"div"),h.oc(26,"mat-label"),h.oc(27,"Samp",14),h.bd(28,"The user configuration"),h.nc(),h.bd(29," will allow you to change your access data to the system. "),h.nc(),h.oc(30,"button",15),h.yc("click",function(){return e.onSelltingsUser()}),h.bd(31," Set Up "),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(32,"mat-expansion-panel",9,16),h.oc(34,"mat-expansion-panel-header"),h.oc(35,"mat-panel-title",11),h.bd(36," Avance Configuration "),h.nc(),h.oc(37,"mat-panel-description"),h.bd(38," System Configuration "),h.nc(),h.nc(),h.oc(39,"div",12),h.oc(40,"div",13),h.oc(41,"div"),h.oc(42,"mat-label"),h.oc(43,"Samp",14),h.bd(44,"Configuration of invoice or Estimate data"),h.nc(),h.bd(45," will allow you to add the company data, work expiration date alert, to the system. "),h.nc(),h.oc(46,"button",15),h.yc("click",function(){return e.onSelltingsData()}),h.bd(47," Set Up "),h.nc(),h.nc(),h.nc(),h.oc(48,"div",13),h.oc(49,"div"),h.oc(50,"mat-label"),h.oc(51,"Samp",14),h.bd(52,"Taxes configuration"),h.nc(),h.bd(53," , allows you to configure the current value of taxes in the system. "),h.nc(),h.oc(54,"button",15),h.yc("click",function(){return e.onSelltingsTaxes()}),h.bd(55," Set Up "),h.nc(),h.nc(),h.nc(),h.oc(56,"div",13),h.oc(57,"div"),h.oc(58,"mat-label"),h.oc(59,"Samp",14),h.bd(60,"Mail server configuration"),h.nc(),h.bd(61," , allows you to configure the access data to the mail server for sending, in the system. "),h.nc(),h.oc(62,"button",15),h.yc("click",function(){return e.onSelltingsMail()}),h.bd(63," Set Up "),h.nc(),h.nc(),h.nc(),h.oc(64,"div",13),h.oc(65,"div"),h.oc(66,"mat-label"),h.oc(67,"Samp",14),h.bd(68,"Set template for Mail"),h.nc(),h.bd(69," , allows you to configure the template to the mail for sending, in the system. "),h.nc(),h.oc(70,"button",15),h.yc("click",function(){return e.onSetTemplate()}),h.bd(71," Set Up "),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc()),2&t&&(h.Vb(16),h.Jc("expanded",!0),h.Vb(16),h.Jc("expanded",!1))},directives:[y.a,w.a,l.a,l.c,l.e,l.f,l.d,x.g],styles:[".ex-action-buttons[_ngcontent-%COMP%]{padding-bottom:20px}.ex-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%], .ex-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-basis:0}.ex-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.ex-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.Dold[_ngcontent-%COMP%]{font-weight:700}.DoldTex[_ngcontent-%COMP%]{font-weight:800}.buttonEdid[_ngcontent-%COMP%]{background-color:#552beb;color:#fff}.flowRight[_ngcontent-%COMP%]{float:right}"]});var S=i("3Pt+"),V=i("RbhS"),k=i("qBFp"),T=i("zW1C"),P=i("yZ9z"),F=i("Qu3c");function N(t,e){if(1&t&&(h.oc(0,"div"),h.oc(1,"div",22),h.bd(2),h.nc(),h.nc()),2&t){const t=h.Cc();h.Vb(2),h.ed("",t.invoiceView.client.name," ",t.invoiceView.client.lastName,"")}}function O(t,e){if(1&t&&(h.oc(0,"div"),h.oc(1,"div",22),h.bd(2),h.nc(),h.nc()),2&t){const t=h.Cc();h.Vb(2),h.cd(t.invoiceView.client.fullAdress)}}function M(t,e){if(1&t&&(h.oc(0,"div",22),h.bd(1),h.nc()),2&t){const t=e.$implicit;h.Vb(1),h.dd(" ",t.email," ")}}function A(t,e){if(1&t&&(h.oc(0,"div"),h.Zc(1,M,2,1,"div",53),h.nc()),2&t){const t=h.Cc();h.Vb(1),h.Jc("ngForOf",t.invoiceView.client.emails)}}function I(t,e){if(1&t&&(h.oc(0,"div",22),h.bd(1),h.nc()),2&t){const t=e.$implicit;h.Vb(1),h.dd(" ",t.number," ")}}function J(t,e){if(1&t&&(h.oc(0,"div"),h.Zc(1,I,2,1,"div",53),h.nc()),2&t){const t=h.Cc();h.Vb(1),h.Jc("ngForOf",t.invoiceView.client.phoneNumbers)}}function _(t,e){1&t&&(h.oc(0,"tr"),h.oc(1,"td",54),h.bd(2," Product and Materials: "),h.nc(),h.nc())}function j(t,e){if(1&t&&(h.oc(0,"td",61),h.bd(1),h.nc()),2&t){const t=h.Cc().$implicit;h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" ",t.description,"")}}function D(t,e){if(1&t&&(h.oc(0,"td",62),h.bd(1),h.nc()),2&t){const t=h.Cc().$implicit;h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" ",t.stockNumber,"")}}function E(t,e){if(1&t&&(h.oc(0,"td",62),h.bd(1),h.nc()),2&t){const t=h.Cc().$implicit;h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" $",t.totalPriceWithOupTaxes,"")}}function U(t,e){if(1&t&&(h.oc(0,"td",62),h.bd(1),h.nc()),2&t){const t=h.Cc().$implicit;h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" $",t.totalPriceWithTaxes,"")}}function B(t,e){if(1&t&&(h.oc(0,"tr",34),h.Zc(1,j,2,2,"td",59),h.Zc(2,D,2,2,"td",60),h.Zc(3,E,2,2,"td",60),h.Zc(4,U,2,2,"td",60),h.nc()),2&t){const t=h.Cc(2);h.Vb(1),h.Jc("ngIf",t.listProduct.length>0),h.Vb(1),h.Jc("ngIf",t.listProduct.length>0),h.Vb(1),h.Jc("ngIf",t.listProduct.length>0),h.Vb(1),h.Jc("ngIf",t.listProduct.length>0)}}function L(t,e){if(1&t&&(h.oc(0,"tr",34),h.oc(1,"td",61),h.bd(2),h.nc(),h.oc(3,"td",62),h.bd(4),h.nc(),h.oc(5,"td",62),h.bd(6),h.nc(),h.oc(7,"td",62),h.bd(8),h.nc(),h.nc()),2&t){const t=e.$implicit,i=h.Cc(2);h.Vb(1),h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" ",t.description,""),h.Vb(1),h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" ",i.billQuantity,""),h.Vb(1),h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" $",t.billTotalWichoutTaxes,""),h.Vb(1),h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" $",t.billTotal,"")}}function z(t,e){if(1&t&&(h.oc(0,"tr"),h.oc(1,"td",27),h.oc(2,"table",28),h.oc(3,"tr",29),h.oc(4,"th",30),h.bd(5," Description "),h.nc(),h.oc(6,"th",31),h.bd(7," Quantity "),h.nc(),h.oc(8,"th",31),h.bd(9," Rate "),h.nc(),h.oc(10,"th",31),h.bd(11," Amount "),h.nc(),h.nc(),h.Zc(12,B,5,4,"tr",55),h.Zc(13,L,9,8,"tr",55),h.oc(14,"tr",34),h.jc(15,"td",35),h.jc(16,"td",56),h.oc(17,"td",57),h.bd(18," Subtotal:"),h.nc(),h.oc(19,"td",58),h.bd(20),h.nc(),h.nc(),h.nc(),h.nc(),h.nc()),2&t){const t=h.Cc();h.Vb(12),h.Jc("ngForOf",t.listProduct),h.Vb(1),h.Jc("ngForOf",t.listbills),h.Vb(7),h.dd(" $",t.coreService.round(t.billLastTotal)," ")}}function $(t,e){1&t&&(h.oc(0,"tr"),h.oc(1,"td",54),h.bd(2," Service: "),h.nc(),h.nc())}function R(t,e){if(1&t&&(h.oc(0,"tr",34),h.oc(1,"td",61),h.bd(2),h.nc(),h.oc(3,"td",62),h.bd(4),h.nc(),h.oc(5,"td",62),h.bd(6),h.nc(),h.oc(7,"td",62),h.bd(8),h.nc(),h.nc()),2&t){const t=e.$implicit,i=h.Cc(2);h.Vb(1),h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" ",t.descriptionOfServicesCost,""),h.Vb(1),h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" ",i.serviceQuantity,""),h.Vb(1),h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" $",t.servicesCost,""),h.Vb(1),h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" $",t.servicesCost,"")}}function Z(t,e){if(1&t&&(h.oc(0,"tr"),h.oc(1,"td",27),h.oc(2,"table",28),h.oc(3,"tr",29),h.oc(4,"th",30),h.bd(5," Description "),h.nc(),h.oc(6,"th",31),h.bd(7," Quantity "),h.nc(),h.oc(8,"th",31),h.bd(9," Rate "),h.nc(),h.oc(10,"th",31),h.bd(11," Amount "),h.nc(),h.nc(),h.Zc(12,R,9,8,"tr",55),h.oc(13,"tr",34),h.jc(14,"td",35),h.jc(15,"td",56),h.oc(16,"td",57),h.bd(17," Subtotal:"),h.nc(),h.oc(18,"td",58),h.bd(19),h.nc(),h.nc(),h.nc(),h.nc(),h.nc()),2&t){const t=h.Cc();h.Vb(12),h.Jc("ngForOf",t.invoiceView.services),h.Vb(7),h.dd(" $",t.coreService.round(t.servicesTotal)," ")}}function H(t,e){1&t&&(h.oc(0,"tr"),h.oc(1,"td",54),h.bd(2," SubContractors: "),h.nc(),h.nc())}function W(t,e){if(1&t&&(h.oc(0,"tr",34),h.oc(1,"td",61),h.bd(2),h.nc(),h.oc(3,"td",62),h.bd(4),h.nc(),h.oc(5,"td",62),h.bd(6),h.nc(),h.oc(7,"td",62),h.bd(8),h.nc(),h.nc()),2&t){const t=e.$implicit,i=h.Cc(2);h.Vb(1),h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" ",t.description,""),h.Vb(1),h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" ",i.subContractortsQuantity," "),h.Vb(1),h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" ",i.coreService.round(t.totalCost-t.profitCalculation),""),h.Vb(1),h.Jc("ngClass",t.itemDeliteEdit?"tachado":""),h.Vb(1),h.dd(" ",i.coreService.round(t.totalCost-t.profitCalculation),"")}}function Q(t,e){if(1&t&&(h.oc(0,"tr",34),h.oc(1,"td",35),h.bd(2),h.nc(),h.oc(3,"td",56),h.bd(4),h.nc(),h.oc(5,"td",56),h.bd(6),h.nc(),h.oc(7,"td",56),h.bd(8),h.nc(),h.nc()),2&t){const t=h.Cc(2);h.Vb(2),h.dd(" Profit ",t.profit,"%"),h.Vb(2),h.dd(" ",t.serviceQuantity," "),h.Vb(2),h.dd(" $",t.profitCalculation," "),h.Vb(2),h.dd(" $",t.profitCalculation," ")}}function q(t,e){if(1&t&&(h.oc(0,"tr"),h.oc(1,"td",27),h.oc(2,"table",28),h.oc(3,"tr",29),h.oc(4,"th",30),h.bd(5," Description "),h.nc(),h.oc(6,"th",31),h.bd(7," Quantity "),h.nc(),h.oc(8,"th",31),h.bd(9," Rate "),h.nc(),h.oc(10,"th",31),h.bd(11," Amount "),h.nc(),h.nc(),h.Zc(12,W,9,8,"tr",55),h.Zc(13,Q,9,4,"tr",33),h.oc(14,"tr",34),h.jc(15,"td",35),h.jc(16,"td",56),h.oc(17,"td",57),h.bd(18," Subtotal:"),h.nc(),h.oc(19,"td",58),h.bd(20),h.nc(),h.nc(),h.nc(),h.nc(),h.nc()),2&t){const t=h.Cc();h.Vb(12),h.Jc("ngForOf",t.invoiceView.subcontractors),h.Vb(1),h.Jc("ngIf",t.showProfit),h.Vb(7),h.dd(" ",t.coreService.round(t.subcontractorsTotal)," ")}}function G(t,e){if(1&t&&(h.oc(0,"tr",34),h.oc(1,"td",35),h.bd(2," Materials and Product"),h.nc(),h.jc(3,"td",63),h.oc(4,"td",63),h.bd(5),h.nc(),h.jc(6,"td",64),h.nc()),2&t){const t=h.Cc();h.Vb(5),h.dd(" $",t.coreService.round(t.billLastTotal),"")}}function K(t,e){if(1&t&&(h.oc(0,"tr",34),h.oc(1,"td",35),h.bd(2,"Labor Cost Service"),h.nc(),h.jc(3,"td",63),h.oc(4,"td",63),h.bd(5),h.nc(),h.jc(6,"td",64),h.nc()),2&t){const t=h.Cc();h.Vb(5),h.dd("$",t.coreService.round(t.servicesTotal),"")}}function X(t,e){if(1&t&&(h.oc(0,"tr",34),h.oc(1,"td",35),h.bd(2),h.nc(),h.jc(3,"td",63),h.oc(4,"td",63),h.bd(5),h.nc(),h.jc(6,"td",64),h.nc()),2&t){const t=h.Cc();h.Vb(2),h.dd("Overhead ",t.invoiceView.overhead,"%"),h.Vb(3),h.dd("$",t.coreService.round(t.servicesTotalOverhead+t.billTotalOverhead),"")}}function Y(t,e){if(1&t&&(h.oc(0,"tr",34),h.oc(1,"td",35),h.bd(2,"subContractors"),h.nc(),h.jc(3,"td",63),h.oc(4,"td",63),h.bd(5),h.nc(),h.jc(6,"td",64),h.nc()),2&t){const t=h.Cc();h.Vb(5),h.dd("$",t.coreService.round(t.subcontractorsTotal),"")}}class tt{constructor(t){this.coreService=t,this.tipoForm="Invoice",this.for="For:",this.billQuantity=1,this.serviceQuantity=1,this.productQuantity=1,this.subContractortsQuantity=1,this.todayDate=new Date,this.line1=[],this.listbills=new Array,this.listProduct=new Array}ngOnInit(){void 0!==this.invoiceView&&null!=this.invoiceView&&(console.log("dataJshandyManServices",this.dataJshandyManServices),this.vistaName="Invoice",this.todayDate=this.invoiceView.createDay,this.showOverhead=!0,this.startView())}startView(){void 0!==this.invoiceView.subcontractors&&null!=this.invoiceView.subcontractors&&this.invoiceView.subcontractors.length>0&&(this.showProfit=!0),this.fillProductInBillTablet(),this.fillBillTablet()}ngOnChanges(t){this.setSubContractorsProfitCalculationForView(),this.startView(),console.log(this.invoiceView)}setSubContractorsProfitCalculationForView(){if(null!=this.invoiceView.subcontractors&&void 0!==this.invoiceView.subcontractors&&this.invoiceView.subcontractors.length>0){let t=0,e=0;this.invoiceView.subcontractors.forEach(i=>{e+=i.costOfwork,void 0!==i.billListSubcontractor&&null!=i.billListSubcontractor&&i.billListSubcontractor.length>0&&i.billListSubcontractor.forEach(e=>{t+=e.billTotal});const o=(i.costOfwork+t)*(i.profit/100);i.profitCalculation=this.coreService.round(o)})}}sedDataClientInView(t){const e=`${this.invoiceView.client.name} ${this.invoiceView.client.lastName}`;this.nameCliente=` ${e}`,this.addressCliente=` ${this.invoiceView.client.fullAdress}`}calculateOverhead(t){let e;return void 0!==this.invoiceView.overhead&&null!=this.invoiceView.overhead?(e=t*(this.invoiceView.overhead/100),e):t}fillProductInBillTablet(){this.listProduct=new Array,this.invoiceView.bills.forEach(t=>{this.printProduct&&void 0!==t.productsAndServices&&null!=t.productsAndServices&&t.productsAndServices.length>0&&Array.prototype.push.apply(this.listProduct,t.productsAndServices)})}fillBillTablet(){let t=0,e=0;this.listbills=new Array,this.invoiceView.bills.forEach(i=>{this.printProduct||(t+=i.billTotalWichoutTaxes,e+=i.billTotal,this.listbills.push(i)),!i.itemDeliteEdit&&this.printProduct&&void 0!==i.productsAndServices&&null!=i.productsAndServices&&0==i.productsAndServices.length&&(t+=i.billTotalWichoutTaxes,e+=i.billTotal,this.listbills.push(i))})}}function et(t){return/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i.test(t.value)?null:{invalidEmail:!0}}tt.\u0275fac=function(t){return new(t||tt)(h.ic(v.a))},tt.\u0275cmp=h.cc({type:tt,selectors:[["app-data-configuration-view"]],inputs:{invoiceView:"invoiceView",printProduct:"printProduct",billTotalOverhead:"billTotalOverhead",servicesTotalOverhead:"servicesTotalOverhead",profitCalculation:"profitCalculation",billLastTotal:"billLastTotal",servicesTotal:"servicesTotal",subcontractorsTotal:"subcontractorsTotal",dataJshandyManServices:"dataJshandyManServices"},features:[h.Tb],decls:144,vars:33,consts:[["bgcolor","#eeeeee",2,"margin","0 !important","padding","0 !important","background-color","#f1f0f0"],["border","0","cellpadding","0","cellspacing","0","width","100%"],["align","center","bgcolor","#eeeeee",2,"background-color","#eeeeee"],["align","center","border","0","cellpadding","0","cellspacing","0","width","100%",2,"max-width","600px"],[1,"imgen"],[1,"divEspacio"],["align","center","valign","top","bgcolor","#ffffff",2,"font-size","0","padding","35px"],[2,"display","inline-block","max-width","50%","min-width","100px","vertical-align","top","width","100%"],["align","left","border","0","cellpadding","0","cellspacing","0","width","100%",2,"max-width","300px"],["align","left","valign","top",2,"font-family","Open Sans, Helvetica, Arial, sans-serif","font-size","36px","font-weight","800","line-height","48px"],[2,"height","20px","width","auto"],["href","https://tallyhandyman.com",1,"logo"],["src","http://tallyhandyman.com/wp-content/uploads/2020/02/Logo_tally_handy_man-1.png","alt","Tally handy man",1,"logo-img",2,"width","px"],["align","right","valign","top",2,"font-family","Open Sans, Helvetica, Arial, sans-serif","font-size","48px","font-weight","400","line-height","48px"],["cellspacing","0","cellpadding","0","border","0","align","right"],[1,"tdhandy"],[1,"divhandy"],[1,"divhandy-mobile"],[2,"background-color","#ffffff","text-align","right","line-height","22px","border-bottom","#0c0b0b solid 2px","margin-right","5px"],[2,"margin-right","10px"],["bgcolor","#ffffff",2,"background-color","#ffffff"],[1,"divhandy2",2,"width","100%","height","100%"],[1,"divhandy-mobile2"],[4,"ngIf"],["align","left",2,"padding-top","20px"],["cellspacing","0","cellpadding","0","border","0","width","100%"],["width","75%","align","left",2,"font-family","arial, sans-serif","font-size","16px","font-weight","800","line-height","24px","padding","10px","border-top","2px solid #eeeeee"],["align","left"],[1,"table-text"],[2,"background-color","#fd604b","height","25px"],[2,"text-align","left","padding-left","8%","color","#ffffff"],[2,"text-align","right","padding-right","5%","color","#ffffff"],[2,"text-align","center","padding-right","5%","color","#ffffff"],["style","height: 18px;",4,"ngIf"],[2,"height","18px"],[2,"text-align","left","padding-left","8%"],[1,"total-1"],[1,"total"],[2,"height","2px","width","100%"],["align","center","bgcolor","#ffffff"],[2,"margin-top","10px","padding","35px","background-color","#fffbfbb4"],[2,"font-family","Open Sans, Helvetica, Arial, sans-serif","font-size","14px","font-weight","400"],[2,"font-size","10px","margin","0px","color","#0c0b0b"],[2,"text-align","left","margin-top","20px","margin-bottom","10px"],[2,"text-align","justify","line-height","18px"],[2,"line-height","20px","margin-top","10px","margin-bottom","10px"],[2,"line-height","20px"],["align","center","bgcolor","#ffffff",2,"padding","35px","background-color","#ffffff"],[2,"height","50px","width","100%"],["align","left",2,"font-family","Open Sans, Helvetica, Arial, sans-serif","font-size","14px","font-weight","400","line-height","24px"],[2,"margin-right","20px","margin-top","30px","font-size","12px","font-family","arial, sans-serif","border-collapse","collapse","width","100%","margin-left","50px"],[2,"text-align","center","border-top","#000000 solid 2px"],[2,"width","40px"],["class","divhandy-mobile2",4,"ngFor","ngForOf"],[2,"background-color","#ffffff","text-align","left","font-weight","bold","line-height","22px"],["style","height: 18px;",4,"ngFor","ngForOf"],[2,"text-align","right","padding-right","5%"],[2,"text-align","justify","padding-right","5%","border-top","#0c0b0b solid 1px"],[2,"text-align","right","padding-right","5%","border-top","#0c0b0b solid 1px"],["style","text-align: left; padding-left: 8%;",3,"ngClass",4,"ngIf"],["style","text-align: right; padding-right: 5%;",3,"ngClass",4,"ngIf"],[2,"text-align","left","padding-left","8%",3,"ngClass"],[2,"text-align","right","padding-right","5%",3,"ngClass"],[1,"total-Paind"],[2,"text-align","right","padding-right","5%","font-weight","bold"]],template:function(t,e){1&t&&(h.oc(0,"body",0),h.oc(1,"table",1),h.oc(2,"tr"),h.oc(3,"td",2),h.oc(4,"table",3),h.oc(5,"tr"),h.oc(6,"td",4),h.jc(7,"div",5),h.nc(),h.nc(),h.oc(8,"tr"),h.oc(9,"td",6),h.oc(10,"div",7),h.oc(11,"table",8),h.oc(12,"tr"),h.oc(13,"td",9),h.jc(14,"div",10),h.oc(15,"a",11),h.jc(16,"img",12),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(17,"div",7),h.oc(18,"table",8),h.oc(19,"tr"),h.oc(20,"td",13),h.oc(21,"table",14),h.oc(22,"tr"),h.oc(23,"td",15),h.oc(24,"div",16),h.oc(25,"div",17),h.bd(26),h.nc(),h.oc(27,"div",17),h.bd(28),h.nc(),h.oc(29,"div",17),h.bd(30),h.nc(),h.oc(31,"div",17),h.bd(32),h.nc(),h.oc(33,"div",17),h.bd(34),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(35,"tr"),h.oc(36,"td",18),h.oc(37,"div",19),h.bd(38),h.nc(),h.nc(),h.nc(),h.oc(39,"tr"),h.oc(40,"td",20),h.oc(41,"table",3),h.oc(42,"tr"),h.oc(43,"td",6),h.oc(44,"div",7),h.oc(45,"table",8),h.oc(46,"tr"),h.oc(47,"td",15),h.oc(48,"div",21),h.oc(49,"div",22),h.bd(50),h.nc(),h.nc(),h.nc(),h.oc(51,"td",15),h.oc(52,"div",16),h.Zc(53,N,3,2,"div",23),h.Zc(54,O,3,1,"div",23),h.Zc(55,A,2,1,"div",23),h.Zc(56,J,2,1,"div",23),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(57,"div",7),h.oc(58,"table",8),h.oc(59,"tr"),h.oc(60,"td",15),h.oc(61,"div",16),h.oc(62,"div",22),h.bd(63),h.nc(),h.nc(),h.nc(),h.oc(64,"td",15),h.oc(65,"div",16),h.oc(66,"div",22),h.bd(67),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(68,"tr"),h.oc(69,"td",15),h.oc(70,"div",16),h.oc(71,"div",22),h.bd(72," Date: "),h.nc(),h.nc(),h.nc(),h.oc(73,"td",15),h.oc(74,"div",16),h.oc(75,"div",22),h.bd(76),h.Dc(77,"date"),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.Zc(78,_,3,0,"tr",23),h.Zc(79,z,21,3,"tr",23),h.Zc(80,$,3,0,"tr",23),h.Zc(81,Z,20,2,"tr",23),h.Zc(82,H,3,0,"tr",23),h.Zc(83,q,21,3,"tr",23),h.oc(84,"tr"),h.oc(85,"td",24),h.oc(86,"table",25),h.oc(87,"tr"),h.oc(88,"td",26),h.bd(89," Payment Details: "),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(90,"tr"),h.oc(91,"td",27),h.oc(92,"table",28),h.oc(93,"tr",29),h.oc(94,"th",30),h.bd(95," Description "),h.nc(),h.jc(96,"th",31),h.oc(97,"th",32),h.bd(98," Subtotal "),h.nc(),h.jc(99,"th",31),h.nc(),h.Zc(100,G,7,1,"tr",33),h.Zc(101,K,7,1,"tr",33),h.Zc(102,X,7,2,"tr",33),h.Zc(103,Y,7,1,"tr",33),h.oc(104,"tr",34),h.jc(105,"td",35),h.oc(106,"td",36),h.bd(107,"Total:"),h.nc(),h.oc(108,"td",37),h.bd(109),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.jc(110,"tr",38),h.oc(111,"tr"),h.oc(112,"td",39),h.oc(113,"div",40),h.oc(114,"table",3),h.oc(115,"tr"),h.oc(116,"td",41),h.oc(117,"div",42),h.oc(118,"div",43),h.bd(119," Comments: "),h.nc(),h.oc(120,"div",44),h.bd(121),h.nc(),h.oc(122,"div",45),h.bd(123),h.nc(),h.oc(124,"div",46),h.bd(125),h.nc(),h.oc(126,"div",46),h.bd(127),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(128,"tr"),h.oc(129,"td",47),h.oc(130,"table",3),h.jc(131,"tr",48),h.oc(132,"tr"),h.oc(133,"td",49),h.oc(134,"tr"),h.oc(135,"td",27),h.oc(136,"table",50),h.oc(137,"tr",34),h.oc(138,"td",51),h.bd(139),h.nc(),h.jc(140,"td",52),h.oc(141,"td",51),h.bd(142," Client's signature "),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.jc(143,"tr",48),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.nc()),2&t&&(h.Vb(26),h.cd(e.dataJshandyManServices.direction),h.Vb(2),h.cd(e.dataJshandyManServices.mail),h.Vb(2),h.cd(e.dataJshandyManServices.web),h.Vb(2),h.cd(e.dataJshandyManServices.phoneNumber),h.Vb(2),h.cd(e.dataJshandyManServices.taxRegNumber),h.Vb(4),h.cd(e.vistaName),h.Vb(12),h.cd(e.for),h.Vb(3),h.Jc("ngIf",e.invoiceView.client.name),h.Vb(1),h.Jc("ngIf",e.invoiceView.client.fullAdress),h.Vb(1),h.Jc("ngIf",e.invoiceView.client.emails.length>0),h.Vb(1),h.Jc("ngIf",e.invoiceView.client.phoneNumbers.length>0),h.Vb(7),h.dd(" ",e.tipoForm," No: "),h.Vb(4),h.cd(e.invoiceView.idWork),h.Vb(9),h.dd(" ",h.Fc(77,30,e.todayDate,"dd/MM/yyyy")," "),h.Vb(2),h.Jc("ngIf",e.invoiceView.bills.length>0),h.Vb(1),h.Jc("ngIf",e.invoiceView.bills.length>0),h.Vb(1),h.Jc("ngIf",e.invoiceView.services.length>0),h.Vb(1),h.Jc("ngIf",e.invoiceView.services.length>0),h.Vb(1),h.Jc("ngIf",e.invoiceView.subcontractors.length>0),h.Vb(1),h.Jc("ngIf",e.invoiceView.subcontractors.length>0),h.Vb(17),h.Jc("ngIf",e.invoiceView.bills.length>0),h.Vb(1),h.Jc("ngIf",e.invoiceView.services.length>0),h.Vb(1),h.Jc("ngIf",e.invoiceView.services.length>0||e.invoiceView.bills.length>0),h.Vb(1),h.Jc("ngIf",e.invoiceView.subcontractors.length>0),h.Vb(6),h.dd("$",e.coreService.round(e.invoiceView.totalCostWork),""),h.Vb(12),h.dd("",e.dataJshandyManServices.coments1," "),h.Vb(2),h.dd(" ",e.dataJshandyManServices.coments2," "),h.Vb(2),h.dd(" ",e.dataJshandyManServices.coments3," "),h.Vb(2),h.dd(" ",e.dataJshandyManServices.coments4," "),h.Vb(12),h.dd(" ",e.dataJshandyManServices.company," "))},directives:[o.n,o.m,o.l],pipes:[o.f],styles:['a[_ngcontent-%COMP%], body[_ngcontent-%COMP%], table[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{mso-table-lspace:0;mso-table-rspace:0}img[_ngcontent-%COMP%]{-ms-interpolation-mode:bicubic;border:0;height:auto;line-height:100%;outline:none;text-decoration:none}table[_ngcontent-%COMP%]{border-collapse:collapse!important}body[_ngcontent-%COMP%]{height:100%!important;margin:0!important;padding:0!important;width:100%!important}a[x-apple-data-detectors][_ngcontent-%COMP%]{color:inherit!important;text-decoration:none!important;font-size:inherit!important;font-family:inherit!important;font-weight:inherit!important;line-height:inherit!important}@media screen and (max-width:480px){img[_ngcontent-%COMP%]{height:auto;width:120px}.divhandy-mobile[_ngcontent-%COMP%]{font-size:8px;margin:0;color:#0a0a0a;line-height:10px;text-align:right}.divEspacio[_ngcontent-%COMP%]{height:50px!important}.imgen[_ngcontent-%COMP%]{height:50%!important}.divhandy-mobile2[_ngcontent-%COMP%]{font-size:8px;margin:0;color:#0a0a0a;line-height:10px;text-align:right}.mobile-hide[_ngcontent-%COMP%]{display:none!important}.mobile-center[_ngcontent-%COMP%]{text-align:center!important}.table-text[_ngcontent-%COMP%]{font-size:8px!important}.total-Paind[_ngcontent-%COMP%]{text-align:right!important;padding-right:5%!important;font-weight:700!important}.total[_ngcontent-%COMP%]{text-align:right!important}.total[_ngcontent-%COMP%], .total-1[_ngcontent-%COMP%]{padding-right:5%!important;border-top:1px solid #0c0b0b!important;font-size:10px!important;font-weight:700!important}.total-1[_ngcontent-%COMP%]{text-align:justify!important}}div[style*="margin: 16px 0;"][_ngcontent-%COMP%]{margin:0!important}.imgen[_ngcontent-%COMP%]{height:100%;background-size:100%}.imagen2[_ngcontent-%COMP%], .imgen[_ngcontent-%COMP%]{background-image:url(https://i.postimg.cc/jS33pZKh/5a9cda4f-00f8-43fe-bb1c-fc28ebb89a40.png)}.imagen2[_ngcontent-%COMP%]{height:400px;background-size:cover;background-repeat:no-repeat;background-position:50%}.divEspacio[_ngcontent-%COMP%]{height:70px;width:100%}.tdhandy[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica,Arial,sans-serif;font-size:18px;font-weight:400}.divhandy[_ngcontent-%COMP%]{font-size:10px;margin:0;color:#0c0b0b;line-height:18px;text-align:right}.table-text[_ngcontent-%COMP%]{font-size:12px;font-family:arial,sans-serif;border-collapse:collapse;width:100%}.total-Paind[_ngcontent-%COMP%]{text-align:right;padding-right:5%;font-weight:700}.total[_ngcontent-%COMP%]{text-align:right}.total[_ngcontent-%COMP%], .total-1[_ngcontent-%COMP%]{padding-right:5%;border-top:1px solid #0c0b0b;font-size:14px;font-weight:700}.total-1[_ngcontent-%COMP%]{text-align:justify}.corretion[_ngcontent-%COMP%]{text-decoration:line-through;color:#000;-webkit-text-decoration-color:#000;text-decoration-color:#000}.divhandy2[_ngcontent-%COMP%]{font-size:10px;margin:0;color:#0c0b0b;line-height:18px;text-align:start}']});class it{constructor(t,e,i,o,n,c){this.router=t,this.coreService=e,this.fb=i,this._snackBar=o,this.configurationService=n,this.sessionService=c,this.profileForm=this.fb.group({direction:["",S.u.required],mail:["",[S.u.required,et]],web:["",S.u.required],phoneNumber:["",S.u.required],taxRegNumber:["",S.u.required],company:["",S.u.required],deadLineAlert:["",S.u.required],coments1:null,coments2:null,coments3:null,coments4:null}),this.work=JSON.parse(d.a.work2),this.email=new k.a,this.seccion=new T.a,this.subcontractorsTotalProfit=0,this.billTotalOverhead=0,this.servicesTotalOverhead=0,this.servicesTotal=0,this.billLastTotal=0,this.billTotalWichoutTaxesOverhead=0,this.subcontractorsTotal=0,this.dataJshandyManServices=new V.a,this.seccion=this.sessionService.get("UserSession")}ngOnInit(){this.CheckDataSeccion()}CheckDataSeccion(){null!=this.seccion.data&&void 0!==this.seccion.data?this.updateInput(this.seccion.data):this.clearInput()}onSelltings(){this.clearInput(),this.coreService.navigateByUrl("/jshandy-man-services/menu/configuration/menu")}openSnackBar(t,e){this._snackBar.open(t,e)}clearInput(){this.profileForm.patchValue({direction:"",mail:"",web:"",phoneNumber:"",taxRegNumber:"",company:"",coments1:"",coments2:"",coments3:"",coments4:"",deadLineAlert:""}),this.dataJshandyManServices.userCode=this.seccion.userCode,this.dataJshandyManServices.active=!0}updateInput(t){this.profileForm.patchValue({direction:t.direction,mail:t.mail,web:t.mail,phoneNumber:t.phoneNumber,taxRegNumber:t.taxRegNumber,company:t.company,coments1:t.coments1,coments2:t.coments2,coments3:t.coments3,coments4:t.coments4,deadLineAlert:t.deadLineAlert}),this.dataJshandyManServices=t,this.dataJshandyManServices.userCode=this.seccion.userCode,this.dataJshandyManServices.active=!0,this.total()}updateInputDirection(){this.dataJshandyManServices.direction=this.profileForm.value.direction}updateInputMail(){this.dataJshandyManServices.mail=this.profileForm.value.mail}updateInputWeb(){this.dataJshandyManServices.web=this.profileForm.value.web}updateInputPhoneNumber(){this.dataJshandyManServices.phoneNumber=this.profileForm.value.phoneNumber}updateInputTaxRegNumber(){this.dataJshandyManServices.taxRegNumber=this.profileForm.value.taxRegNumber}updateInputCompany(){this.dataJshandyManServices.company=this.profileForm.value.company}updateInputComents1(){this.dataJshandyManServices.coments1=this.profileForm.value.coments1}updateInputComents2(){this.dataJshandyManServices.coments2=this.profileForm.value.coments2}updateInputComents3(){this.dataJshandyManServices.coments3=this.profileForm.value.coments3}updateInputComents4(){this.dataJshandyManServices.coments4=this.profileForm.value.coments4}updateInputDeadLineAlert(){this.dataJshandyManServices.deadLineAlert=this.profileForm.value.deadLineAlert}total(){let t=0,e=0,i=0,o=0,n=0,c=0,a=0;if(this.servicesTotal=0,this.subcontractorsTotal=0,this.billLastTotal=0,this.subcontractorsTotalProfit=0,null!=this.work.bills&&void 0!==this.work.bills&&this.work.bills.length>0&&this.work.bills.forEach(i=>{i.itemDeliteEdit||(t+=i.billTotal,e+=i.billTotalWichoutTaxes)}),this.billTotalOverhead=this.calculateOverheads(t),this.billTotalWichoutTaxesOverhead=this.calculateOverheads(e),a=e,this.billLastTotal=t,null!=this.work.services&&void 0!==this.work.services&&this.work.services.length>0&&(this.work.services.forEach(t=>{t.itemDeliteEdit||(i+=t.servicesCost)}),this.servicesTotalOverhead=this.calculateOverheads(i),this.servicesTotal=i),null!=this.work.subcontractors&&void 0!==this.work.subcontractors&&this.work.subcontractors.length>0){let t=0;this.work.subcontractors.forEach(e=>{e.itemDeliteEdit||(this.subcontractorsTotal+=e.totalCost,c+=e.costOfwork,void 0!==e.billListSubcontractor&&null!=e.billListSubcontractor&&e.billListSubcontractor.length>0&&e.billListSubcontractor.forEach(e=>{t+=e.billTotal}),e.profitCalculation=(e.costOfwork+t)*(e.profit/100),this.subcontractorsTotalProfit+=this.coreService.round(e.profitCalculation))})}o=this.servicesTotal+a+this.subcontractorsTotal+this.servicesTotalOverhead+this.billTotalWichoutTaxesOverhead,n=this.servicesTotal+this.subcontractorsTotal+this.billLastTotal+this.servicesTotalOverhead+this.billTotalOverhead;const r=this.coreService.round(o),s=this.coreService.round(n);this.work.totalCostWork=s,this.work.totalCostWorkWithoutTaxes=r}calculateOverheads(t){let e;return void 0!==this.work.overhead&&null!=this.work.overhead?(e=t*(this.work.overhead/100),this.coreService.round(e)):this.coreService.round(t)}send(){this.configurationService.sendConfigurationData(this.dataJshandyManServices).subscribe(t=>{this.notification=null!=t.idDataConfig?"the template configuration was saved":'"An error occurred while trying to save the template configuration try again later"',null!=t.idDataConfig&&(this.seccion.data=t,this.sessionService.set("UserSession",this.seccion),this.onSelltings()),this.openSnackBar(this.notification,"Close")},t=>{console.log("Error",t),this.notification='"An error occurred while trying to save the template configuration try again late"',this.openSnackBar(this.notification,"Close")})}}it.\u0275fac=function(t){return new(t||it)(h.ic(s.c),h.ic(v.a),h.ic(S.d),h.ic(p.a),h.ic(f),h.ic(P.a))},it.\u0275cmp=h.cc({type:it,selectors:[["app-data-configuration"]],decls:86,vars:32,consts:[[1,"example-button-row"],[1,"example-flex-container"],["mat-icon-button","","aria-label","vertical three dot icon",3,"click"],[1,"h4","text-center","font-weight-light","p-1","textTitle","mb-2"],[1,"container-fluid"],[1,"row"],[1,"col-sm-7"],[1,"container"],[1,"col-12",3,"formGroup"],[1,"border","p-2","border","fondoForm","mat-elevation-z4"],[1,"h4","text-center","font-weight-light","p-1","textTitle"],["for","direction",1,"m-1","textColor"],[1,"input-group","mb-3"],["type","text","formControlName","direction","id","direction","placeholder","Address","aria-label","direction","aria-describedby","basic-addon2",1,"form-control",3,"keyup"],["for","mailusername",1,"m-1","textColor"],["type","email","formControlName","mail","id","mail","placeholder","Company Email","aria-label","mail","aria-describedby","basic-addon2",1,"form-control",3,"keyup"],["type","text","formControlName","web","id","web","placeholder","Company web","aria-label","web","aria-describedby","basic-addon2",1,"form-control",3,"keyup"],["for","phoneNumber",1,"m-1","textColor"],["type","text","formControlName","phoneNumber","id","phoneNumber","placeholder","Company Phone Number","aria-label","phoneNumber","aria-describedby","basic-addon2",1,"form-control",3,"keyup"],["for","taxRegNumber",1,"m-1","textColor"],["matTooltip","What is a tax registration number? This nine-digit number is assigned by the IRS to identify businesses for tax purposes","matTooltipClass","tooltip-tooltip-blue"],["tooltip","matTooltip"],["type","text","formControlName","taxRegNumber","id","taxRegNumber","placeholder","","aria-label","taxRegNumber","aria-describedby","basic-addon2",1,"form-control",3,"keyup"],["for","company",1,"m-1","textColor"],["type","text","formControlName","company","id","company","placeholder","Company Name","aria-label","company","aria-describedby","basic-addon2",1,"form-control",3,"keyup"],[1,"border","p-2",2,"background-color","rgb(235, 235, 235)"],["for","coments1",1,"m-1","textColor"],["placeholder","Body coments*","formControlName","coments1","aria-label","coments1","id","coments1",1,"form-control",3,"keyup"],["for","coments2",1,"m-1","textColor"],["type","text","formControlName","coments2","id","coments2","placeholder","coments","aria-label","coments2","aria-describedby","basic-addon2",1,"form-control",3,"keyup"],["for","coments3",1,"m-1","textColor"],["type","text","formControlName","coments3","id","coments3","placeholder","coments","aria-label","coments3","aria-describedby","basic-addon2",1,"form-control",3,"keyup"],["for","coments4",1,"m-1","textColor"],["type","text","formControlName","coments4","id","coments4","placeholder","coments","aria-label","coments4","aria-describedby","basic-addon2",1,"form-control",3,"keyup"],["for","deadLineAlert",1,"m-1","textColor"],["matTooltip","Enter the number of days before the dedline to start the alerts.","matTooltipClass","tooltip-tooltip-blue"],["type","text","formControlName","deadLineAlert","id","deadLineAlert","placeholder","deadLineAlert","aria-label","deadLineAlert","aria-describedby","basic-addon2",1,"form-control",3,"keyup"],[1,"d-flex","justify-content-center","mt-2"],[1,"btn","btn-primary","m-1",3,"click"],[1,"col-sm-5","border","mat-elevation-z4"],[3,"invoiceView","printProduct","profitCalculation","billTotalOverhead","servicesTotalOverhead","servicesTotal","subcontractorsTotal","billLastTotal","dataJshandyManServices"]],template:function(t,e){1&t&&(h.oc(0,"section"),h.oc(1,"div",0),h.oc(2,"div",1),h.oc(3,"button",2),h.yc("click",function(){return e.onSelltings()}),h.oc(4,"mat-icon"),h.bd(5,"arrow_back_ios"),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(6,"div",3),h.bd(7," Data Management configuration\n"),h.nc(),h.oc(8,"div",4),h.oc(9,"div",5),h.oc(10,"div",6),h.oc(11,"div",7),h.oc(12,"form",8),h.oc(13,"div",9),h.oc(14,"div",10),h.bd(15," Company Data: "),h.nc(),h.oc(16,"label",11),h.bd(17," Address:"),h.nc(),h.oc(18,"div",12),h.oc(19,"input",13),h.yc("keyup",function(){return e.updateInputDirection()}),h.nc(),h.nc(),h.oc(20,"label",14),h.bd(21,"Email:"),h.nc(),h.oc(22,"div",12),h.oc(23,"input",15),h.yc("keyup",function(){return e.updateInputMail()}),h.nc(),h.nc(),h.oc(24,"label",11),h.bd(25,"Web:"),h.nc(),h.oc(26,"div",12),h.oc(27,"input",16),h.yc("keyup",function(){return e.updateInputWeb()}),h.nc(),h.nc(),h.oc(28,"label",17),h.bd(29,"Phone Number:"),h.nc(),h.oc(30,"div",12),h.oc(31,"input",18),h.yc("keyup",function(){return e.updateInputPhoneNumber()}),h.nc(),h.nc(),h.oc(32,"label",19),h.bd(33," Tax Registration Number "),h.oc(34,"samp",20,21),h.oc(36,"mat-icon"),h.bd(37,"help"),h.nc(),h.nc(),h.bd(38," : "),h.nc(),h.oc(39,"div",12),h.oc(40,"input",22),h.yc("keyup",function(){return e.updateInputTaxRegNumber()}),h.nc(),h.nc(),h.oc(41,"label",23),h.bd(42,"Company Name:"),h.nc(),h.oc(43,"div",12),h.oc(44,"input",24),h.yc("keyup",function(){return e.updateInputCompany()}),h.nc(),h.nc(),h.jc(45,"br"),h.nc(),h.oc(46,"div",25),h.oc(47,"div",10),h.bd(48," Coments for template: "),h.nc(),h.oc(49,"label",26),h.bd(50,"Body coments:"),h.nc(),h.oc(51,"div",12),h.oc(52,"textarea",27),h.yc("keyup",function(){return e.updateInputComents1()}),h.nc(),h.nc(),h.oc(53,"label",28),h.bd(54,"coments2:"),h.nc(),h.oc(55,"div",12),h.oc(56,"input",29),h.yc("keyup",function(){return e.updateInputComents2()}),h.nc(),h.nc(),h.oc(57,"label",30),h.bd(58,"coments3:"),h.nc(),h.oc(59,"div",12),h.oc(60,"input",31),h.yc("keyup",function(){return e.updateInputComents3()}),h.nc(),h.nc(),h.oc(61,"label",32),h.bd(62,"coments4:"),h.nc(),h.oc(63,"div",12),h.oc(64,"input",33),h.yc("keyup",function(){return e.updateInputComents4()}),h.nc(),h.nc(),h.jc(65,"br"),h.nc(),h.oc(66,"div",25),h.oc(67,"div",10),h.bd(68," Deadline alert settings: "),h.nc(),h.oc(69,"label",34),h.bd(70," Days for Deadline alert notification "),h.oc(71,"samp",35,21),h.oc(73,"mat-icon"),h.bd(74,"info"),h.nc(),h.nc(),h.bd(75,": "),h.nc(),h.oc(76,"div",12),h.oc(77,"input",36),h.yc("keyup",function(){return e.updateInputDeadLineAlert()}),h.nc(),h.nc(),h.jc(78,"br"),h.nc(),h.nc(),h.oc(79,"div",37),h.oc(80,"button",38),h.yc("click",function(){return e.send()}),h.bd(81,"Save"),h.nc(),h.oc(82,"button",38),h.yc("click",function(){return e.onSelltings()}),h.bd(83,"Cancel"),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(84,"div",39),h.jc(85,"app-data-configuration-view",40),h.nc(),h.nc(),h.nc()),2&t&&(h.Vb(12),h.Jc("formGroup",e.profileForm),h.Vb(7),h.ac("is-invalid",e.profileForm.get("direction").invalid&&e.profileForm.get("direction").touched),h.Vb(4),h.ac("is-invalid",e.profileForm.get("mail").invalid&&e.profileForm.get("mail").touched),h.Vb(4),h.ac("is-invalid",e.profileForm.get("web").invalid&&e.profileForm.get("web").touched),h.Vb(4),h.ac("is-invalid",e.profileForm.get("phoneNumber").invalid&&e.profileForm.get("phoneNumber").touched),h.Vb(9),h.ac("is-invalid",e.profileForm.get("taxRegNumber").invalid&&e.profileForm.get("taxRegNumber").touched),h.Vb(4),h.ac("is-invalid",e.profileForm.get("company").invalid&&e.profileForm.get("company").touched),h.Vb(8),h.ac("is-invalid",e.profileForm.get("coments1").invalid&&e.profileForm.get("coments1").touched),h.Vb(4),h.ac("is-invalid",e.profileForm.get("coments2").invalid&&e.profileForm.get("coments2").touched),h.Vb(4),h.ac("is-invalid",e.profileForm.get("coments3").invalid&&e.profileForm.get("coments3").touched),h.Vb(4),h.ac("is-invalid",e.profileForm.get("coments4").invalid&&e.profileForm.get("coments4").touched),h.Vb(13),h.ac("is-invalid",e.profileForm.get("deadLineAlert").invalid&&e.profileForm.get("deadLineAlert").touched),h.Vb(8),h.Jc("invoiceView",e.work)("printProduct",e.email.printProduct)("profitCalculation",e.subcontractorsTotalProfit)("billTotalOverhead",e.billTotalOverhead)("servicesTotalOverhead",e.servicesTotalOverhead)("servicesTotal",e.servicesTotal)("subcontractorsTotal",e.subcontractorsTotal)("billLastTotal",e.billLastTotal)("dataJshandyManServices",e.dataJshandyManServices))},directives:[y.a,w.a,S.v,S.n,S.g,S.c,S.m,S.f,F.a,tt],styles:[".tooltip-tooltip-blue{background:#4611b0}"],encapsulation:2});class ot{constructor(){this.host="smtp.gmail.com",this.port="587"}}class nt{constructor(){this.activo=!0}}function ct(t){return/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i.test(t.value)?null:{invalidEmail:!0}}class at{constructor(t,e,i,o,n,c,a){this.router=t,this.coreService=e,this.fb=i,this._snackBar=o,this.configurationService=n,this.sessionService=c,this.spinnerService=a,this.profileForm=this.fb.group({host:["",S.u.required],port:["",S.u.required],mailusername:["",[S.u.required,ct]],mailpassword:["",S.u.required]}),this.icon="visibility",this.iconUser="visibility",this.seccion=this.sessionService.get("UserSession")}ngOnInit(){this.emailDataConfig=new ot,this.sedDataInView()}onSelltings(){this.clearInput(),this.emailDataConfig=new ot,this.coreService.navigateByUrl("/jshandy-man-services/menu/configuration/menu")}sedDataInView(){this.profileForm.patchValue({host:this.emailDataConfig.host,port:this.emailDataConfig.port})}viewUserName(){const t=document.getElementById("mailusername");"password"==t.getAttribute("type")?(t.setAttribute("type","text"),this.iconUser="visibility_off"):(t.setAttribute("type","password"),this.iconUser="visibility")}viewPassword(){const t=document.getElementById("mailpassword");"password"==t.getAttribute("type")?(t.setAttribute("type","text"),this.icon="visibility_off"):(t.setAttribute("type","password"),this.icon="visibility")}openSnackBar(t,e){this._snackBar.open(t,e)}clearInput(){this.profileForm.patchValue({host:"",port:"",mailusername:"",mailpassword:""})}send(){if(this.profileForm.valid){let t=new ot;null!=this.profileForm.value.host&&(this.emailDataConfig.host=this.profileForm.value.host),null!=this.profileForm.value.port&&(this.emailDataConfig.port=this.profileForm.value.port),null!=this.profileForm.value.mailusername&&(this.emailDataConfig.mailusername=this.profileForm.value.mailusername),null!=this.profileForm.value.mailpassword&&(this.emailDataConfig.mailpassword=this.profileForm.value.mailpassword),t=this.encryptMail(this.emailDataConfig),this.configurationService.sendEmailconfig(t).subscribe(t=>{if(this.notification=t?"the configuration is save":'"An error occurred while trying to save the mail try again later"',this.openSnackBar(this.notification,"Close"),t){this.spinnerService.hide();let t=new nt;t.nota="from automatic generation",t.clave=d.a.CLAVE,t.description=d.a.PARAMETERDESCRIPT,t.valor=this.emailDataConfig.port,this.configurationService.saveParameter(t).subscribe(t=>{t&&this.onSelltings()},t=>{console.log("Error",t),this.notification='"An error occurred while trying to save the parameter configuration"',this.openSnackBar(this.notification,"Close")})}},t=>{console.log("Error",t),this.notification='"An error occurred while trying to save the configuration"',this.openSnackBar(this.notification,"Close")})}else this.notification='"Fill in all the fields Correctly"',this.openSnackBar(this.notification,"Close")}encryptMail(t){let e=new ot;return e.port=this.configurationService.encrypt(t.port),e.host=this.configurationService.encrypt(t.host),e.mailusername=this.configurationService.encrypt(t.mailusername),e.mailpassword=this.configurationService.encrypt(t.mailpassword),e}}at.\u0275fac=function(t){return new(t||at)(h.ic(s.c),h.ic(v.a),h.ic(S.d),h.ic(p.a),h.ic(f),h.ic(P.a),h.ic(g.a))},at.\u0275cmp=h.cc({type:at,selectors:[["app-mail-configuration"]],decls:38,vars:5,consts:[[1,"example-button-row"],[1,"example-flex-container"],["mat-icon-button","","aria-label","vertical three dot icon",3,"click"],[1,"h4","text-center","font-weight-light","p-1","textTitle"],[1,"container"],[1,"col-12",3,"formGroup"],[1,"border","p-2","border","fondoForm","mat-elevation-z4"],["for","host",1,"m-1","textColor"],[1,"input-group","mb-3"],["type","text","formControlName","host","id","host","placeholder","Host server","aria-label","host","aria-describedby","basic-addon2",1,"form-control"],["for","port",1,"m-1","textColor"],["type","text","formControlName","port","id","port","placeholder","Port server","aria-label","port","aria-describedby","basic-addon2",1,"form-control"],["for","mailusername",1,"m-1","textColor"],["type","password","formControlName","mailusername","id","mailusername","placeholder","Email account username","aria-label","mailusername","aria-describedby","basic-addon2",1,"form-control"],["id","basic-addon2",1,"input-group-text",3,"click"],["for","mailpassword",1,"m-1","textColor"],["type","mailpassword","formControlName","mailpassword","id","mailpassword","placeholder","password","aria-label","password","aria-describedby","basic-addon2",1,"form-control"],[1,"d-flex","justify-content-center","mt-2"],[1,"btn","btn-primary","m-1",3,"click"]],template:function(t,e){1&t&&(h.oc(0,"section"),h.oc(1,"div",0),h.oc(2,"div",1),h.oc(3,"button",2),h.yc("click",function(){return e.onSelltings()}),h.oc(4,"mat-icon"),h.bd(5,"arrow_back_ios"),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(6,"div",3),h.bd(7," Mail Management\n"),h.nc(),h.oc(8,"div",4),h.oc(9,"form",5),h.oc(10,"div",6),h.oc(11,"label",7),h.bd(12,"Host:"),h.nc(),h.oc(13,"div",8),h.jc(14,"input",9),h.nc(),h.oc(15,"label",10),h.bd(16,"Port:"),h.nc(),h.oc(17,"div",8),h.jc(18,"input",11),h.nc(),h.oc(19,"label",12),h.bd(20,"Email username:"),h.nc(),h.oc(21,"div",8),h.jc(22,"input",13),h.oc(23,"span",14),h.yc("click",function(){return e.viewUserName()}),h.oc(24,"mat-icon"),h.bd(25),h.nc(),h.nc(),h.nc(),h.oc(26,"label",15),h.bd(27,"Password:"),h.nc(),h.oc(28,"div",8),h.jc(29,"input",16),h.oc(30,"span",14),h.yc("click",function(){return e.viewPassword()}),h.oc(31,"mat-icon"),h.bd(32),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(33,"div",17),h.oc(34,"button",18),h.yc("click",function(){return e.send()}),h.bd(35,"Save"),h.nc(),h.oc(36,"button",18),h.yc("click",function(){return e.onSelltings()}),h.bd(37,"Cancel"),h.nc(),h.nc(),h.nc()),2&t&&(h.Vb(9),h.Jc("formGroup",e.profileForm),h.Vb(13),h.ac("is-invalid",e.profileForm.get("mailusername").invalid&&e.profileForm.get("mailusername").touched),h.Vb(3),h.cd(e.iconUser),h.Vb(7),h.cd(e.icon))},directives:[y.a,w.a,S.v,S.n,S.g,S.c,S.m,S.f],styles:[".textColor1[_ngcontent-%COMP%]{color:#fff}"]});class rt{constructor(){this.discount=0,this.discountcashpayment=0,this.overHead=10,this.taxes=0}}class st{constructor(t,e,i,o,n,c){this.fb=t,this.router=e,this.coreService=i,this._snackBar=o,this.configurationService=n,this.sessionService=c,this.profileForm=this.fb.group({taxes:null,overHead:null,description:null}),this.seccion=this.sessionService.get("UserSession")}ngOnInit(){}openSnackBar(t,e){this._snackBar.open(t,e)}send(){let t=new rt,e=!1;null!=this.profileForm.value.taxes&&(t.taxes=this.profileForm.value.taxes,e=!0),null!=this.profileForm.value.overHead&&(t.overHead=this.profileForm.value.overHead,e=!0),null!=this.profileForm.value.description&&(t.description=this.profileForm.value.description,e=!0),e&&this.configurationService.sendTaxes(t).subscribe(e=>{e?(this.seccion.taxes=t.taxes,this.sessionService.set("UserSession",this.seccion),this.notification=e?"the taxes is save":'"An error occurred while trying to save the taxes try again later"',this.openSnackBar(this.notification,"Close"),this.onSelltings()):(this.notification=e?"the taxes is save":'"An error occurred while trying to save the taxes try again later"',this.openSnackBar(this.notification,"Close"))},t=>{console.log("Error",t),this.notification='"An error occurred while trying to save the taxes"',this.openSnackBar(this.notification,"Close")})}clearInput(){this.profileForm.patchValue({taxes:"",overHead:"",description:""})}sedDataInView(){this.profileForm.patchValue({taxes:this.seccion.taxes})}onSelltings(){this.clearInput(),this.coreService.navigateByUrl("/jshandy-man-services/menu/configuration/menu")}}st.\u0275fac=function(t){return new(t||st)(h.ic(S.d),h.ic(s.c),h.ic(v.a),h.ic(p.a),h.ic(f),h.ic(P.a))},st.\u0275cmp=h.cc({type:st,selectors:[["app-taxes-configuration"]],decls:28,vars:1,consts:[[1,"example-button-row"],[1,"example-flex-container"],["mat-icon-button","","aria-label","vertical three dot icon",3,"click"],[1,"h4","text-center","font-weight-light","p-1","textTitle"],[1,"container"],[1,"col-12",3,"formGroup"],[1,"border","p-2","border","fondoForm","mat-elevation-z4"],["for","taxes",1,"m-1","textColor"],[1,"input-group","mb-3"],["type","number","min","0","formControlName","taxes","id","taxes","placeholder","Taxes in %","aria-label","taxes","aria-describedby","basic-addon2",1,"form-control"],["for","overHead",1,"m-1","textColor"],["type","number","min","0","formControlName","overHead","id","overHead","placeholder","OverHead in %","aria-label","overHead","aria-describedby","basic-addon2",1,"form-control"],["for","description",1,"m-1","textColor"],["type","text","formControlName","description","id","description","placeholder","Description","aria-label","description","aria-describedby","basic-addon2",1,"form-control"],[1,"d-flex","justify-content-center","mt-2"],[1,"btn","btn-primary","m-1",3,"click"]],template:function(t,e){1&t&&(h.oc(0,"section"),h.oc(1,"div",0),h.oc(2,"div",1),h.oc(3,"button",2),h.yc("click",function(){return e.onSelltings()}),h.oc(4,"mat-icon"),h.bd(5,"arrow_back_ios"),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(6,"div",3),h.bd(7," Taxes Management\n"),h.nc(),h.oc(8,"div",4),h.oc(9,"form",5),h.oc(10,"div",6),h.oc(11,"label",7),h.bd(12,"Taxes %:"),h.nc(),h.oc(13,"div",8),h.jc(14,"input",9),h.nc(),h.oc(15,"label",10),h.bd(16,"OverHead:"),h.nc(),h.oc(17,"div",8),h.jc(18,"input",11),h.nc(),h.oc(19,"label",12),h.bd(20,"Description:"),h.nc(),h.oc(21,"div",8),h.jc(22,"input",13),h.nc(),h.nc(),h.nc(),h.oc(23,"div",14),h.oc(24,"button",15),h.yc("click",function(){return e.send()}),h.bd(25,"Save"),h.nc(),h.oc(26,"button",15),h.yc("click",function(){return e.onSelltings()}),h.bd(27,"Cancel"),h.nc(),h.nc(),h.nc()),2&t&&(h.Vb(9),h.Jc("formGroup",e.profileForm))},directives:[y.a,w.a,S.v,S.n,S.g,S.r,S.c,S.m,S.f],styles:[""]});var lt=i("JZ9N"),dt=i("qfBg"),ht=i("jhN1");class pt{constructor(t){this.sanitizer=t}transform(t){return t?this.sanitizer.bypassSecurityTrustUrl(t):null}}function ut(t,e){if(1&t&&(h.oc(0,"div",35),h.oc(1,"samp",36),h.bd(2),h.nc(),h.nc()),2&t){const t=h.Cc();h.Vb(2),h.cd(t.notification)}}pt.\u0275fac=function(t){return new(t||pt)(h.vc(ht.b))},pt.\u0275prov=h.ec({token:pt,factory:pt.\u0275fac,providedIn:"root"});class mt{constructor(t,e,i,o,n,c){this.fb=t,this.coreService=e,this._snackBar=i,this.userService=o,this.sanitiPipe=n,this.sessionService=c,this.profileForm=this.fb.group({userFirsName:null,userLastName:null,mail:null,userName:null,password:null,keyAcces:null,imagen:null,pregunta:null,respuesta:null}),this.icon="visibility",this.iconUser="visibility",this.isNotification=!1,this.haveKeyAcces=!1,this.seccion=this.sessionService.get("UserSession")}ngOnInit(){void 0!==this.seccion&&null!=this.seccion?this.craftImagePreview=this.sanitiPipe.transform(this.seccion.userImagen):this.craftImagePreview="../../../assets/images/user-profile1.png"}openSnackBar(t,e){this._snackBar.open(t,e)}clearInput(){this.profileForm.patchValue({userFirsName:"",userLastName:"",mail:"",userName:"",password:"",keyAcces:"",imagen:"",pregunta:"",respuesta:""})}viewUserName(){const t=document.getElementById("userName");"password"==t.getAttribute("type")?(t.setAttribute("type","text"),this.iconUser="visibility_off"):(t.setAttribute("type","password"),this.iconUser="visibility")}viewPassword(){const t=document.getElementById("password");"password"==t.getAttribute("type")?(t.setAttribute("type","text"),this.icon="visibility_off"):(t.setAttribute("type","password"),this.icon="visibility")}viewKeyAcces(){const t=document.getElementById("keyAcces");"password"==t.getAttribute("type")?(t.setAttribute("type","text"),this.icon="visibility_off"):(t.setAttribute("type","password"),this.icon="visibility")}onCancel(){this.clearInput(),this.coreService.navigateByUrl("/jshandy-man-services/menu/configuration/menu")}onHaveKeyAcces(){this.haveKeyAcces=!this.haveKeyAcces}onFileChange2(t){if(t.target.files&&t.target.files.length>0){const e=new FileReader;e.onload=t=>{this.craftImagePreview=t.target.result,this.craftImagePreviewToSend=t.target.result};const i=t.target.files[0];e.readAsDataURL(i)}}onUpdateUser(){const t=new lt.a;null!=this.profileForm.value.userFirsName&&(t.userFirsName=this.profileForm.value.userFirsName),null!=this.profileForm.value.userLastName&&(t.userLastName=this.profileForm.value.userLastName),null!=this.profileForm.value.mail&&(t.mail=this.profileForm.value.mail),null!=this.profileForm.value.userName&&(t.userName=this.profileForm.value.userName.trim()),null!=this.profileForm.value.password&&(t.password=this.profileForm.value.password.trim()),null!=this.profileForm.value.pregunta&&(t.password=this.profileForm.value.pregunta),null!=this.profileForm.value.respuesta&&(t.password=this.profileForm.value.respuesta),this.craftImagePreviewToSend!==this.seccion.userImagen&&(t.imagen=this.craftImagePreviewToSend),t.userCode=this.seccion.userCode;const e=this.userService.encryptUser(t);this.userService.updateUser(e).subscribe(t=>{t&&this.coreService.logout(),""==t.error&&this.coreService.logout(),"newUserExist01"==t.error&&(this.notification="Username already exist use another username",this.openSnackBar(this.notification,"Close")),"newUserExist00"==t.error&&(this.notification=t.mensaje,this.openSnackBar(this.notification,"Close"))},t=>{console.log("Error",t),this.notification='"An error occurred while trying to save a user"',this.openSnackBar(this.notification,"Close")})}}mt.\u0275fac=function(t){return new(t||mt)(h.ic(S.d),h.ic(v.a),h.ic(p.a),h.ic(dt.a),h.ic(pt),h.ic(P.a))},mt.\u0275cmp=h.cc({type:mt,selectors:[["app-user-config"]],decls:63,vars:7,consts:[[1,"cuerpo"],[1,"centro"],[1,"login"],[1,"example-button-row"],[1,"example-flex-container"],["mat-icon-button","","aria-label","vertical three dot icon",3,"click"],[1,"h4","text-center","font-weight-light","p-1","textTitle"],[1,"m-1"],[1,"caja"],[1,"d-flex","justify-content-center","mt-2",2,"width","100%"],["alt","craftUploaded",1,"imPreview","profileImagen",3,"src"],[1,"d-flex","justify-content-center","m-3","textColor",2,"width","100%"],["type","file","name","photo","id","photo",3,"change"],["fileInput",""],[1,"col-12",3,"formGroup"],[1,"border","p-2","border","fondoForm","mat-elevation-z4"],["for","userFirsName",1,"m-1","textColor"],[1,"input-group","mb-3"],["type","text","formControlName","userFirsName","id","userFirsName","placeholder","User FirsName","aria-label","userFirsName","aria-describedby","basic-addon2",1,"form-control"],["for","userLastName",1,"m-1","textColor"],["type","text","formControlName","userLastName","id","userLastName","placeholder","User LastName","aria-label","userLastName","aria-describedby","basic-addon2",1,"form-control"],["for","mail",1,"m-1","textColor"],["type","email","formControlName","mail",1,"form-control"],["for","userName",1,"m-1","textColor"],["type","password","formControlName","userName","id","userName","placeholder","User name","aria-label","userName","aria-describedby","basic-addon2",1,"form-control"],["id","basic-addon2",1,"input-group-text",3,"click"],["for","password",1,"m-1","textColor"],["type","password","formControlName","password","id","password","placeholder","password","aria-label","password","aria-describedby","basic-addon2",1,"form-control"],["for","pregunta",1,"m-1","textColor"],["type","text","formControlName","pregunta","id","pregunta","placeholder","User Question","aria-label","pregunta","aria-describedby","basic-addon2",1,"form-control"],["for","respuesta",1,"m-1","textColor"],["type","text","formControlName","respuesta","id","respuesta","placeholder","User Answer","aria-label","respuesta","aria-describedby","basic-addon2",1,"form-control"],[1,"d-flex","justify-content-center","mt-2"],["type","button",1,"btn","btn-primary","m-1",3,"click"],["class","m-4","style","text-align: center;",4,"ngIf"],[1,"m-4",2,"text-align","center"],[2,"color","red","font-weight","bolder","font-size","larger"]],template:function(t,e){1&t&&(h.oc(0,"div",0),h.oc(1,"div",1),h.oc(2,"div",2),h.oc(3,"section"),h.oc(4,"div",3),h.oc(5,"div",4),h.oc(6,"button",5),h.yc("click",function(){return e.onCancel()}),h.oc(7,"mat-icon"),h.bd(8,"arrow_back_ios"),h.nc(),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(9,"div",6),h.bd(10," Enter The User Profile Data "),h.nc(),h.oc(11,"div",7),h.oc(12,"div",8),h.jc(13,"br"),h.oc(14,"div"),h.oc(15,"div",9),h.jc(16,"img",10),h.nc(),h.jc(17,"br"),h.oc(18,"div",11),h.oc(19,"input",12,13),h.yc("change",function(t){return e.onFileChange2(t)}),h.nc(),h.nc(),h.nc(),h.oc(21,"form",14),h.oc(22,"div",15),h.oc(23,"label",16),h.bd(24,"FirsName:"),h.nc(),h.oc(25,"div",17),h.jc(26,"input",18),h.nc(),h.oc(27,"label",19),h.bd(28,"LastName:"),h.nc(),h.oc(29,"div",17),h.jc(30,"input",20),h.nc(),h.oc(31,"label",21),h.bd(32,"Email:"),h.nc(),h.oc(33,"div",17),h.jc(34,"input",22),h.nc(),h.oc(35,"label",23),h.bd(36,"UserName:"),h.nc(),h.oc(37,"div",17),h.jc(38,"input",24),h.oc(39,"span",25),h.yc("click",function(){return e.viewUserName()}),h.oc(40,"mat-icon"),h.bd(41),h.nc(),h.nc(),h.nc(),h.oc(42,"label",26),h.bd(43,"Password:"),h.nc(),h.oc(44,"div",17),h.jc(45,"input",27),h.oc(46,"span",25),h.yc("click",function(){return e.viewPassword()}),h.oc(47,"mat-icon"),h.bd(48),h.nc(),h.nc(),h.nc(),h.oc(49,"label",28),h.bd(50,"Question:"),h.nc(),h.oc(51,"div",17),h.jc(52,"input",29),h.nc(),h.oc(53,"label",30),h.bd(54,"Answer:"),h.nc(),h.oc(55,"div",17),h.jc(56,"input",31),h.nc(),h.nc(),h.nc(),h.nc(),h.oc(57,"div",32),h.oc(58,"button",33),h.yc("click",function(){return e.onUpdateUser()}),h.bd(59,"Save User"),h.nc(),h.oc(60,"button",33),h.yc("click",function(){return e.onCancel()}),h.bd(61,"Cancel"),h.nc(),h.nc(),h.Zc(62,ut,3,1,"div",34),h.nc(),h.nc(),h.nc(),h.nc()),2&t&&(h.Vb(16),h.Jc("src",e.craftImagePreview,h.Uc),h.Vb(5),h.Jc("formGroup",e.profileForm),h.Vb(13),h.ac("is-invalid",e.profileForm.get("mail").invalid&&e.profileForm.get("mail").touched),h.Vb(7),h.cd(e.iconUser),h.Vb(7),h.cd(e.icon),h.Vb(14),h.Jc("ngIf",e.isNotification))},directives:[y.a,w.a,S.v,S.n,S.g,S.c,S.m,S.f,o.n],styles:[".profileImagen[_ngcontent-%COMP%]{display:inline-block;width:200px;height:200px;border-radius:50%;background-repeat:no-repeat;background-position:50%;background-size:cover}"]});const bt=[{path:"menu",component:C,canActivate:[r.a]},{path:"user",component:mt,canActivate:[r.a]},{path:"taxes",component:st,canActivate:[r.a]},{path:"data",component:it,canActivate:[r.a]},{path:"mail",component:at,canActivate:[r.a]}];class ft{}ft.\u0275fac=function(t){return new(t||ft)},ft.\u0275mod=h.gc({type:ft}),ft.\u0275inj=h.fc({imports:[[s.e.forChild(bt)],s.e]});class gt{}gt.\u0275fac=function(t){return new(t||gt)},gt.\u0275mod=h.gc({type:gt}),gt.\u0275inj=h.fc({providers:[r.a],imports:[[o.c,c.b,ft,n.a,a.a]]})}}]);