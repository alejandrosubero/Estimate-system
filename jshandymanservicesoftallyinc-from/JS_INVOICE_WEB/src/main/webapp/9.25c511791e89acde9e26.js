(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"NUp/":function(t,i,e){"use strict";e.r(i),e.d(i,"InvoiceModule",function(){return re});var o=e("ofXK"),n=e("ADsi"),c=e("kMz5"),a=e("1kSV"),r=e("tyNb"),l=e("zSib"),s=e("3Pt+"),d=e("0IaG"),h=e("qmPo"),b=e("UMzN"),u=e("RbhS"),m=e("qBFp"),p=e("r9Q/"),f=e("5hrT");class g{constructor(){this.payments=new Array,this.bills=new Array,this.subcontractors=new Array,this.services=new Array}}var v=e("kHcE"),w=e("Ibmz"),y=e("j8Vv"),C=e("ltNV"),k=e("hZln"),x=e("gjWC"),V=e("PRsa"),T=e("cAkE");class P{}class S{}var D=e("fXoL"),O=e("dNgK"),I=e("/t3+"),A=e("kmnG"),J=e("qFsG"),M=e("iadO"),W=e("bTqV");function E(t,i){1&t&&(D.oc(0,"mat-error"),D.bd(1," the Amount to Paind is "),D.oc(2,"strong"),D.bd(3,"required"),D.nc(),D.nc())}function F(t,i){1&t&&(D.oc(0,"mat-error"),D.bd(1," the Description is "),D.oc(2,"strong"),D.bd(3,"required"),D.nc(),D.nc())}function _(t,i){1&t&&(D.oc(0,"mat-error"),D.bd(1," type Payment is "),D.oc(2,"strong"),D.bd(3,"required"),D.nc(),D.nc())}function Z(t,i){1&t&&(D.oc(0,"mat-error"),D.bd(1," Bill Number Asociate of paind is "),D.oc(2,"strong"),D.bd(3,"required"),D.nc(),D.nc())}class j{constructor(t,i,e,o,n){this.snackBar=t,this.fb=i,this.dialog=e,this.dialogRef=o,this.data=n,this.paymentForm=this.fb.group({payday:[null,s.u.required],descriptionOfPaind:[null,s.u.required],amountPaind:[null,s.u.required],typePayment:[null],billNumberAsociate:[null]}),this.edit=!1,this.odlService=new S,this.dialogoPayment=new P,this.title="NEW PAYMENT",n.edit?(this.edit=n.edit,this.payment=this.newpayment(n.atributo),this.title="PAYMENT",this.updateView()):(this.title="NEW PAYMENT",this.payment=new S)}ngOnInit(){}onSave(){this.paymentForm.valid?(this.payment.payday=this.paymentForm.value.payday,this.payment.descriptionOfPaind=this.paymentForm.value.descriptionOfPaind,this.payment.amountPaind=this.paymentForm.value.amountPaind,this.payment.typePayment=this.paymentForm.value.typePayment,this.payment.billNumberAsociate=this.paymentForm.value.billNumberAsociate,this.dialogRef.close(this.payment)):this.snackBar.open("Fill in all required fields","Cerrar")}onCancel(){this.dialogRef.close()}updateView(){this.paymentForm.patchValue({payday:this.payment.payday,descriptionOfPaind:this.payment.descriptionOfPaind,amountPaind:this.payment.amountPaind,typePayment:this.payment.typePayment,billNumberAsociate:this.payment.billNumberAsociate})}newpayment(t){const i=new S;return void 0!==t.payday&&null!=t.payday&&(i.payday=t.payday),void 0!==t.typePayment&&null!=t.typePayment&&(i.typePayment=t.typePayment),void 0!==t.billNumberAsociate&&null!=t.billNumberAsociate&&(i.billNumberAsociate=t.billNumberAsociate),void 0!==t.descriptionOfPaind&&null!=t.descriptionOfPaind&&(i.descriptionOfPaind=t.descriptionOfPaind),void 0!==t.idPayment&&null!=t.idPayment&&(i.idPayment=t.idPayment),void 0!==t.idWork&&null!=t.idWork&&(i.idWork=t.idWork),void 0!==t.amountPaind&&null!=t.amountPaind&&(i.amountPaind=t.amountPaind),void 0!==t.idEstimate&&null!=t.idEstimate&&(i.idEstimate=t.idEstimate),i}addEvent(t,i){this.payment.payday=this.paymentForm.value.payday}onDescription(){this.payment.descriptionOfPaind=this.paymentForm.value.descriptionOfPaind}}j.\u0275fac=function(t){return new(t||j)(D.ic(O.a),D.ic(s.d),D.ic(d.b),D.ic(d.g),D.ic(d.a))},j.\u0275cmp=D.cc({type:j,selectors:[["app-new-paiment"]],decls:39,vars:8,consts:[[1,"mb-3","mt-3"],["novalidate","",1,"container-fluid",3,"formGroup"],[1,"container-fluid"],[1,"input-group","mt-2","d-flex","align-items-center",2,"width","100%"],["for","payday",1,"mr-1"],["appearance","fill",2,"width","80%"],["matInput","","formControlName","payday","required","",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker1",""],[1,"row","mt-1"],[1,"full-width"],["matInput","","type","number","placeholder","Amount to Paind","formControlName","amountPaind","required",""],[4,"ngIf"],["appearance","fill",2,"width","100%"],["matInput","","placeholder","Description","formControlName","descriptionOfPaind","required","",3,"keyup"],["matInput","","placeholder","type Payment","formControlName","typePayment"],["matInput","","placeholder","Bill Number Asociate of paind","formControlName","billNumberAsociate"],[1,"mt-2","mb-2","d-flex","justify-content-center"],["mat-button","",1,"m-1","buttonColorGreen",3,"click"],["mat-button","",1,"m-1","ml-5","buttonColorRed",3,"click"]],template:function(t,i){if(1&t&&(D.oc(0,"p"),D.bd(1,"new-paiment works!"),D.nc(),D.oc(2,"div"),D.oc(3,"header"),D.oc(4,"mat-toolbar"),D.oc(5,"div"),D.bd(6),D.nc(),D.nc(),D.nc(),D.oc(7,"body",0),D.oc(8,"form",1),D.oc(9,"div",2),D.oc(10,"div",3),D.oc(11,"label",4),D.bd(12,"Pay day:"),D.nc(),D.oc(13,"mat-form-field",5),D.oc(14,"input",6),D.yc("dateChange",function(t){return i.addEvent("change",t)}),D.nc(),D.jc(15,"mat-datepicker-toggle",7),D.jc(16,"mat-datepicker",null,8),D.nc(),D.nc(),D.oc(18,"div",9),D.oc(19,"mat-form-field",10),D.jc(20,"input",11),D.Zc(21,E,4,0,"mat-error",12),D.nc(),D.nc(),D.oc(22,"div",9),D.oc(23,"mat-form-field",13),D.oc(24,"textarea",14),D.yc("keyup",function(){return i.onDescription()}),D.nc(),D.Zc(25,F,4,0,"mat-error",12),D.nc(),D.nc(),D.oc(26,"div",9),D.oc(27,"mat-form-field",10),D.jc(28,"input",15),D.Zc(29,_,4,0,"mat-error",12),D.nc(),D.nc(),D.oc(30,"div",9),D.oc(31,"mat-form-field",10),D.jc(32,"input",16),D.Zc(33,Z,4,0,"mat-error",12),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(34,"div",17),D.oc(35,"button",18),D.yc("click",function(){return i.onSave()}),D.bd(36,"Save"),D.nc(),D.oc(37,"button",19),D.yc("click",function(){return i.onCancel()}),D.bd(38,"cancel"),D.nc(),D.nc(),D.nc(),D.nc()),2&t){const t=D.Rc(17);D.Vb(6),D.cd(i.title),D.Vb(2),D.Jc("formGroup",i.paymentForm),D.Vb(6),D.Jc("matDatepicker",t),D.Vb(1),D.Jc("for",t),D.Vb(6),D.Jc("ngIf",i.paymentForm.controls.amountPaind.hasError("required")),D.Vb(4),D.Jc("ngIf",i.paymentForm.controls.descriptionOfPaind.hasError("required")),D.Vb(4),D.Jc("ngIf",i.paymentForm.controls.typePayment.hasError("required")),D.Vb(4),D.Jc("ngIf",i.paymentForm.controls.billNumberAsociate.hasError("required"))}},directives:[I.a,s.v,s.n,s.g,A.c,J.b,s.c,M.b,s.m,s.f,s.t,M.d,A.h,M.a,s.r,o.n,W.a,A.b],styles:[""]});var N=e("+0xr"),$=e("NFeN");function z(t,i){1&t&&(D.oc(0,"th",11),D.bd(1,"Description"),D.nc())}function L(t,i){if(1&t&&(D.oc(0,"td",12),D.bd(1),D.nc()),2&t){const t=i.$implicit;D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",t.descriptionOfPaind," ")}}function R(t,i){1&t&&(D.oc(0,"th",11),D.bd(1,"Amount Paind"),D.nc())}function B(t,i){if(1&t&&(D.oc(0,"td",13),D.bd(1),D.nc()),2&t){const t=i.$implicit;D.Vb(1),D.dd(" ",t.amountPaind," ")}}function q(t,i){1&t&&(D.oc(0,"th",11),D.bd(1,"Type Payment"),D.nc())}function H(t,i){if(1&t&&(D.oc(0,"td",13),D.bd(1),D.nc()),2&t){const t=i.$implicit;D.Vb(1),D.dd(" ",t.typePayment," ")}}function Q(t,i){1&t&&(D.oc(0,"th",11),D.bd(1,"Pay Day"),D.nc())}function G(t,i){if(1&t&&(D.oc(0,"td",13),D.bd(1),D.Dc(2,"date"),D.nc()),2&t){const t=i.$implicit;D.Vb(1),D.dd(" ",D.Fc(2,1,t.payday,"dd/MM/yyyy")," ")}}function U(t,i){1&t&&(D.oc(0,"th",11),D.bd(1,"Actiones"),D.nc())}function Y(t,i){if(1&t){const t=D.pc();D.oc(0,"td",13),D.oc(1,"mat-icon",14),D.yc("click",function(){D.Tc(t);const e=i.$implicit;return D.Cc().onRemove(e)}),D.bd(2,"delete_forever"),D.nc(),D.oc(3,"mat-icon",15),D.yc("click",function(){D.Tc(t);const e=i.$implicit;return D.Cc().onAddNew(!0,e)}),D.bd(4,"create"),D.nc(),D.nc()}}function K(t,i){1&t&&D.jc(0,"tr",16)}function X(t,i){1&t&&D.jc(0,"tr",17)}class tt{constructor(t){this.dialog=t,this.displayedColumns=["description","amountPaind","typePayment","payday","actions"],this.dataSourcePayment=new N.l,this.edidPaymentEvent=new D.u,this.deletePayment=new D.u}ngOnChanges(t){this.updatedataSourse(this.paymentlist)}ngOnInit(){void 0!==this.paymentlist&&this.paymentlist.length>0&&(this.dataSourcePayment.data=this.paymentlist)}updatedataSourse(t){this.paymentlist=t,this.dataSourcePayment.data=this.paymentlist}onAddNew(t,i){let e=new S;void 0!==t&&null!=t&&t?e=i:t=!1;const o=new d.d;o.disableClose=!0,o.autoFocus=!0,o.width="auto",o.height="auto",o.data={atributo:e,edit:t};this.dialog.open(j,o).afterClosed().subscribe(t=>{if(void 0!==t){const e=this.paymentlist.filter(t=>t!==i);this.deletePayment.emit(i),e.push(t),this.edidPaymentEvent.emit(t),this.paymentlist=e,this.updatedataSourse(this.paymentlist)}})}onRemove(t){this.notificationRemove(t)}notificationRemove(t){const i=new d.d;i.disableClose=!0,i.autoFocus=!0,i.width="45%",i.height="auto",i.data={title:" Table data deletion alert",msg:"Are you sure you want to delete the service?",cancel:"Cancel",confirm:"Confirm"};this.dialog.open(C.a,i).afterClosed().subscribe(i=>{if(i){const i=this.paymentlist.filter(i=>i!=t);this.paymentlist=i,this.updatedataSourse(this.paymentlist),this.deletePayment.emit(t)}})}}tt.\u0275fac=function(t){return new(t||tt)(D.ic(d.b))},tt.\u0275cmp=D.cc({type:tt,selectors:[["app-payment-list"]],inputs:{paymentlist:"paymentlist"},outputs:{edidPaymentEvent:"edidPaymentEvent",deletePayment:"deletePayment"},features:[D.Tb],decls:18,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","amountPaind"],["mat-cell","",4,"matCellDef"],["matColumnDef","typePayment"],["matColumnDef","payday"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-cell",""],[2,"cursor","pointer","color","rgb(202, 5, 5)",3,"click"],[2,"cursor","pointer","color","black",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(D.oc(0,"table",0),D.mc(1,1),D.Zc(2,z,2,0,"th",2),D.Zc(3,L,2,2,"td",3),D.lc(),D.mc(4,4),D.Zc(5,R,2,0,"th",2),D.Zc(6,B,2,1,"td",5),D.lc(),D.mc(7,6),D.Zc(8,q,2,0,"th",2),D.Zc(9,H,2,1,"td",5),D.lc(),D.mc(10,7),D.Zc(11,Q,2,0,"th",2),D.Zc(12,G,3,4,"td",5),D.lc(),D.mc(13,8),D.Zc(14,U,2,0,"th",2),D.Zc(15,Y,5,0,"td",5),D.lc(),D.Zc(16,K,1,0,"tr",9),D.Zc(17,X,1,0,"tr",10),D.nc()),2&t&&(D.Jc("dataSource",i.dataSourcePayment),D.Vb(16),D.Jc("matHeaderRowDef",i.displayedColumns),D.Vb(1),D.Jc("matRowDefColumns",i.displayedColumns))},directives:[N.k,N.c,N.e,N.b,N.g,N.j,N.d,N.a,o.l,$.a,N.f,N.i],pipes:[o.f],styles:["table[_ngcontent-%COMP%]{width:100%}"]});var it=e("+GMX"),et=e("P64T"),ot=e("yZ9z"),nt=e("wyYB"),ct=e("0AbP"),at=e("6gb7"),rt=e("wZkO"),lt=e("Qu3c"),st=e("STbY"),dt=e("XoJ8");function ht(t,i){if(1&t&&(D.oc(0,"div"),D.oc(1,"div",22),D.bd(2),D.nc(),D.nc()),2&t){const t=D.Cc();D.Vb(2),D.ed("",t.invoiceView.client.name," ",t.invoiceView.client.lastName,"")}}function bt(t,i){if(1&t&&(D.oc(0,"div"),D.oc(1,"div",22),D.bd(2),D.nc(),D.nc()),2&t){const t=D.Cc();D.Vb(2),D.cd(t.invoiceView.client.fullAdress)}}function ut(t,i){if(1&t&&(D.oc(0,"div",22),D.bd(1),D.nc()),2&t){const t=i.$implicit;D.Vb(1),D.dd(" ",t.email," ")}}function mt(t,i){if(1&t&&(D.oc(0,"div"),D.Zc(1,ut,2,1,"div",55),D.nc()),2&t){const t=D.Cc();D.Vb(1),D.Jc("ngForOf",t.invoiceView.client.emails)}}function pt(t,i){if(1&t&&(D.oc(0,"div",22),D.bd(1),D.nc()),2&t){const t=i.$implicit;D.Vb(1),D.dd(" ",t.number," ")}}function ft(t,i){if(1&t&&(D.oc(0,"div"),D.Zc(1,pt,2,1,"div",55),D.nc()),2&t){const t=D.Cc();D.Vb(1),D.Jc("ngForOf",t.invoiceView.client.phoneNumbers)}}function gt(t,i){1&t&&(D.oc(0,"tr"),D.oc(1,"td",56),D.bd(2," Product and Materials: "),D.nc(),D.nc())}function vt(t,i){if(1&t&&(D.oc(0,"td",63),D.bd(1),D.nc()),2&t){const t=D.Cc().$implicit;D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",t.description,"")}}function wt(t,i){if(1&t&&(D.oc(0,"td",64),D.bd(1),D.nc()),2&t){const t=D.Cc().$implicit;D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",t.stockNumber,"")}}function yt(t,i){if(1&t&&(D.oc(0,"td",64),D.bd(1),D.nc()),2&t){const t=D.Cc().$implicit;D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" $",t.totalPriceWithOupTaxes,"")}}function Ct(t,i){if(1&t&&(D.oc(0,"td",64),D.bd(1),D.nc()),2&t){const t=D.Cc().$implicit;D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" $",t.totalPriceWithTaxes,"")}}function kt(t,i){if(1&t&&(D.oc(0,"tr",36),D.Zc(1,vt,2,2,"td",61),D.Zc(2,wt,2,2,"td",62),D.Zc(3,yt,2,2,"td",62),D.Zc(4,Ct,2,2,"td",62),D.nc()),2&t){const t=D.Cc(2);D.Vb(1),D.Jc("ngIf",t.listProduct.length>0),D.Vb(1),D.Jc("ngIf",t.listProduct.length>0),D.Vb(1),D.Jc("ngIf",t.listProduct.length>0),D.Vb(1),D.Jc("ngIf",t.listProduct.length>0)}}function xt(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",63),D.bd(2),D.nc(),D.oc(3,"td",64),D.bd(4),D.nc(),D.oc(5,"td",64),D.bd(6),D.nc(),D.oc(7,"td",64),D.bd(8),D.nc(),D.nc()),2&t){const t=i.$implicit,e=D.Cc(2);D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",t.description,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",e.billQuantity,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" $",t.billTotalWichoutTaxes,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" $",t.billTotal,"")}}function Vt(t,i){if(1&t&&(D.oc(0,"tr"),D.oc(1,"td",29),D.oc(2,"table",30),D.oc(3,"tr",31),D.oc(4,"th",32),D.bd(5," Description "),D.nc(),D.oc(6,"th",33),D.bd(7," Quantity "),D.nc(),D.oc(8,"th",33),D.bd(9," Rate "),D.nc(),D.oc(10,"th",33),D.bd(11," Amount "),D.nc(),D.nc(),D.Zc(12,kt,5,4,"tr",57),D.Zc(13,xt,9,8,"tr",57),D.oc(14,"tr",36),D.jc(15,"td",37),D.jc(16,"td",58),D.oc(17,"td",59),D.bd(18," Subtotal:"),D.nc(),D.oc(19,"td",60),D.bd(20),D.nc(),D.nc(),D.nc(),D.nc(),D.nc()),2&t){const t=D.Cc();D.Vb(12),D.Jc("ngForOf",t.listProduct),D.Vb(1),D.Jc("ngForOf",t.listbills),D.Vb(7),D.dd(" $",t.coreService.round(t.billLastTotal)," ")}}function Tt(t,i){1&t&&(D.oc(0,"tr"),D.oc(1,"td",56),D.bd(2," Service: "),D.nc(),D.nc())}function Pt(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",63),D.bd(2),D.nc(),D.oc(3,"td",64),D.bd(4),D.nc(),D.oc(5,"td",64),D.bd(6),D.nc(),D.oc(7,"td",64),D.bd(8),D.nc(),D.nc()),2&t){const t=i.$implicit,e=D.Cc(2);D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",t.descriptionOfServicesCost,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",e.serviceQuantity,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" $",t.servicesCost,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" $",t.servicesCost,"")}}function St(t,i){if(1&t&&(D.oc(0,"tr"),D.oc(1,"td",29),D.oc(2,"table",30),D.oc(3,"tr",31),D.oc(4,"th",32),D.bd(5," Description "),D.nc(),D.oc(6,"th",33),D.bd(7," Quantity "),D.nc(),D.oc(8,"th",33),D.bd(9," Rate "),D.nc(),D.oc(10,"th",33),D.bd(11," Amount "),D.nc(),D.nc(),D.Zc(12,Pt,9,8,"tr",57),D.oc(13,"tr",36),D.jc(14,"td",37),D.jc(15,"td",58),D.oc(16,"td",59),D.bd(17," Subtotal:"),D.nc(),D.oc(18,"td",60),D.bd(19),D.nc(),D.nc(),D.nc(),D.nc(),D.nc()),2&t){const t=D.Cc();D.Vb(12),D.Jc("ngForOf",t.invoiceView.services),D.Vb(7),D.dd(" $",t.coreService.round(t.servicesTotal)," ")}}function Dt(t,i){1&t&&(D.oc(0,"tr"),D.oc(1,"td",56),D.bd(2," SubContractors: "),D.nc(),D.nc())}function Ot(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",63),D.bd(2),D.nc(),D.oc(3,"td",64),D.bd(4),D.nc(),D.oc(5,"td",64),D.bd(6),D.nc(),D.oc(7,"td",64),D.bd(8),D.nc(),D.nc()),2&t){const t=i.$implicit,e=D.Cc(2);D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",t.description,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",e.subContractortsQuantity," "),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",e.coreService.round(t.totalCost-t.profitCalculation),""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",e.coreService.round(t.totalCost-t.profitCalculation),"")}}function It(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",37),D.bd(2),D.nc(),D.oc(3,"td",58),D.bd(4),D.nc(),D.oc(5,"td",58),D.bd(6),D.nc(),D.oc(7,"td",58),D.bd(8),D.nc(),D.nc()),2&t){const t=D.Cc(2);D.Vb(2),D.dd(" Profit ",t.profit,"%"),D.Vb(2),D.dd(" ",t.serviceQuantity," "),D.Vb(2),D.dd(" $",t.profitCalculation," "),D.Vb(2),D.dd(" $",t.profitCalculation," ")}}function At(t,i){if(1&t&&(D.oc(0,"tr"),D.oc(1,"td",29),D.oc(2,"table",30),D.oc(3,"tr",31),D.oc(4,"th",32),D.bd(5," Description "),D.nc(),D.oc(6,"th",33),D.bd(7," Quantity "),D.nc(),D.oc(8,"th",33),D.bd(9," Rate "),D.nc(),D.oc(10,"th",33),D.bd(11," Amount "),D.nc(),D.nc(),D.Zc(12,Ot,9,8,"tr",57),D.Zc(13,It,9,4,"tr",35),D.oc(14,"tr",36),D.jc(15,"td",37),D.jc(16,"td",58),D.oc(17,"td",59),D.bd(18," Subtotal:"),D.nc(),D.oc(19,"td",60),D.bd(20),D.nc(),D.nc(),D.nc(),D.nc(),D.nc()),2&t){const t=D.Cc();D.Vb(12),D.Jc("ngForOf",t.invoiceView.subcontractors),D.Vb(1),D.Jc("ngIf",t.showProfit),D.Vb(7),D.dd(" ",t.coreService.round(t.subcontractorsTotal)," ")}}function Jt(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",37),D.bd(2," Materials and Product"),D.nc(),D.jc(3,"td",65),D.oc(4,"td",65),D.bd(5),D.nc(),D.jc(6,"td",66),D.nc()),2&t){const t=D.Cc();D.Vb(5),D.dd(" $",t.coreService.round(t.billLastTotal),"")}}function Mt(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",37),D.bd(2,"Labor Cost Service"),D.nc(),D.jc(3,"td",65),D.oc(4,"td",65),D.bd(5),D.nc(),D.jc(6,"td",66),D.nc()),2&t){const t=D.Cc();D.Vb(5),D.dd("$",t.coreService.round(t.servicesTotal),"")}}function Wt(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",37),D.bd(2),D.nc(),D.jc(3,"td",65),D.oc(4,"td",65),D.bd(5),D.nc(),D.jc(6,"td",66),D.nc()),2&t){const t=D.Cc();D.Vb(2),D.dd("Overhead ",t.invoiceView.overhead,"%"),D.Vb(3),D.dd("$",t.coreService.round(t.servicesTotalOverhead+t.billTotalOverhead),"")}}function Et(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",37),D.bd(2,"subContractors"),D.nc(),D.jc(3,"td",65),D.oc(4,"td",65),D.bd(5),D.nc(),D.jc(6,"td",66),D.nc()),2&t){const t=D.Cc();D.Vb(5),D.dd("$",t.coreService.round(t.subcontractorsTotal),"")}}class Ft{constructor(t){this.coreService=t,this.tipoForm="Invoice",this.for="For:",this.billQuantity=1,this.serviceQuantity=1,this.productQuantity=1,this.subContractortsQuantity=1,this.todayDate=new Date,this.line1=[],this.listbills=new Array,this.listProduct=new Array}ngOnInit(){void 0!==this.invoiceView&&null!=this.invoiceView&&(this.vistaName="Invoice ",this.todayDate=this.invoiceView.createDay,this.showOverhead=!0,this.startView())}startView(){void 0!==this.invoiceView.subcontractors&&null!=this.invoiceView.subcontractors&&this.invoiceView.subcontractors.length>0&&(this.showProfit=!0),this.fillProductInBillTablet(),this.fillBillTablet()}ngOnChanges(t){this.setSubContractorsProfitCalculationForView(),this.startView(),console.log(this.invoiceView)}setSubContractorsProfitCalculationForView(){if(null!=this.invoiceView.subcontractors&&void 0!==this.invoiceView.subcontractors&&this.invoiceView.subcontractors.length>0){let t=0,i=0;this.invoiceView.subcontractors.forEach(e=>{i+=e.costOfwork,void 0!==e.billListSubcontractor&&null!=e.billListSubcontractor&&e.billListSubcontractor.length>0&&e.billListSubcontractor.forEach(i=>{t+=i.billTotal});const o=(e.costOfwork+t)*(e.profit/100);e.profitCalculation=this.coreService.round(o)})}}sedDataClientInView(t){const i=`${this.invoiceView.client.name} ${this.invoiceView.client.lastName}`;this.nameCliente=` ${i}`,this.addressCliente=` ${this.invoiceView.client.fullAdress}`}calculateOverhead(t){let i;return void 0!==this.invoiceView.overhead&&null!=this.invoiceView.overhead?(i=t*(this.invoiceView.overhead/100),i):t}fillProductInBillTablet(){this.listProduct=new Array,this.invoiceView.bills.forEach(t=>{this.printProduct&&void 0!==t.productsAndServices&&null!=t.productsAndServices&&t.productsAndServices.length>0&&Array.prototype.push.apply(this.listProduct,t.productsAndServices)})}fillBillTablet(){let t=0,i=0;this.listbills=new Array,this.invoiceView.bills.forEach(e=>{this.printProduct||(t+=e.billTotalWichoutTaxes,i+=e.billTotal,this.listbills.push(e)),!e.itemDeliteEdit&&this.printProduct&&void 0!==e.productsAndServices&&null!=e.productsAndServices&&0==e.productsAndServices.length&&(t+=e.billTotalWichoutTaxes,i+=e.billTotal,this.listbills.push(e)),e.itemDeliteEdit&&this.printProduct&&void 0!==e.productsAndServices&&null!=e.productsAndServices&&0==e.productsAndServices.length&&this.listbills.push(e)})}}function _t(t,i){if(1&t&&(D.oc(0,"div"),D.oc(1,"div",22),D.bd(2),D.nc(),D.nc()),2&t){const t=D.Cc();D.Vb(2),D.ed("",t.invoiceView.client.name," ",t.invoiceView.client.lastName,"")}}function Zt(t,i){if(1&t&&(D.oc(0,"div"),D.oc(1,"div",22),D.bd(2),D.nc(),D.nc()),2&t){const t=D.Cc();D.Vb(2),D.cd(t.invoiceView.client.fullAdress)}}function jt(t,i){if(1&t&&(D.oc(0,"div",22),D.bd(1),D.nc()),2&t){const t=i.$implicit;D.Vb(1),D.dd(" ",t.email," ")}}function Nt(t,i){if(1&t&&(D.oc(0,"div"),D.Zc(1,jt,2,1,"div",56),D.nc()),2&t){const t=D.Cc();D.Vb(1),D.Jc("ngForOf",t.invoiceView.client.emails)}}function $t(t,i){if(1&t&&(D.oc(0,"div",22),D.bd(1),D.nc()),2&t){const t=i.$implicit;D.Vb(1),D.dd(" ",t.number," ")}}function zt(t,i){if(1&t&&(D.oc(0,"div"),D.Zc(1,$t,2,1,"div",56),D.nc()),2&t){const t=D.Cc();D.Vb(1),D.Jc("ngForOf",t.invoiceView.client.phoneNumbers)}}function Lt(t,i){1&t&&(D.oc(0,"tr"),D.oc(1,"td",57),D.bd(2," Product and Materials: "),D.nc(),D.nc())}function Rt(t,i){if(1&t&&(D.oc(0,"td",63),D.bd(1),D.nc()),2&t){const t=D.Cc().$implicit;D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",t.description,"")}}function Bt(t,i){if(1&t&&(D.oc(0,"td",64),D.bd(1),D.nc()),2&t){const t=D.Cc().$implicit;D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",t.stockNumber,"")}}function qt(t,i){if(1&t&&(D.oc(0,"td",64),D.bd(1),D.nc()),2&t){const t=D.Cc().$implicit;D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" $",t.totalPriceWithOupTaxes,"")}}function Ht(t,i){if(1&t&&(D.oc(0,"td",64),D.bd(1),D.nc()),2&t){const t=D.Cc().$implicit;D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" $",t.totalPriceWithTaxes,"")}}function Qt(t,i){if(1&t&&(D.oc(0,"tr",36),D.Zc(1,Rt,2,2,"td",61),D.Zc(2,Bt,2,2,"td",62),D.Zc(3,qt,2,2,"td",62),D.Zc(4,Ht,2,2,"td",62),D.nc()),2&t){const t=D.Cc(2);D.Vb(1),D.Jc("ngIf",t.listProduct.length>0),D.Vb(1),D.Jc("ngIf",t.listProduct.length>0),D.Vb(1),D.Jc("ngIf",t.listProduct.length>0),D.Vb(1),D.Jc("ngIf",t.listProduct.length>0)}}function Gt(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",63),D.bd(2),D.nc(),D.oc(3,"td",64),D.bd(4),D.nc(),D.oc(5,"td",64),D.bd(6),D.nc(),D.oc(7,"td",64),D.bd(8),D.nc(),D.nc()),2&t){const t=i.$implicit,e=D.Cc(2);D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",t.description,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",e.billQuantity,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" $",t.billTotalWichoutTaxes,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" $",t.billTotal,"")}}function Ut(t,i){if(1&t&&(D.oc(0,"tr"),D.oc(1,"td",29),D.oc(2,"table",30),D.oc(3,"tr",31),D.oc(4,"th",32),D.bd(5," Description "),D.nc(),D.oc(6,"th",33),D.bd(7," Quantity "),D.nc(),D.oc(8,"th",33),D.bd(9," Rate "),D.nc(),D.oc(10,"th",33),D.bd(11," Amount "),D.nc(),D.nc(),D.Zc(12,Qt,5,4,"tr",40),D.Zc(13,Gt,9,8,"tr",40),D.oc(14,"tr",36),D.jc(15,"td",37),D.jc(16,"td",58),D.oc(17,"td",59),D.bd(18," Subtotal:"),D.nc(),D.oc(19,"td",60),D.bd(20),D.nc(),D.nc(),D.nc(),D.nc(),D.nc()),2&t){const t=D.Cc();D.Vb(12),D.Jc("ngForOf",t.listProduct),D.Vb(1),D.Jc("ngForOf",t.listbills),D.Vb(7),D.dd(" $",t.coreService.round(t.billLastTotal)," ")}}function Yt(t,i){1&t&&(D.oc(0,"tr"),D.oc(1,"td",57),D.bd(2," Service: "),D.nc(),D.nc())}function Kt(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",63),D.bd(2),D.nc(),D.oc(3,"td",64),D.bd(4),D.nc(),D.oc(5,"td",64),D.bd(6),D.nc(),D.oc(7,"td",64),D.bd(8),D.nc(),D.nc()),2&t){const t=i.$implicit,e=D.Cc(2);D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",t.descriptionOfServicesCost,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",e.serviceQuantity,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" $",t.servicesCost,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" $",t.servicesCost,"")}}function Xt(t,i){if(1&t&&(D.oc(0,"tr"),D.oc(1,"td",29),D.oc(2,"table",30),D.oc(3,"tr",31),D.oc(4,"th",32),D.bd(5," Description "),D.nc(),D.oc(6,"th",33),D.bd(7," Quantity "),D.nc(),D.oc(8,"th",33),D.bd(9," Rate "),D.nc(),D.oc(10,"th",33),D.bd(11," Amount "),D.nc(),D.nc(),D.Zc(12,Kt,9,8,"tr",40),D.oc(13,"tr",36),D.jc(14,"td",37),D.jc(15,"td",58),D.oc(16,"td",59),D.bd(17," Subtotal:"),D.nc(),D.oc(18,"td",60),D.bd(19),D.nc(),D.nc(),D.nc(),D.nc(),D.nc()),2&t){const t=D.Cc();D.Vb(12),D.Jc("ngForOf",t.invoiceView.services),D.Vb(7),D.dd(" $",t.coreService.round(t.servicesTotal)," ")}}function ti(t,i){1&t&&(D.oc(0,"tr"),D.oc(1,"td",57),D.bd(2," SubContractors: "),D.nc(),D.nc())}function ii(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",63),D.bd(2),D.nc(),D.oc(3,"td",64),D.bd(4),D.nc(),D.oc(5,"td",64),D.bd(6),D.nc(),D.oc(7,"td",64),D.bd(8),D.nc(),D.nc()),2&t){const t=i.$implicit,e=D.Cc(2);D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",t.description,""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",e.subContractortsQuantity," "),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",e.coreService.round(t.totalCost-t.profitCalculation),""),D.Vb(1),D.Jc("ngClass",t.itemDeliteEdit?"tachado":""),D.Vb(1),D.dd(" ",e.coreService.round(t.totalCost-t.profitCalculation),"")}}function ei(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",37),D.bd(2),D.nc(),D.oc(3,"td",58),D.bd(4),D.nc(),D.oc(5,"td",58),D.bd(6),D.nc(),D.oc(7,"td",58),D.bd(8),D.nc(),D.nc()),2&t){const t=D.Cc(2);D.Vb(2),D.dd(" Profit ",t.profit,"%"),D.Vb(2),D.dd(" ",t.serviceQuantity," "),D.Vb(2),D.dd(" $",t.profitCalculation," "),D.Vb(2),D.dd(" $",t.profitCalculation," ")}}function oi(t,i){if(1&t&&(D.oc(0,"tr"),D.oc(1,"td",29),D.oc(2,"table",30),D.oc(3,"tr",31),D.oc(4,"th",32),D.bd(5," Description "),D.nc(),D.oc(6,"th",33),D.bd(7," Quantity "),D.nc(),D.oc(8,"th",33),D.bd(9," Rate "),D.nc(),D.oc(10,"th",33),D.bd(11," Amount "),D.nc(),D.nc(),D.Zc(12,ii,9,8,"tr",40),D.Zc(13,ei,9,4,"tr",35),D.oc(14,"tr",36),D.jc(15,"td",37),D.jc(16,"td",58),D.oc(17,"td",59),D.bd(18," Subtotal:"),D.nc(),D.oc(19,"td",60),D.bd(20),D.nc(),D.nc(),D.nc(),D.nc(),D.nc()),2&t){const t=D.Cc();D.Vb(12),D.Jc("ngForOf",t.invoiceView.subcontractors),D.Vb(1),D.Jc("ngIf",t.showProfit),D.Vb(7),D.dd(" ",t.coreService.round(t.subcontractorsTotal)," ")}}function ni(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",37),D.bd(2,"Materials and Product "),D.nc(),D.jc(3,"td",65),D.oc(4,"td",65),D.bd(5),D.nc(),D.jc(6,"td",66),D.nc()),2&t){const t=D.Cc();D.Vb(5),D.dd(" $",t.coreService.round(t.billLastTotal),"")}}function ci(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",37),D.bd(2,"Labor Cost Service"),D.nc(),D.jc(3,"td",65),D.oc(4,"td",65),D.bd(5),D.nc(),D.jc(6,"td",66),D.nc()),2&t){const t=D.Cc();D.Vb(5),D.dd("$",t.coreService.round(t.servicesTotal),"")}}function ai(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",37),D.bd(2),D.nc(),D.jc(3,"td",65),D.oc(4,"td",65),D.bd(5),D.nc(),D.jc(6,"td",66),D.nc()),2&t){const t=D.Cc();D.Vb(2),D.dd("Overhead ",t.invoiceView.overhead,"%"),D.Vb(3),D.dd("$",t.coreService.round(t.servicesTotalOverhead+t.billTotalOverhead),"")}}function ri(t,i){if(1&t&&(D.oc(0,"tr",36),D.oc(1,"td",37),D.bd(2,"subContractors"),D.nc(),D.jc(3,"td",65),D.oc(4,"td",65),D.bd(5),D.nc(),D.jc(6,"td",66),D.nc()),2&t){const t=D.Cc();D.Vb(5),D.dd("$",t.coreService.round(t.subcontractorsTotal),"")}}function li(t,i){if(1&t&&(D.oc(0,"td",37),D.bd(1),D.nc()),2&t){const t=D.Cc().$implicit;D.Vb(1),D.dd(" ",t.typePayment," ")}}function si(t,i){1&t&&D.jc(0,"td",65)}function di(t,i){if(1&t&&(D.oc(0,"td",65),D.bd(1),D.nc()),2&t){const t=D.Cc().$implicit,i=D.Cc();D.Vb(1),D.dd("- $",i.coreService.round(t.amountPaind),"")}}function hi(t,i){1&t&&D.jc(0,"td",66)}function bi(t,i){if(1&t&&(D.oc(0,"tr",36),D.Zc(1,li,2,1,"td",67),D.Zc(2,si,1,0,"td",68),D.Zc(3,di,2,1,"td",68),D.Zc(4,hi,1,0,"td",69),D.nc()),2&t){const t=D.Cc();D.Vb(1),D.Jc("ngIf",t.invoiceView.payments.length>0),D.Vb(1),D.Jc("ngIf",t.invoiceView.payments.length>0),D.Vb(1),D.Jc("ngIf",t.invoiceView.payments.length>0),D.Vb(1),D.Jc("ngIf",t.invoiceView.payments.length>0)}}Ft.\u0275fac=function(t){return new(t||Ft)(D.ic(et.a))},Ft.\u0275cmp=D.cc({type:Ft,selectors:[["app-view-invoice"]],inputs:{invoiceView:"invoiceView",printProduct:"printProduct",billTotalOverhead:"billTotalOverhead",servicesTotalOverhead:"servicesTotalOverhead",profitCalculation:"profitCalculation",billLastTotal:"billLastTotal",servicesTotal:"servicesTotal",subcontractorsTotal:"subcontractorsTotal",dataJshandyManServices:"dataJshandyManServices"},features:[D.Tb],decls:146,vars:32,consts:[["bgcolor","#eeeeee",2,"margin","0 !important","padding","0 !important","background-color","#f1f0f0"],["border","0","cellpadding","0","cellspacing","0","width","100%"],["align","center","bgcolor","#eeeeee",2,"background-color","#eeeeee"],["align","center","border","0","cellpadding","0","cellspacing","0","width","100%",2,"max-width","600px"],[1,"imgen"],[1,"divEspacio"],["align","center","valign","top","bgcolor","#ffffff",2,"font-size","0","padding","35px"],[2,"display","inline-block","max-width","50%","min-width","100px","vertical-align","top","width","100%"],["align","left","border","0","cellpadding","0","cellspacing","0","width","100%",2,"max-width","300px"],["align","left","valign","top",2,"font-family","Open Sans, Helvetica, Arial, sans-serif","font-size","36px","font-weight","800","line-height","48px"],[2,"height","20px","width","auto"],["href","https://tallyhandyman.com",1,"logo"],["src","http://tallyhandyman.com/wp-content/uploads/2020/02/Logo_tally_handy_man-1.png","alt","Tally handy man",1,"logo-img",2,"width","px"],["align","right","valign","top",2,"font-family","Open Sans, Helvetica, Arial, sans-serif","font-size","48px","font-weight","400","line-height","48px"],["cellspacing","0","cellpadding","0","border","0","align","right"],[1,"tdhandy"],[1,"divhandy"],[1,"divhandy-mobile"],[2,"background-color","#ffffff","text-align","right","line-height","22px","border-bottom","#0c0b0b solid 2px","margin-right","5px"],[2,"margin-right","10px"],["bgcolor","#ffffff",2,"background-color","#ffffff"],[1,"divhandy2",2,"width","100%","height","100%"],[1,"divhandy-mobile2"],[4,"ngIf"],[2,"height","40px","width","100%"],[2,"height","35px","width","100%"],["align","left",2,"padding-top","20px"],["cellspacing","0","cellpadding","0","border","0","width","100%"],["width","75%","align","left",2,"font-family","arial, sans-serif","font-size","16px","font-weight","800","line-height","24px","padding","10px","border-top","2px solid #eeeeee"],["align","left"],[1,"table-text"],[2,"background-color","#fd604b","height","25px"],[2,"text-align","left","padding-left","8%","color","#ffffff"],[2,"text-align","right","padding-right","5%","color","#ffffff"],[2,"text-align","center","padding-right","5%","color","#ffffff"],["style","height: 18px;",4,"ngIf"],[2,"height","18px"],[2,"text-align","left","padding-left","8%"],[1,"total-1"],[1,"total"],[2,"height","2px","width","100%"],["align","center","bgcolor","#ffffff"],[2,"margin-top","10px","padding","35px","background-color","#fffbfbb4"],[2,"font-family","Open Sans, Helvetica, Arial, sans-serif","font-size","14px","font-weight","400"],[2,"font-size","10px","margin","0px","color","#0c0b0b"],[2,"text-align","left","margin-top","20px","margin-bottom","10px"],[2,"text-align","justify","line-height","18px"],[2,"line-height","20px","margin-top","10px","margin-bottom","10px"],[2,"line-height","20px"],["align","center","bgcolor","#ffffff",2,"padding","35px","background-color","#ffffff"],[2,"height","50px","width","100%"],["align","left",2,"font-family","Open Sans, Helvetica, Arial, sans-serif","font-size","14px","font-weight","400","line-height","24px"],[2,"margin-right","20px","margin-top","30px","font-size","12px","font-family","arial, sans-serif","border-collapse","collapse","width","100%","margin-left","50px"],[2,"text-align","center","border-top","#000000 solid 2px"],[2,"width","40px"],["class","divhandy-mobile2",4,"ngFor","ngForOf"],[2,"background-color","#ffffff","text-align","left","font-weight","bold","line-height","22px"],["style","height: 18px;",4,"ngFor","ngForOf"],[2,"text-align","right","padding-right","5%"],[2,"text-align","justify","padding-right","5%","border-top","#0c0b0b solid 1px"],[2,"text-align","right","padding-right","5%","border-top","#0c0b0b solid 1px"],["style","text-align: left; padding-left: 8%;",3,"ngClass",4,"ngIf"],["style","text-align: right; padding-right: 5%;",3,"ngClass",4,"ngIf"],[2,"text-align","left","padding-left","8%",3,"ngClass"],[2,"text-align","right","padding-right","5%",3,"ngClass"],[1,"total-Paind"],[2,"text-align","right","padding-right","5%","font-weight","bold"]],template:function(t,i){1&t&&(D.oc(0,"body",0),D.oc(1,"table",1),D.oc(2,"tr"),D.oc(3,"td",2),D.oc(4,"table",3),D.oc(5,"tr"),D.oc(6,"td",4),D.jc(7,"div",5),D.nc(),D.nc(),D.oc(8,"tr"),D.oc(9,"td",6),D.oc(10,"div",7),D.oc(11,"table",8),D.oc(12,"tr"),D.oc(13,"td",9),D.jc(14,"div",10),D.oc(15,"a",11),D.jc(16,"img",12),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(17,"div",7),D.oc(18,"table",8),D.oc(19,"tr"),D.oc(20,"td",13),D.oc(21,"table",14),D.oc(22,"tr"),D.oc(23,"td",15),D.oc(24,"div",16),D.oc(25,"div",17),D.bd(26),D.nc(),D.oc(27,"div",17),D.bd(28),D.nc(),D.oc(29,"div",17),D.bd(30),D.nc(),D.oc(31,"div",17),D.bd(32),D.nc(),D.oc(33,"div",17),D.bd(34),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(35,"tr"),D.oc(36,"td",18),D.oc(37,"div",19),D.bd(38),D.nc(),D.nc(),D.nc(),D.oc(39,"tr"),D.oc(40,"td",20),D.oc(41,"table",3),D.oc(42,"tr"),D.oc(43,"td",6),D.oc(44,"div",7),D.oc(45,"table",8),D.oc(46,"tr"),D.oc(47,"td",15),D.oc(48,"div",21),D.oc(49,"div",22),D.bd(50),D.nc(),D.nc(),D.nc(),D.oc(51,"td",15),D.oc(52,"div",16),D.Zc(53,ht,3,2,"div",23),D.Zc(54,bt,3,1,"div",23),D.Zc(55,mt,2,1,"div",23),D.Zc(56,ft,2,1,"div",23),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(57,"div",7),D.oc(58,"table",8),D.oc(59,"tr"),D.oc(60,"td",15),D.oc(61,"div",16),D.oc(62,"div",22),D.bd(63),D.nc(),D.nc(),D.nc(),D.oc(64,"td",15),D.oc(65,"div",16),D.oc(66,"div",22),D.bd(67),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(68,"tr"),D.oc(69,"td",15),D.oc(70,"div",16),D.oc(71,"div",22),D.bd(72," Date: "),D.nc(),D.nc(),D.nc(),D.oc(73,"td",15),D.oc(74,"div",16),D.oc(75,"div",22),D.bd(76),D.Dc(77,"date"),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.Zc(78,gt,3,0,"tr",23),D.Zc(79,Vt,21,3,"tr",23),D.Zc(80,Tt,3,0,"tr",23),D.Zc(81,St,20,2,"tr",23),D.jc(82,"tr",24),D.Zc(83,Dt,3,0,"tr",23),D.Zc(84,At,21,3,"tr",23),D.jc(85,"tr",25),D.oc(86,"tr"),D.oc(87,"td",26),D.oc(88,"table",27),D.oc(89,"tr"),D.oc(90,"td",28),D.bd(91," Payment Details: "),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(92,"tr"),D.oc(93,"td",29),D.oc(94,"table",30),D.oc(95,"tr",31),D.oc(96,"th",32),D.bd(97," Description "),D.nc(),D.jc(98,"th",33),D.oc(99,"th",34),D.bd(100," Subtotal "),D.nc(),D.jc(101,"th",33),D.nc(),D.Zc(102,Jt,7,1,"tr",35),D.Zc(103,Mt,7,1,"tr",35),D.Zc(104,Wt,7,2,"tr",35),D.Zc(105,Et,7,1,"tr",35),D.oc(106,"tr",36),D.jc(107,"td",37),D.oc(108,"td",38),D.bd(109,"Total:"),D.nc(),D.oc(110,"td",39),D.bd(111),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.jc(112,"tr",40),D.oc(113,"tr"),D.oc(114,"td",41),D.oc(115,"div",42),D.oc(116,"table",3),D.oc(117,"tr"),D.oc(118,"td",43),D.oc(119,"div",44),D.oc(120,"div",45),D.bd(121," Comments: "),D.nc(),D.oc(122,"div",46),D.bd(123),D.nc(),D.oc(124,"div",47),D.bd(125),D.nc(),D.oc(126,"div",48),D.bd(127),D.nc(),D.oc(128,"div",48),D.bd(129),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(130,"tr"),D.oc(131,"td",49),D.oc(132,"table",3),D.jc(133,"tr",50),D.oc(134,"tr"),D.oc(135,"td",51),D.oc(136,"tr"),D.oc(137,"td",29),D.oc(138,"table",52),D.oc(139,"tr",36),D.oc(140,"td",53),D.bd(141," JS Handyman Services of Tally, Inc "),D.nc(),D.jc(142,"td",54),D.oc(143,"td",53),D.bd(144," Client's signature "),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.jc(145,"tr",50),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc()),2&t&&(D.Vb(26),D.cd(i.dataJshandyManServices.direction),D.Vb(2),D.cd(i.dataJshandyManServices.mail),D.Vb(2),D.cd(i.dataJshandyManServices.web),D.Vb(2),D.cd(i.dataJshandyManServices.phoneNumber),D.Vb(2),D.cd(i.dataJshandyManServices.taxRegNumber),D.Vb(4),D.cd(i.vistaName),D.Vb(12),D.cd(i.for),D.Vb(3),D.Jc("ngIf",i.invoiceView.client.name),D.Vb(1),D.Jc("ngIf",i.invoiceView.client.fullAdress),D.Vb(1),D.Jc("ngIf",i.invoiceView.client.emails.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.client.phoneNumbers.length>0),D.Vb(7),D.dd(" ",i.tipoForm," No: "),D.Vb(4),D.cd(i.invoiceView.idWork),D.Vb(9),D.dd(" ",D.Fc(77,29,i.todayDate,"dd/MM/yyyy")," "),D.Vb(2),D.Jc("ngIf",i.invoiceView.bills.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.bills.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.services.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.services.length>0),D.Vb(2),D.Jc("ngIf",i.invoiceView.subcontractors.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.subcontractors.length>0),D.Vb(18),D.Jc("ngIf",i.invoiceView.bills.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.services.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.services.length>0||i.invoiceView.bills.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.subcontractors.length>0),D.Vb(6),D.dd("$",i.coreService.round(i.invoiceView.totalCostWork),""),D.Vb(12),D.dd("",i.dataJshandyManServices.coments1," "),D.Vb(2),D.dd(" ",i.dataJshandyManServices.coments2," "),D.Vb(2),D.dd(" ",i.dataJshandyManServices.coments3," "),D.Vb(2),D.dd(" ",i.dataJshandyManServices.coments4," "))},directives:[o.n,o.m,o.l],pipes:[o.f],styles:['a[_ngcontent-%COMP%], body[_ngcontent-%COMP%], table[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{mso-table-lspace:0;mso-table-rspace:0}img[_ngcontent-%COMP%]{-ms-interpolation-mode:bicubic;border:0;height:auto;line-height:100%;outline:none;text-decoration:none}table[_ngcontent-%COMP%]{border-collapse:collapse!important}body[_ngcontent-%COMP%]{height:100%!important;margin:0!important;padding:0!important;width:100%!important}a[x-apple-data-detectors][_ngcontent-%COMP%]{color:inherit!important;text-decoration:none!important;font-size:inherit!important;font-family:inherit!important;font-weight:inherit!important;line-height:inherit!important}@media screen and (max-width:480px){img[_ngcontent-%COMP%]{height:auto;width:120px}.divhandy-mobile[_ngcontent-%COMP%]{font-size:8px;margin:0;color:#0a0a0a;line-height:10px;text-align:right}.divEspacio[_ngcontent-%COMP%]{height:50px!important}.imgen[_ngcontent-%COMP%]{height:50%!important}.divhandy-mobile2[_ngcontent-%COMP%]{font-size:8px;margin:0;color:#0a0a0a;line-height:10px;text-align:right}.mobile-hide[_ngcontent-%COMP%]{display:none!important}.mobile-center[_ngcontent-%COMP%]{text-align:center!important}.table-text[_ngcontent-%COMP%]{font-size:8px!important}.total-Paind[_ngcontent-%COMP%]{text-align:right!important;padding-right:5%!important;font-weight:700!important}.total[_ngcontent-%COMP%]{text-align:right!important}.total[_ngcontent-%COMP%], .total-1[_ngcontent-%COMP%]{padding-right:5%!important;border-top:1px solid #0c0b0b!important;font-size:10px!important;font-weight:700!important}.total-1[_ngcontent-%COMP%]{text-align:justify!important}}div[style*="margin: 16px 0;"][_ngcontent-%COMP%]{margin:0!important}.imgen[_ngcontent-%COMP%]{height:100%;background-size:100%}.imagen2[_ngcontent-%COMP%], .imgen[_ngcontent-%COMP%]{background-image:url(https://i.postimg.cc/jS33pZKh/5a9cda4f-00f8-43fe-bb1c-fc28ebb89a40.png)}.imagen2[_ngcontent-%COMP%]{height:400px;background-size:cover;background-repeat:no-repeat;background-position:50%}.divEspacio[_ngcontent-%COMP%]{height:70px;width:100%}.tdhandy[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica,Arial,sans-serif;font-size:18px;font-weight:400}.divhandy[_ngcontent-%COMP%]{font-size:10px;margin:0;color:#0c0b0b;line-height:18px;text-align:right}.table-text[_ngcontent-%COMP%]{font-size:12px;font-family:arial,sans-serif;border-collapse:collapse;width:100%}.total-Paind[_ngcontent-%COMP%]{text-align:right;padding-right:5%;font-weight:700}.total[_ngcontent-%COMP%]{text-align:right}.total[_ngcontent-%COMP%], .total-1[_ngcontent-%COMP%]{padding-right:5%;border-top:1px solid #0c0b0b;font-size:14px;font-weight:700}.total-1[_ngcontent-%COMP%]{text-align:justify}.corretion[_ngcontent-%COMP%]{text-decoration:line-through;color:#000;-webkit-text-decoration-color:#000;text-decoration-color:#000}.divhandy2[_ngcontent-%COMP%]{font-size:10px;margin:0;color:#0c0b0b;line-height:18px;text-align:start}']});class ui{constructor(t){this.coreService=t,this.tipoForm="Invoice",this.for="For:",this.billQuantity=1,this.serviceQuantity=1,this.productQuantity=1,this.subContractortsQuantity=1,this.todayDate=new Date,this.line1=[],this.listbills=new Array,this.listProduct=new Array}ngOnInit(){void 0!==this.invoiceView&&null!=this.invoiceView&&(this.vistaName="Invoice ",this.todayDate=this.invoiceView.createDay,this.showOverhead=!0,this.startView())}startView(){void 0!==this.invoiceView.subcontractors&&null!=this.invoiceView.subcontractors&&this.invoiceView.subcontractors.length>0&&(this.showProfit=!0),this.fillProductInBillTablet(),this.fillBillTablet()}ngOnChanges(t){this.startView()}sedDataClientInView(t){const i=`${this.invoiceView.client.name} ${this.invoiceView.client.lastName}`;this.nameCliente=` ${i}`,this.addressCliente=` ${this.invoiceView.client.fullAdress}`}calculateOverhead(t){let i;return void 0!==this.invoiceView.overhead&&null!=this.invoiceView.overhead?(i=t*(this.invoiceView.overhead/100),i):t}fillProductInBillTablet(){this.listProduct=new Array,this.invoiceView.bills.forEach(t=>{this.printProduct&&void 0!==t.productsAndServices&&null!=t.productsAndServices&&t.productsAndServices.length>0&&Array.prototype.push.apply(this.listProduct,t.productsAndServices)})}fillBillTablet(){let t=0,i=0;this.listbills=new Array,this.invoiceView.bills.forEach(e=>{this.printProduct||(t+=e.billTotalWichoutTaxes,i+=e.billTotal,this.listbills.push(e)),!e.itemDeliteEdit&&this.printProduct&&void 0!==e.productsAndServices&&null!=e.productsAndServices&&0==e.productsAndServices.length&&(t+=e.billTotalWichoutTaxes,i+=e.billTotal,this.listbills.push(e)),e.itemDeliteEdit&&this.printProduct&&void 0!==e.productsAndServices&&null!=e.productsAndServices&&0==e.productsAndServices.length&&this.listbills.push(e)})}totalRemainingPayable(t){let i=0;return this.invoiceView.payments.forEach(t=>{i+=t.amountPaind}),this.coreService.round(t-i)}}function mi(t,i){if(1&t){const t=D.pc();D.oc(0,"button",83),D.yc("click",function(){D.Tc(t);const e=i.$implicit;return D.Cc().changueStatus(e)}),D.bd(1),D.nc()}if(2&t){const t=i.$implicit;D.Vb(1),D.dd("",t," ")}}function pi(t,i){1&t&&(D.oc(0,"mat-error"),D.bd(1," the Description is "),D.oc(2,"strong"),D.bd(3,"required"),D.nc(),D.nc())}function fi(t,i){if(1&t){const t=D.pc();D.oc(0,"h6",84),D.oc(1,"span",85),D.bd(2),D.nc(),D.oc(3,"button",86),D.yc("click",function(){D.Tc(t);return D.Cc().onAddNewClient(!1)}),D.oc(4,"mat-icon"),D.bd(5,"add"),D.nc(),D.nc(),D.nc()}if(2&t){const t=D.Cc();D.Vb(2),D.cd(t.newClientTitle)}}function gi(t,i){if(1&t&&(D.oc(0,"div",87),D.oc(1,"div",88),D.oc(2,"label",89),D.oc(3,"span",90),D.bd(4,"Name:"),D.nc(),D.bd(5),D.nc(),D.nc(),D.oc(6,"div",88),D.oc(7,"label",89),D.oc(8,"span",90),D.bd(9,"Address:"),D.nc(),D.bd(10),D.nc(),D.nc(),D.nc()),2&t){const t=D.Cc();D.Vb(5),D.cd(t.nameCliente),D.Vb(5),D.cd(t.addressCliente)}}function vi(t,i){if(1&t){const t=D.pc();D.oc(0,"div",91),D.oc(1,"button",92),D.yc("click",function(){D.Tc(t);return D.Cc().onAddNewClient(!0)}),D.bd(2,"Edid"),D.nc(),D.oc(3,"button",93),D.yc("click",function(){D.Tc(t);return D.Cc().onDeleteClient()}),D.bd(4,"Delete"),D.nc(),D.nc()}}function wi(t,i){if(1&t&&(D.oc(0,"div",36),D.oc(1,"label",37),D.bd(2,"Days To Dedline:"),D.nc(),D.oc(3,"mat-form-field",38),D.jc(4,"input",94),D.nc(),D.nc()),2&t){const t=D.Cc();D.Vb(4),D.Jc("ngClass",t.work.daysToDeline<t.dataJshandyManServices.deadLineAlert?"deadline":"")}}function yi(t,i){if(1&t){const t=D.pc();D.oc(0,"app-service-list",99),D.yc("deleteService",function(i){D.Tc(t);return D.Cc(3).deleteService(i)})("edidServiceEvent",function(i){D.Tc(t);return D.Cc(3).addService(i)}),D.nc()}if(2&t){const t=D.Cc(3);D.Jc("servicelist",t.services)}}function Ci(t,i){if(1&t){const t=D.pc();D.oc(0,"div",50),D.oc(1,"div",56),D.oc(2,"label",57),D.bd(3,"Services:"),D.nc(),D.oc(4,"button",97),D.yc("click",function(){D.Tc(t);return D.Cc(2).onAddNewService(!1)}),D.oc(5,"mat-icon"),D.bd(6,"add"),D.nc(),D.nc(),D.nc(),D.Zc(7,yi,1,1,"app-service-list",98),D.nc()}if(2&t){const t=D.Cc(2);D.Vb(7),D.Jc("ngIf",t.servicesExist)}}function ki(t,i){if(1&t){const t=D.pc();D.oc(0,"app-sub-contractors-list",102),D.yc("edidSubContractorsEvent",function(i){D.Tc(t);return D.Cc(3).addSubcontractor(i)})("deleteSubContractors",function(i){D.Tc(t);return D.Cc(3).deleteSubcontractor(i)}),D.nc()}if(2&t){const t=D.Cc(3);D.Jc("subcontractorlist",t.subcontractors)}}function xi(t,i){if(1&t){const t=D.pc();D.oc(0,"div",50),D.oc(1,"div",56),D.oc(2,"label",57),D.bd(3,"Subcontractors:"),D.nc(),D.oc(4,"button",100),D.yc("click",function(){D.Tc(t);return D.Cc(2).onAddNewSubcontractors(!1)}),D.oc(5,"mat-icon"),D.bd(6,"add"),D.nc(),D.nc(),D.nc(),D.Zc(7,ki,1,1,"app-sub-contractors-list",101),D.nc()}if(2&t){const t=D.Cc(2);D.Vb(7),D.Jc("ngIf",t.subcontractorsExist)}}function Vi(t,i){if(1&t){const t=D.pc();D.oc(0,"app-bill-list",104),D.yc("deleteBill",function(i){D.Tc(t);return D.Cc(3).deleteBill(i)})("edidBillEvent",function(i){D.Tc(t);return D.Cc(3).addbill(i)}),D.nc()}if(2&t){const t=D.Cc(3);D.Jc("billList",t.bills)}}function Ti(t,i){if(1&t){const t=D.pc();D.oc(0,"div",53),D.oc(1,"div",56),D.oc(2,"label",57),D.bd(3,"Bills:"),D.nc(),D.oc(4,"button",100),D.yc("click",function(){D.Tc(t);return D.Cc(2).onAddNewBill(!1)}),D.oc(5,"mat-icon"),D.bd(6,"add"),D.nc(),D.nc(),D.nc(),D.Zc(7,Vi,1,1,"app-bill-list",103),D.nc()}if(2&t){const t=D.Cc(2);D.Vb(7),D.Jc("ngIf",t.billExist)}}function Pi(t,i){if(1&t&&(D.oc(0,"div",4),D.Zc(1,Ci,8,1,"div",95),D.Zc(2,xi,8,1,"div",95),D.Zc(3,Ti,8,1,"div",96),D.nc()),2&t){const t=D.Cc();D.Vb(1),D.Jc("ngIf",t.work.services),D.Vb(1),D.Jc("ngIf",t.work.subcontractors),D.Vb(1),D.Jc("ngIf",t.work.bills)}}function Si(t,i){1&t&&(D.oc(0,"mat-error"),D.bd(1," Total Wich out Taxes is "),D.oc(2,"strong"),D.bd(3,"required"),D.nc(),D.nc())}function Di(t,i){1&t&&(D.oc(0,"mat-error"),D.bd(1," Total Wich out Taxes is "),D.oc(2,"strong"),D.bd(3,"required"),D.nc(),D.nc())}function Oi(t,i){if(1&t){const t=D.pc();D.oc(0,"div",4),D.oc(1,"div",105),D.oc(2,"div",56),D.oc(3,"label",57),D.bd(4,"Payments:"),D.nc(),D.oc(5,"button",97),D.yc("click",function(){D.Tc(t);return D.Cc().onAddNewPayments(!1)}),D.oc(6,"mat-icon"),D.bd(7,"add"),D.nc(),D.nc(),D.nc(),D.oc(8,"app-payment-list",106),D.yc("deletePayment",function(i){D.Tc(t);return D.Cc().deletePayment(i)})("edidPaymentEvent",function(i){D.Tc(t);return D.Cc().addPayment(i)}),D.nc(),D.nc(),D.nc()}if(2&t){const t=D.Cc();D.Vb(8),D.Jc("paymentlist",t.paymentlist)}}function Ii(t,i){1&t&&(D.oc(0,"mat-error"),D.bd(1," Total Amount Paid is "),D.oc(2,"strong"),D.bd(3,"required"),D.nc(),D.nc())}function Ai(t,i){1&t&&(D.oc(0,"mat-error"),D.bd(1," Remaining Payable is "),D.oc(2,"strong"),D.bd(3,"required"),D.nc(),D.nc())}function Ji(t,i){if(1&t&&(D.oc(0,"div",19),D.jc(1,"app-view-invoice",107),D.nc()),2&t){const t=D.Cc();D.Vb(1),D.Jc("invoiceView",t.work)("printProduct",t.email.printProduct)("profitCalculation",t.subcontractorsTotalProfit)("billTotalOverhead",t.billTotalOverhead)("servicesTotalOverhead",t.servicesTotalOverhead)("servicesTotal",t.servicesTotal)("subcontractorsTotal",t.subcontractorsTotal)("billLastTotal",t.billLastTotal)("dataJshandyManServices",t.dataJshandyManServices)}}function Mi(t,i){if(1&t&&(D.oc(0,"div",19),D.jc(1,"app-view-invoice-avance",107),D.nc()),2&t){const t=D.Cc(2);D.Vb(1),D.Jc("invoiceView",t.work)("printProduct",t.email.printProduct)("profitCalculation",t.subcontractorsTotalProfit)("billTotalOverhead",t.billTotalOverhead)("servicesTotalOverhead",t.servicesTotalOverhead)("servicesTotal",t.servicesTotal)("subcontractorsTotal",t.subcontractorsTotal)("billLastTotal",t.billLastTotal)("dataJshandyManServices",t.dataJshandyManServices)}}function Wi(t,i){if(1&t&&(D.oc(0,"mat-tab",108),D.Zc(1,Mi,2,9,"div",72),D.nc()),2&t){const t=D.Cc();D.Jc("disabled",t.disabledAvanceTab),D.Vb(1),D.Jc("ngIf",void 0!==t.work.idWork&&null!=t.work.idWork)}}function Ei(t,i){1&t&&(D.oc(0,"mat-icon"),D.bd(1,"menu"),D.nc())}function Fi(t,i){1&t&&(D.oc(0,"mat-icon"),D.bd(1,"filter_list"),D.nc())}function _i(t,i){1&t&&(D.oc(0,"mat-icon"),D.bd(1,"delete_outline"),D.nc())}function Zi(t,i){1&t&&(D.oc(0,"mat-icon"),D.bd(1,"delete"),D.nc())}ui.\u0275fac=function(t){return new(t||ui)(D.ic(et.a))},ui.\u0275cmp=D.cc({type:ui,selectors:[["app-view-invoice-avance"]],inputs:{invoiceView:"invoiceView",printProduct:"printProduct",billTotalOverhead:"billTotalOverhead",servicesTotalOverhead:"servicesTotalOverhead",profitCalculation:"profitCalculation",billLastTotal:"billLastTotal",servicesTotal:"servicesTotal",subcontractorsTotal:"subcontractorsTotal",dataJshandyManServices:"dataJshandyManServices"},features:[D.Tb],decls:153,vars:34,consts:[["bgcolor","#eeeeee",2,"margin","0 !important","padding","0 !important","background-color","#f1f0f0"],["border","0","cellpadding","0","cellspacing","0","width","100%"],["align","center","bgcolor","#eeeeee",2,"background-color","#eeeeee"],["align","center","border","0","cellpadding","0","cellspacing","0","width","100%",2,"max-width","600px"],[1,"imgen"],[1,"divEspacio"],["align","center","valign","top","bgcolor","#ffffff",2,"font-size","0","padding","35px"],[2,"display","inline-block","max-width","50%","min-width","100px","vertical-align","top","width","100%"],["align","left","border","0","cellpadding","0","cellspacing","0","width","100%",2,"max-width","300px"],["align","left","valign","top",2,"font-family","Open Sans, Helvetica, Arial, sans-serif","font-size","36px","font-weight","800","line-height","48px"],[2,"height","20px","width","auto"],["href","https://tallyhandyman.com",1,"logo"],["src","http://tallyhandyman.com/wp-content/uploads/2020/02/Logo_tally_handy_man-1.png","alt","Tally handy man",1,"logo-img",2,"width","px"],["align","right","valign","top",2,"font-family","Open Sans, Helvetica, Arial, sans-serif","font-size","48px","font-weight","400","line-height","48px"],["cellspacing","0","cellpadding","0","border","0","align","right"],[1,"tdhandy"],[1,"divhandy"],[1,"divhandy-mobile"],[2,"background-color","#ffffff","text-align","right","line-height","22px","border-bottom","#0c0b0b solid 2px","margin-right","5px"],[2,"margin-right","10px"],["bgcolor","#ffffff",2,"background-color","#ffffff"],[1,"divhandy2",2,"width","100%","height","100%"],[1,"divhandy-mobile2"],[4,"ngIf"],[2,"height","40px","width","100%"],[2,"height","35px","width","100%"],["align","left",2,"padding-top","20px"],["cellspacing","0","cellpadding","0","border","0","width","100%"],["width","75%","align","left",2,"font-family","arial, sans-serif","font-size","16px","font-weight","800","line-height","24px","padding","10px","border-top","2px solid #eeeeee"],["align","left"],[1,"table-text"],[2,"background-color","#fd604b","height","25px"],[2,"text-align","left","padding-left","8%","color","#ffffff"],[2,"text-align","right","padding-right","5%","color","#ffffff"],[2,"text-align","center","padding-right","5%","color","#ffffff"],["style","height: 18px;",4,"ngIf"],[2,"height","18px"],[2,"text-align","left","padding-left","8%"],[1,"total-1"],[1,"total"],["style","height: 18px;",4,"ngFor","ngForOf"],[2,"height","2px","width","100%"],["align","center","bgcolor","#ffffff"],[2,"margin-top","10px","padding","35px","background-color","#fffbfbb4"],[2,"font-family","Open Sans, Helvetica, Arial, sans-serif","font-size","14px","font-weight","400"],[2,"font-size","10px","margin","0px","color","#0c0b0b"],[2,"text-align","left","margin-top","20px","margin-bottom","10px"],[2,"text-align","justify","line-height","18px"],[2,"line-height","20px","margin-top","10px","margin-bottom","10px"],[2,"line-height","20px"],["align","center","bgcolor","#ffffff",2,"padding","35px","background-color","#ffffff"],[2,"height","50px","width","100%"],["align","left",2,"font-family","Open Sans, Helvetica, Arial, sans-serif","font-size","14px","font-weight","400","line-height","24px"],[2,"margin-right","20px","margin-top","30px","font-size","12px","font-family","arial, sans-serif","border-collapse","collapse","width","100%","margin-left","50px"],[2,"text-align","center","border-top","#000000 solid 2px"],[2,"width","40px"],["class","divhandy-mobile2",4,"ngFor","ngForOf"],[2,"background-color","#ffffff","text-align","left","font-weight","bold","line-height","22px"],[2,"text-align","right","padding-right","5%"],[2,"text-align","justify","padding-right","5%","border-top","#0c0b0b solid 1px"],[2,"text-align","right","padding-right","5%","border-top","#0c0b0b solid 1px"],["style","text-align: left; padding-left: 8%;",3,"ngClass",4,"ngIf"],["style","text-align: right; padding-right: 5%;",3,"ngClass",4,"ngIf"],[2,"text-align","left","padding-left","8%",3,"ngClass"],[2,"text-align","right","padding-right","5%",3,"ngClass"],[1,"total-Paind"],[2,"text-align","right","padding-right","5%","font-weight","bold"],["style","text-align: left; padding-left: 8%;",4,"ngIf"],["class","total-Paind",4,"ngIf"],["style","text-align: right; padding-right: 5%; font-weight: bold;",4,"ngIf"]],template:function(t,i){1&t&&(D.oc(0,"body",0),D.oc(1,"table",1),D.oc(2,"tr"),D.oc(3,"td",2),D.oc(4,"table",3),D.oc(5,"tr"),D.oc(6,"td",4),D.jc(7,"div",5),D.nc(),D.nc(),D.oc(8,"tr"),D.oc(9,"td",6),D.oc(10,"div",7),D.oc(11,"table",8),D.oc(12,"tr"),D.oc(13,"td",9),D.jc(14,"div",10),D.oc(15,"a",11),D.jc(16,"img",12),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(17,"div",7),D.oc(18,"table",8),D.oc(19,"tr"),D.oc(20,"td",13),D.oc(21,"table",14),D.oc(22,"tr"),D.oc(23,"td",15),D.oc(24,"div",16),D.oc(25,"div",17),D.bd(26),D.nc(),D.oc(27,"div",17),D.bd(28),D.nc(),D.oc(29,"div",17),D.bd(30),D.nc(),D.oc(31,"div",17),D.bd(32),D.nc(),D.oc(33,"div",17),D.bd(34),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(35,"tr"),D.oc(36,"td",18),D.oc(37,"div",19),D.bd(38),D.nc(),D.nc(),D.nc(),D.oc(39,"tr"),D.oc(40,"td",20),D.oc(41,"table",3),D.oc(42,"tr"),D.oc(43,"td",6),D.oc(44,"div",7),D.oc(45,"table",8),D.oc(46,"tr"),D.oc(47,"td",15),D.oc(48,"div",21),D.oc(49,"div",22),D.bd(50),D.nc(),D.nc(),D.nc(),D.oc(51,"td",15),D.oc(52,"div",16),D.Zc(53,_t,3,2,"div",23),D.Zc(54,Zt,3,1,"div",23),D.Zc(55,Nt,2,1,"div",23),D.Zc(56,zt,2,1,"div",23),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(57,"div",7),D.oc(58,"table",8),D.oc(59,"tr"),D.oc(60,"td",15),D.oc(61,"div",16),D.oc(62,"div",22),D.bd(63),D.nc(),D.nc(),D.nc(),D.oc(64,"td",15),D.oc(65,"div",16),D.oc(66,"div",22),D.bd(67),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(68,"tr"),D.oc(69,"td",15),D.oc(70,"div",16),D.oc(71,"div",22),D.bd(72," Date: "),D.nc(),D.nc(),D.nc(),D.oc(73,"td",15),D.oc(74,"div",16),D.oc(75,"div",22),D.bd(76),D.Dc(77,"date"),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.Zc(78,Lt,3,0,"tr",23),D.Zc(79,Ut,21,3,"tr",23),D.Zc(80,Yt,3,0,"tr",23),D.Zc(81,Xt,20,2,"tr",23),D.jc(82,"tr",24),D.Zc(83,ti,3,0,"tr",23),D.Zc(84,oi,21,3,"tr",23),D.jc(85,"tr",25),D.oc(86,"tr"),D.oc(87,"td",26),D.oc(88,"table",27),D.oc(89,"tr"),D.oc(90,"td",28),D.bd(91," Payment Details: "),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(92,"tr"),D.oc(93,"td",29),D.oc(94,"table",30),D.oc(95,"tr",31),D.oc(96,"th",32),D.bd(97," Description "),D.nc(),D.jc(98,"th",33),D.oc(99,"th",34),D.bd(100," Subtotal "),D.nc(),D.jc(101,"th",33),D.nc(),D.Zc(102,ni,7,1,"tr",35),D.Zc(103,ci,7,1,"tr",35),D.Zc(104,ai,7,2,"tr",35),D.Zc(105,ri,7,1,"tr",35),D.oc(106,"tr",36),D.jc(107,"td",37),D.oc(108,"td",38),D.bd(109,"Total:"),D.nc(),D.oc(110,"td",39),D.bd(111),D.nc(),D.nc(),D.Zc(112,bi,5,4,"tr",40),D.oc(113,"tr",36),D.jc(114,"td",37),D.oc(115,"td",38),D.bd(116,"Total Remaining Payable:"),D.nc(),D.oc(117,"td",39),D.bd(118),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.jc(119,"tr",41),D.oc(120,"tr"),D.oc(121,"td",42),D.oc(122,"div",43),D.oc(123,"table",3),D.oc(124,"tr"),D.oc(125,"td",44),D.oc(126,"div",45),D.oc(127,"div",46),D.bd(128," Comments: "),D.nc(),D.oc(129,"div",47),D.bd(130),D.nc(),D.oc(131,"div",48),D.bd(132),D.nc(),D.oc(133,"div",49),D.bd(134),D.nc(),D.oc(135,"div",49),D.bd(136),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(137,"tr"),D.oc(138,"td",50),D.oc(139,"table",3),D.jc(140,"tr",51),D.oc(141,"tr"),D.oc(142,"td",52),D.oc(143,"tr"),D.oc(144,"td",29),D.oc(145,"table",53),D.oc(146,"tr",36),D.oc(147,"td",54),D.bd(148," JS Handyman Services of Tally, Inc "),D.nc(),D.jc(149,"td",55),D.oc(150,"td",54),D.bd(151," Client's signature "),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.jc(152,"tr",51),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc()),2&t&&(D.Vb(26),D.cd(i.dataJshandyManServices.direction),D.Vb(2),D.cd(i.dataJshandyManServices.mail),D.Vb(2),D.cd(i.dataJshandyManServices.web),D.Vb(2),D.cd(i.dataJshandyManServices.phoneNumber),D.Vb(2),D.cd(i.dataJshandyManServices.taxRegNumber),D.Vb(4),D.cd(i.vistaName),D.Vb(12),D.cd(i.for),D.Vb(3),D.Jc("ngIf",i.invoiceView.client.name),D.Vb(1),D.Jc("ngIf",i.invoiceView.client.fullAdress),D.Vb(1),D.Jc("ngIf",i.invoiceView.client.emails.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.client.phoneNumbers.length>0),D.Vb(7),D.dd(" ",i.tipoForm," No: "),D.Vb(4),D.cd(i.invoiceView.idWork),D.Vb(9),D.dd(" ",D.Fc(77,31,i.todayDate,"dd/MM/yyyy")," "),D.Vb(2),D.Jc("ngIf",i.invoiceView.bills.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.bills.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.services.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.services.length>0),D.Vb(2),D.Jc("ngIf",i.invoiceView.subcontractors.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.subcontractors.length>0),D.Vb(18),D.Jc("ngIf",i.invoiceView.bills.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.services.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.services.length>0||i.invoiceView.bills.length>0),D.Vb(1),D.Jc("ngIf",i.invoiceView.subcontractors.length>0),D.Vb(6),D.dd("$",i.coreService.round(i.invoiceView.totalCostWork),""),D.Vb(1),D.Jc("ngForOf",i.invoiceView.payments),D.Vb(6),D.dd("$",i.totalRemainingPayable(i.invoiceView.totalCostWork),""),D.Vb(12),D.dd("",i.dataJshandyManServices.coments1," "),D.Vb(2),D.dd(" ",i.dataJshandyManServices.coments2," "),D.Vb(2),D.dd(" ",i.dataJshandyManServices.coments3," "),D.Vb(2),D.dd(" ",i.dataJshandyManServices.coments4," "))},directives:[o.n,o.m,o.l],pipes:[o.f],styles:['a[_ngcontent-%COMP%], body[_ngcontent-%COMP%], table[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{mso-table-lspace:0;mso-table-rspace:0}img[_ngcontent-%COMP%]{-ms-interpolation-mode:bicubic;border:0;height:auto;line-height:100%;outline:none;text-decoration:none}table[_ngcontent-%COMP%]{border-collapse:collapse!important}body[_ngcontent-%COMP%]{height:100%!important;margin:0!important;padding:0!important;width:100%!important}a[x-apple-data-detectors][_ngcontent-%COMP%]{color:inherit!important;text-decoration:none!important;font-size:inherit!important;font-family:inherit!important;font-weight:inherit!important;line-height:inherit!important}@media screen and (max-width:480px){img[_ngcontent-%COMP%]{height:auto;width:120px}.divhandy-mobile[_ngcontent-%COMP%]{font-size:8px;margin:0;color:#0a0a0a;line-height:10px;text-align:right}.divEspacio[_ngcontent-%COMP%]{height:50px!important}.imgen[_ngcontent-%COMP%]{height:50%!important}.divhandy-mobile2[_ngcontent-%COMP%]{margin:0}.divhandy-mobile2[_ngcontent-%COMP%], .divhandy-mobile3[_ngcontent-%COMP%]{font-size:8px;color:#0a0a0a;line-height:10px;text-align:right}.divhandy-mobile3[_ngcontent-%COMP%]{margin-left:10px!important}.mobile-hide[_ngcontent-%COMP%]{display:none!important}.mobile-center[_ngcontent-%COMP%]{text-align:center!important}.table-text[_ngcontent-%COMP%]{font-size:8px!important}.total-Paind[_ngcontent-%COMP%]{text-align:right!important;padding-right:5%!important;font-weight:700!important}.total[_ngcontent-%COMP%]{text-align:right!important}.total[_ngcontent-%COMP%], .total-1[_ngcontent-%COMP%]{padding-right:5%!important;border-top:1px solid #0c0b0b!important;font-size:10px!important;font-weight:700!important}.total-1[_ngcontent-%COMP%]{text-align:justify!important}}div[style*="margin: 16px 0;"][_ngcontent-%COMP%]{margin:0!important}.imgen[_ngcontent-%COMP%]{height:100%;background-size:100%}.imagen2[_ngcontent-%COMP%], .imgen[_ngcontent-%COMP%]{background-image:url(https://i.postimg.cc/jS33pZKh/5a9cda4f-00f8-43fe-bb1c-fc28ebb89a40.png)}.imagen2[_ngcontent-%COMP%]{height:400px;background-size:cover;background-repeat:no-repeat;background-position:50%}.divEspacio[_ngcontent-%COMP%]{height:70px;width:100%}.tdhandy[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica,Arial,sans-serif;font-size:18px;font-weight:400}.divhandy[_ngcontent-%COMP%]{font-size:10px;margin:0;color:#0c0b0b;line-height:18px;text-align:right}.table-text[_ngcontent-%COMP%]{font-size:12px;font-family:arial,sans-serif;border-collapse:collapse;width:100%}.total-Paind[_ngcontent-%COMP%]{text-align:right;padding-right:5%;font-weight:700}.total[_ngcontent-%COMP%]{text-align:right}.total[_ngcontent-%COMP%], .total-1[_ngcontent-%COMP%]{padding-right:5%;border-top:1px solid #0c0b0b;font-size:14px;font-weight:700}.total-1[_ngcontent-%COMP%]{text-align:justify}.corretion[_ngcontent-%COMP%]{text-decoration:line-through;color:#000;-webkit-text-decoration-color:#000;text-decoration-color:#000}.divhandy2[_ngcontent-%COMP%]{font-size:10px;margin:0;color:#0c0b0b;line-height:18px;text-align:start}']});class ji{constructor(t,i,e,o,n,c,a,r,l,d,h){this.fb=t,this.route=i,this.invoiceWorkService=e,this.coreService=o,this.dialog=n,this._snackBar=c,this.router=a,this.sessionService=r,this.alertStatusService=l,this.dashboardService=d,this.spinnerService=h,this.tileAndForm=this.fb.group({title:["",s.u.required],description:["",s.u.required],starDate:["",s.u.required],overhead:null,dedline:["",s.u.required],daysToDeline:[{value:null,disabled:!0}]}),this.inputForm=this.fb.group({totalCostWork:[null,s.u.required],totalCostWorkWithoutTaxes:[null],totalAmountPaind:[null],remainingPayable:[null]}),this.selected=new s.e(0),this.colorTab="accent",this.fondo="primary",this.nameCliente="____________",this.addressCliente="____________",this.newClientTitle="New Client: ",this.vistaName="",this.overheadSinbolo=" %",this.tooltipStatus="This is the Status of the Invoice",this.disableStatusList=!1,this.statusList=["IN PROGRESS","CANCELED","PAUSE","FINALIZED"],this.statusList2=["APPROVED","IN PROGRESS","SEND","CANCELED","PAUSE"],this.paymentlist=new Array,this.positionOptions=["below","above","left","right"],this.position=new s.e(this.positionOptions[2]),this.hoveredDivId=1,this.buttonView=!1,this.disabledTab=!0,this.disabledAvanceTab=!0,this.activateManual=!0,this.notificationresponse=!1,this.daysToDeline=!1,this.totalMnual=0,this.servicesTotalOverhead=0,this.billTotalOverhead=0,this.billTotalWichoutTaxesOverhead=0,this.subcontractorsTotalProfit=0,this.servicesTotal=0,this.billLastTotal=0,this.subcontractorsTotal=0,this.email=new m.a,this.dataJshandyManServices=new u.a,this.work=new g,this.seccion=this.sessionService.get("UserSession")}selectChange(t){this.selected.setValue(t)}onPrintProduct(){this.email.printProduct=!this.email.printProduct}onViewAvancePayments(){this.email.avancePayments=!this.email.avancePayments}ngOnChanges(t){}getDataMail(){this.dataJshandyManServices=this.coreService.dataJshandy,this.email.subject=this.dataJshandyManServices.company}ngOnInit(){this.getDataMail(),this.route.queryParams.forEach(t=>{this.billExist=!1,this.subcontractorsExist=!1,this.servicesExist=!1,this.paymentExist=!1,void 0!==t.id||null!=t.id?this.invoiceWorkService.getWorkById(t.id).subscribe(t=>{this.work=t.entidades[0],this.viewWork()}):this.newView()})}changueStatus(t){t===this.statusList[3]&&void 0!==this.work.payments&&this.work.payments.length<=0?this.alertStatusService.checkSattusFinal(t):(this.work.status=t,this.save())}newView(){this.work=new g,this.vistaName="New Invoice",this.clinetExist=!1,this.disabledTab=!0,void 0!==this.work.daysToDeline&&null!=this.work.daysToDeline&&(this.daysToDeline=!0),this.tileAndForm.patchValue({overhead:"",description:"",title:"",starDate:"",dedline:"",daysToDeline:this.work.daysToDeline}),this.setTabletsAtributte(this.work)}viewWork(){void 0!==this.work&&null!==this.work&&(void 0!==this.work.idWork&&null!=this.work.idWork&&void 0!==this.work.codeWork&&null!==this.work.codeWork&&(this.disabledTab=!1),this.paymentAvanceViewTab(),this.vistaName=`Invoice : ${this.work.idWork}`,void 0!==this.work.client&&null!=this.work.client&&this.sedDataClientInView(this.work.client.name,this.work.client.fullAdress),this.sedDataInView(),this.clinetExist=!0,this.setTabletsAtributte(this.work))}sedDataInView(){void 0!==this.work.daysToDeline&&null!=this.work.daysToDeline&&(this.daysToDeline=!0),this.tileAndForm.patchValue({overhead:this.work.overhead,description:this.work.description,title:this.work.title,starDate:this.work.starDate,dedline:this.work.dedline,daysToDeline:this.work.daysToDeline}),this.inputForm.patchValue({totalCostWork:this.coreService.round(this.work.totalCostWork),totalCostWorkWithoutTaxes:this.coreService.round(this.work.totalCostWorkWithoutTaxes),totalAmountPaind:this.coreService.round(this.work.totalAmountPaind),remainingPayable:this.coreService.round(this.work.remainingPayable)})}setTablets(t){this.subcontractorsExist=!0,this.billExist=!0,this.servicesExist=!0,this.paymentExist=!0,this.services=t.services,this.bills=t.bills,this.subcontractors=t.subcontractors,this.paymentlist=t.payments}setTabletsAtributte(t){this.setTablets(t),t.services.length>0&&this.disableManualTotal(),t.bills.length>0&&this.disableManualTotal(),void 0!==t.subcontractors&&t.subcontractors.length>0&&this.disableManualTotal(),this.total()}addEvent(t,i){this.work.starDate=this.tileAndForm.value.starDate}addDedlineEvent(t,i){this.work.dedline=this.tileAndForm.value.dedline,this.work.daysToDeline=this.calculateDedline();const e=Math.round(Math.abs(this.calculateDedline()));this.tileAndForm.patchValue({daysToDeline:e})}calculateDedline(){let t=0;if(null!=this.work.starDate&&void 0!==this.work.starDate&&null!=this.work.dedline&&void 0!==this.work.dedline){const i=(new Date).getTime();t=(new Date(this.work.dedline).getTime()-i)/864e5}return t}onTitle(){this.work.title=this.tileAndForm.value.title}onDescription(){this.work.description=this.tileAndForm.value.description}sedDataClientInView(t,i){this.nameCliente=` ${t}`,this.addressCliente=` ${i}`}clearInput(){this.tileAndForm.get("title").setValue("")}onAddNewClient(t){let i=new b.a;void 0!==t&&null!=t&&t?i=this.work.client:t=!1;const e=new d.d;e.disableClose=!0,e.autoFocus=!0,e.maxWidth="100vw",e.maxHeight="100vh",e.width="750px",e.height="85vh",e.data={atributo:i,edit:t};this.dialog.open(y.a,e).afterClosed().subscribe(t=>{if(void 0!==t){this.work.client=t;const i=`${this.work.client.name} ${this.work.client.lastName}`;this.sedDataClientInView(i,this.work.client.fullAdress),this.clinetExist=!0}})}onDeleteClient(){this.work.client=null,this.work.client=new b.a,this.clinetExist=!1}onAddNewSubcontractors(t,i){let e=new f.a;void 0!==t&&null!=t&&t?e=i:t=!1;const o=new d.d;o.disableClose=!0,o.autoFocus=!0,o.maxWidth="100vw",o.maxHeight="100vh",o.width="750px",o.height="85vh",o.data={atributo:e,edit:t};this.dialog.open(V.a,o).afterClosed().subscribe(t=>{void 0!==t&&(this.subcontractorsExist=!0,void 0!==t.newSubContractor&&null!=t.newSubContractor&&(void 0!==this.work.client&&null!=this.work.client&&(t.newSubContractor.codeClient=this.work.client.codeClient),this.work.subcontractors.push(t.newSubContractor),this.subcontractors=this.work.subcontractors,this.subContractorsTablet.updatedatasourse(this.work.subcontractors),this.total()))})}addSubcontractor(t){this.work.subcontractors.push(t),this.total()}deleteSubcontractor(t){const i=this.work.subcontractors.filter(i=>i!==t);this.work.subcontractors=i,this.checkListForEnableManualTotalInput()}onAddNewService(t,i){let e=new p.a;void 0!==t&&null!=t&&t?e=i:t=!1;const o=new d.d;o.disableClose=!0,o.autoFocus=!0,o.maxWidth="100vw",o.maxHeight="100vh",o.width="750px",o.height="45vh",o.data={atributo:e,edit:t};this.dialog.open(k.a,o).afterClosed().subscribe(t=>{void 0!==t&&(this.servicesExist=!0,void 0!==t.newService&&null!=t.newService&&(this.work.services.push(t.newService),this.serviceTablet.updatedataSourse(this.work.services))),this.total()})}addService(t){this.work.services.push(t),this.total()}deleteService(t){const i=this.work.services.filter(i=>i!==t);this.work.services=i,this.checkListForEnableManualTotalInput()}onAddNewBill(t,i){let e=new h.a;void 0!==t&&null!=t&&t?e=i:t=!1;const o=new d.d;o.disableClose=!0,o.autoFocus=!0,o.width="auto",o.height="auto",o.data={atributo:e,edit:t};this.dialog.open(w.a,o).afterClosed().subscribe(t=>{void 0!==t&&void 0!==t.newBill&&null!=t.newBill&&(this.billExist=!0,this.work.bills.push(t.newBill),this.bills=this.work.bills,this.billListTablet.updatedatasourse(this.bills),this.total())})}addbill(t){this.work.bills.push(t),this.total()}deleteBill(t){const i=this.work.bills.filter(i=>i!==t);this.work.bills=i,this.checkListForEnableManualTotalInput()}total(){let t=0,i=0,e=0,o=0,n=0,c=0,a=0;this.servicesTotal=0,this.subcontractorsTotal=0,this.billLastTotal=0,this.subcontractorsTotalProfit=0;let r=0;if(null!=this.work.bills&&void 0!==this.work.bills&&this.work.bills.length>0&&(this.work.bills.forEach(e=>{e.itemDeliteEdit||(t+=e.billTotal,i+=e.billTotalWichoutTaxes)}),this.disableManualTotal()),this.billTotalOverhead=this.calculateOverheads(t),this.billTotalWichoutTaxesOverhead=this.calculateOverheads(i),a=i,this.billLastTotal=t,null!=this.work.services&&void 0!==this.work.services&&this.work.services.length>0&&(this.work.services.forEach(t=>{t.itemDeliteEdit||(e+=t.servicesCost)}),this.disableManualTotal(),this.servicesTotalOverhead=this.calculateOverheads(e),this.servicesTotal=e),null!=this.work.subcontractors&&void 0!==this.work.subcontractors&&this.work.subcontractors.length>0){let t=0;this.work.subcontractors.forEach(i=>{i.itemDeliteEdit||(this.subcontractorsTotal+=i.totalCost,c+=i.costOfwork,void 0!==i.billListSubcontractor&&null!=i.billListSubcontractor&&i.billListSubcontractor.length>0&&i.billListSubcontractor.forEach(i=>{t+=i.billTotal}),i.profitCalculation=(i.costOfwork+t)*(i.profit/100),this.subcontractorsTotalProfit+=this.coreService.round(i.profitCalculation))}),this.disableManualTotal()}o=this.servicesTotal+a+this.subcontractorsTotal+this.servicesTotalOverhead+this.billTotalWichoutTaxesOverhead,n=this.servicesTotal+this.subcontractorsTotal+this.billLastTotal+this.servicesTotalOverhead+this.billTotalOverhead;const l=this.coreService.round(o),s=this.coreService.round(n);this.work.totalCostWork=s,this.work.totalCostWorkWithoutTaxes=l,void 0!==this.work.totalAmountPaind&&null!=this.work.totalAmountPaind||(this.work.totalAmountPaind=0),this.work.payments.length>0?this.work.payments.forEach(t=>{r+=t.amountPaind,this.work.totalAmountPaind=this.coreService.round(r),this.work.remainingPayable=this.coreService.round(this.work.totalCostWork-this.work.totalAmountPaind)}):this.work.totalAmountPaind=0,this.inputForm.patchValue({totalCostWorkWithoutTaxes:l,totalCostWork:s,totalAmountPaind:this.work.totalAmountPaind,remainingPayable:this.work.remainingPayable})}calculateProfit(t,i){let e;return void 0!==i&&null!=i?(e=t*(i/100),this.coreService.round(e)):this.coreService.round(t)}calculateOverheads(t){let i;return void 0!==this.tileAndForm.value.overhead&&null!=this.tileAndForm.value.overhead?(i=t*(this.tileAndForm.value.overhead/100),this.coreService.round(i)):this.coreService.round(t)}calculateOverhead(t){let i;return void 0!==this.tileAndForm.value.overhead&&null!=this.tileAndForm.value.overhead?(i=t+t*(this.tileAndForm.value.overhead/100),i):t}totalWithTaxesCalculation(t,i){let e=0;e=i?t+t*(this.seccion.taxes/100):t;const o=this.coreService.round(e);this.inputForm.patchValue({totalCostWork:o}),this.work.totalCostWork=o}totalWichOutTaxesCalculation(t,i){let e=0;e=i?t-t*(this.seccion.taxes/100):t;const o=this.coreService.round(e);this.inputForm.patchValue({totalCostWorkWithoutTaxes:o}),this.work.totalCostWorkWithoutTaxes=o}totalManualWichTaxes(){let t=0;t=void 0!==this.work.overhead&&null!=this.work.overhead?this.calculateOverhead(this.inputForm.value.totalCostWork):this.inputForm.value.totalCostWork,this.totalWithTaxesCalculation(t,!1),this.totalWichOutTaxesCalculation(t,!0),this.totalMnual=t}totalManualWichOutTaxes(){let t=0;t=void 0!==this.work.overhead&&null!=this.work.overhead?this.calculateOverhead(this.inputForm.value.totalCostWorkWithoutTaxes):this.inputForm.value.totalCostWorkWithoutTaxes,this.totalWichOutTaxesCalculation(t,!1),this.totalWithTaxesCalculation(t,!0),this.totalMnual=t}onOverhead(){this.work.overhead=this.tileAndForm.value.overhead,this.total(),0==this.inputForm.value.totalCostWork&&0!==this.totalMnual&&(this.totalWithTaxesCalculation(this.totalMnual,!1),this.totalWichOutTaxesCalculation(this.totalMnual,!0))}disableManualTotal(){this.inputForm.disable()}enableManualTotal(){this.inputForm.enable()}checkListForEnableManualTotalInput(){0==this.work.bills.length&&0==this.work.services.length&&0==this.work.subcontractors.length&&(this.total(),this.enableManualTotal())}saveNotification(){if(this.tileAndForm.valid){let t="Confirm that you want to save the Invoice?",i="Save Alert";const e=new d.d;if(e.disableClose=!0,e.autoFocus=!0,e.width="45%",e.height="auto","FINALIZED"===this.work.status||"CANCELED"===this.work.status||"PAUSE"===this.work.status){let t=`"An ${this.work.status} Invoice cannot be saved. You must change the status to be able to save."`;e.data={title:i,msg:t,cancel:"Cancel"}}else e.data={title:i,msg:t,cancel:"Cancel",confirm:"Confirm"};this.dialog.open(C.a,e).afterClosed().subscribe(t=>{t&&this.save()})}else this.recipientNotification()}findEmptyField(){let t="";return null!=this.work.starDate&&void 0!==this.work.starDate||(t=`${this.addAndToText(t)} You need add the star Date`),null!=this.work.dedline&&void 0!==this.work.dedline||(t=`${this.addAndToText(t)} Add Days To Dedline`),null!=this.work.description&&void 0!==this.work.description||(t=`${this.addAndToText(t)} You need add Description `),null!=this.work.title&&void 0!==this.work.title||(t=`${this.addAndToText(t)} You need add Title `),t}addAndToText(t){return""!=t?`${t} and`:t}recipientNotification(){const t=new d.d;t.disableClose=!0,t.autoFocus=!0,t.width="45%",t.height="auto",t.data={title:" Data Alert",msg:`The Invoice cant not be save, you need complete all information: ${this.findEmptyField()}`,confirm:"OK"};this.dialog.open(C.a,t).afterClosed().subscribe(t=>{})}save(){this.show(),void 0!==this.work.idWork&&null!==this.work.codeWork?this.invoiceWorkService.saveAndUpdateWork(this.work).subscribe(t=>{this.work=t,this.getDashboardData(),this.viewWork(),this.hide()},t=>{this.hide(),console.log("Error",t);this.openSnackBar('"An error occurred while trying to Update Invoice"',"Close")}):this.invoiceWorkService.saveWork(this.work).subscribe(t=>{this.work=t,this.getDashboardData(),this.viewWork(),this.hide()},t=>{this.hide(),console.log("Error",t);this.openSnackBar('"An error occurred while trying to save a new Invoice"',"Close")})}getDashboardData(){this.dashboardService.getDashboardData().subscribe(t=>{this.dashboardService.updatedDashboardData(t.entidades[0])},t=>{this.openSnackBar('"FAILL THE RESPONSE OFF SERVER"',"Close")})}show(){this.spinnerService.spinnerActive=!1,this.spinnerService.show()}hide(){this.spinnerService.hide(),this.spinnerService.spinnerActive=!0}openSnackBar(t,i){this._snackBar.open(t,i)}onCancel(){this.tileAndForm.patchValue({overhead:null,description:null,title:null,starDate:null}),this.inputForm.patchValue({totalCostWork:null,totalCostWorkWithoutTaxes:null}),this.work=null,this.router.navigateByUrl("/jshandy-man-services/menu/home")}onDeleteWork(){if(void 0!==this.work.idWork&&null!=this.work.idWork){const t="If you want to delete the work o invoice, by accepting you will lose access to this information permanently.";this.notification("Delete  Work o Invoice Confirmation",t,"delete","Cancel","Agree")}else{const t='"An  Work o Invoice cannot be convert without being Saved first"';this.openSnackBar(t,"Close")}}notification(t,i,e,o,n){const c=new d.d;c.disableClose=!0,c.autoFocus=!0,c.width="45%",c.height="auto",c.data={title:t,msg:i,cancel:o,confirm:n};this.dialog.open(C.a,c).afterClosed().subscribe(t=>{t&&"delete"===e&&this.deleteWork()})}deleteWork(){this.invoiceWorkService.deleteWork(this.work.idWork.toString()).subscribe(t=>{const i=t?'"the Invoice was deleted"':'"the Invoice cant not be delete"';this.openSnackBar(i,"Close"),t&&this.router.navigateByUrl("/jshandy-man-services/menu/home")},t=>{console.log("Error",t);this.openSnackBar('"An error occurred while trying to delete Invoice"',"Close")})}cambio(){this.buttonView=!this.buttonView}onAddNewPayments(t,i){let e=new S;void 0!==t&&null!=t&&t?e=i:t=!1;const o=new d.d;o.disableClose=!0,o.autoFocus=!0,o.width="auto",o.height="auto",o.data={atributo:e,edit:t};this.dialog.open(j,o).afterClosed().subscribe(t=>{void 0!==t&&(this.paymentExist=!0,this.work.payments.push(t),this.paymentTablet.updatedataSourse(this.work.payments),this.paymentAvanceViewTab()),this.total()})}addPayment(t){this.work.payments.push(t),this.total()}deletePayment(t){const i=this.work.payments.filter(i=>i!==t);this.work.payments=i,this.checkListForEnableManualTotalInput()}paymentAvanceViewTab(){void 0!==this.work.idWork&&null!=this.work.idWork&&void 0!==this.work.payments&&null!==this.work.payments&&this.work.payments.length>0&&(this.disabledAvanceTab=!1)}showDivWithHoverStyles(t){this.hoveredDivId=t}showAllDivsWithDefaultStyles(){this.hoveredDivId=1}}ji.\u0275fac=function(t){return new(t||ji)(D.ic(s.d),D.ic(r.a),D.ic(it.a),D.ic(et.a),D.ic(d.b),D.ic(O.a),D.ic(r.c),D.ic(ot.a),D.ic(nt.a),D.ic(ct.a),D.ic(at.a))},ji.\u0275cmp=D.cc({type:ji,selectors:[["app-edid-invoice"]],viewQuery:function(t,i){if(1&t&&(D.fd(x.a,1),D.fd(T.a,1),D.fd(v.a,1),D.fd(tt,1)),2&t){let t;D.Qc(t=D.zc())&&(i.serviceTablet=t.first),D.Qc(t=D.zc())&&(i.subContractorsTablet=t.first),D.Qc(t=D.zc())&&(i.billListTablet=t.first),D.Qc(t=D.zc())&&(i.paymentTablet=t.first)}},features:[D.Tb],decls:182,vars:51,consts:[[1,"topeSeparation"],["mat-align-tabs","center","mat-stretch-tabs","",1,"parent-tab-group",3,"selectedIndex","selectedIndexChange"],["label","Invoice - Edid"],[1,"container-fluid","mb-1","mt-2"],[1,"row"],[1,"col-sm"],["for","title",1,"m-1","h3"],["matTooltipClass","tooltip-tooltip-blue",1,"flowRight","mr-1",3,"matTooltip"],["tooltip","matTooltip"],["mat-raised-button","",1,"flowRight","mr-1","border",2,"width","140px",3,"matMenuTriggerFor","disabled"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"container-fluid"],[1,"row","mat-elevation-z4"],[1,"col-12","d-sm-block"],[1,"col-12",3,"formGroup"],[1,"input-group","m-3"],["for","title",1,"m-1","h4"],["type","text","formControlName","title","id","title","placeholder","... ","aria-label","username","aria-describedby","basic-addon2","required","",1,"form-control",3,"keyup"],[1,"container-fluid","mt-3"],[1,"row","border","mat-elevation-z4"],[1,"col","d-sm-block","mt-2"],[1,"col-12"],["appearance","fill",2,"width","100%"],["matInput","","placeholder","Description","formControlName","description","required","",3,"keyup"],[4,"ngIf"],[1,"row","mt-3"],[1,"col-sm-12","col-md-6","col-lg-6","col-xl-6","d-sm-block","mb-2"],[1,"card","mac-card","mat-elevation-z4",2,"border","none"],[1,"card-body"],[1,"card-title"],["class","card-subtitle mb-2 text-muted",4,"ngIf"],["class","mb-1",4,"ngIf"],["class","mt-4 d-flex justify-content-center",4,"ngIf"],[1,"col-sm-12","col-md-6","col-lg-6","col-xl-6","d-sm-block"],[2,"font-size","14px",3,"formGroup"],[1,"input-group","mt-2","d-flex","align-items-center",2,"width","100%"],["for","overhead",1,"mr-1"],["appearance","fill"],["matInput","","type","number","placeholder","Overhead","formControlName","overhead",3,"keyup.enter","focusout"],["for","overhead",1,"mr-1",2,"margin-left","5px"],["for","starDate",1,"mr-1"],["appearance","fill",2,"width","80%"],["matInput","","formControlName","starDate",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker1",""],["matInput","","formControlName","dedline",3,"matDatepicker","dateChange"],["picker2",""],["class","input-group mt-2 d-flex align-items-center","style","width: 100%;",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-sm-12","col-md-4","col-lg-4","col-xl-4","d-sm-block","mb-2"],[1,"card","mac-card","mat-elevation-z4"],["for","starDate",1,"h5"],[1,"col-sm-12","col-md-4","col-lg-4","col-xl-4","d-sm-block"],[1,"col-sm-12","col-md-6","col-lg-6","col-xl-6","d-sm-block","viewWidth"],[1,"card","mac-card",2,"border","none"],[1,"m-2"],["for","starDate",1,"h4"],["novalidate","",1,"container-fluid","mt-2",3,"formGroup"],[1,"mt-1"],[1,"row","h5"],[1,"col-sm-12","col-md-5","col-lg-5","col-xl-5","d-sm-block","mb-2","viewWidth","mt-2","d-flex","justify-content-center"],[1,"full-width"],["matInput","","type","number","placeholder","Total Wich out Taxes:","formControlName","totalCostWorkWithoutTaxes","required","",2,"text-align","center",3,"keyup.enter","focusout"],[1,"col-sm-12","col-md-2","col-lg-2","col-xl-2","d-sm-block","viewWidth"],["matInput","","type","number","placeholder","Total Cost:","formControlName","totalCostWork","required","",2,"text-align","center",3,"keyup.enter","focusout"],["matInput","","type","number","placeholder","Total Amount Paid:","s","","tyle","text-align: center;","formControlName","totalAmountPaind"],["matInput","","type","number","placeholder","Remaining Payable:","formControlName","remainingPayable",2,"text-align","center"],[1,"mt-2","mb-2","d-flex","justify-content-center"],["mat-button","",1,"m-1",2,"background-color","green","color","white",3,"click"],["mat-button","",1,"m-1","ml-5",2,"background-color","rgb(202, 5, 5)","color","white",3,"click"],["label","PreView",2,"font-size","xx-large",3,"disabled"],["class","container-fluid mt-3",4,"ngIf"],["label","PreView Avance Invoice","style","font-size: xx-large;",3,"disabled",4,"ngIf"],["label","Send Mail",3,"disabled"],[1,"mt-1",3,"workPojo","emailHandyManTally","sendEvent"],[1,"contenedor"],["matTooltip","Menu","matTooltipClass","tooltip-tooltip-yelon",1,"botonF1",3,"matTooltipPosition","mouseover","mouseout"],["matTooltip","Place list Products of the Bills","matTooltipClass","tooltip-tooltip-blue",1,"botonF2",3,"ngClass","matTooltipPosition","mouseover","mouseout","click"],["matTooltip","PreView Avance Invoice wich payments","matTooltipClass","tooltip-tooltip-purpe",1,"botonF3",3,"ngClass","matTooltipPosition","mouseover","mouseout","click"],["matTooltip","Delete Work o Invoice","matTooltipClass","tooltip-tooltip-red",1,"botonF4",3,"ngClass","matTooltipPosition","mouseover","mouseout","click"],["matTooltip","Save Invoice","matTooltipClass","tooltip-tooltip-green",1,"botonF5",3,"ngClass","matTooltipPosition","mouseover","mouseout","click"],["matTooltip","Cancel","matTooltipClass","tooltip-tooltip-purpe",1,"botonF6",3,"ngClass","matTooltipPosition","mouseover","mouseout","click"],["mat-menu-item","",3,"click"],[1,"card-subtitle","mb-2","text-muted"],[2,"color","black"],["mat-mini-fab","","color","primary","aria-label","button with a plus new client",1,"ml-1",3,"click"],[1,"mb-1"],[1,"ml-2"],["for","title",1,"m-1"],[2,"font-weight","bold"],[1,"mt-4","d-flex","justify-content-center"],["mat-button","",1,"m-1","buttonEdid",3,"click"],["mat-button","",1,"m-1","ml-5","buttonDelete",3,"click"],["matInput","","type","number","placeholder","daysToDeline","formControlName","daysToDeline",2,"font-weight","bold","color","rgb(3, 3, 49)",3,"ngClass"],["class","col-sm-12 col-md-4 col-lg-4 col-xl-4 d-sm-block mb-2",4,"ngIf"],["class","col-sm-12 col-md-4 col-lg-4 col-xl-4 d-sm-block ",4,"ngIf"],["mat-mini-fab","","color","primary","aria-label","button with a plus new client",1,"flowRight",3,"click"],[3,"servicelist","deleteService","edidServiceEvent",4,"ngIf"],[3,"servicelist","deleteService","edidServiceEvent"],["mat-mini-fab","","color","primary","aria-label","button with a plus new client",1,"m-1","flowRight",3,"click"],[3,"subcontractorlist","edidSubContractorsEvent","deleteSubContractors",4,"ngIf"],[3,"subcontractorlist","edidSubContractorsEvent","deleteSubContractors"],[3,"billList","deleteBill","edidBillEvent",4,"ngIf"],[3,"billList","deleteBill","edidBillEvent"],[1,"col-12","d-sm-block","mb-2"],[3,"paymentlist","deletePayment","edidPaymentEvent"],[2,"width","100%","height","100%",3,"invoiceView","printProduct","profitCalculation","billTotalOverhead","servicesTotalOverhead","servicesTotal","subcontractorsTotal","billLastTotal","dataJshandyManServices"],["label","PreView Avance Invoice",2,"font-size","xx-large",3,"disabled"]],template:function(t,i){if(1&t&&(D.oc(0,"div",0),D.oc(1,"mat-tab-group",1),D.yc("selectedIndexChange",function(t){return i.selected.setValue(t)}),D.oc(2,"mat-tab",2),D.jc(3,"br"),D.oc(4,"div",3),D.oc(5,"div",4),D.oc(6,"div",5),D.oc(7,"label",6),D.bd(8),D.nc(),D.nc(),D.oc(9,"div",5),D.oc(10,"samp",7,8),D.oc(12,"mat-icon"),D.bd(13,"help"),D.nc(),D.nc(),D.oc(14,"button",9),D.bd(15),D.nc(),D.oc(16,"mat-menu",null,10),D.Zc(18,mi,2,1,"button",11),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(19,"div",12),D.oc(20,"div",13),D.oc(21,"div",14),D.oc(22,"form",15),D.oc(23,"div",16),D.oc(24,"label",17),D.bd(25,"Title:"),D.nc(),D.oc(26,"input",18),D.yc("keyup",function(){return i.onTitle()}),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(27,"div",19),D.oc(28,"div",20),D.oc(29,"div",21),D.oc(30,"div",22),D.oc(31,"form",15),D.oc(32,"mat-form-field",23),D.oc(33,"textarea",24),D.yc("keyup",function(){return i.onDescription()}),D.nc(),D.Zc(34,pi,4,0,"mat-error",25),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(35,"div",26),D.oc(36,"div",27),D.oc(37,"div",28),D.oc(38,"div",29),D.oc(39,"h5",30),D.bd(40,"Client:"),D.nc(),D.Zc(41,fi,6,1,"h6",31),D.Zc(42,gi,11,2,"div",32),D.Zc(43,vi,5,0,"div",33),D.nc(),D.nc(),D.nc(),D.oc(44,"div",34),D.oc(45,"div",28),D.oc(46,"div",29),D.oc(47,"h5",30),D.bd(48,"Data:"),D.nc(),D.oc(49,"form",35),D.oc(50,"div",36),D.oc(51,"label",37),D.bd(52,"Overhead:"),D.nc(),D.oc(53,"mat-form-field",38),D.oc(54,"input",39),D.yc("keyup.enter",function(){return i.onOverhead()})("focusout",function(){return i.onOverhead()}),D.nc(),D.nc(),D.oc(55,"label",40),D.bd(56,"%"),D.nc(),D.nc(),D.oc(57,"div",36),D.oc(58,"label",41),D.bd(59,"Star Date:"),D.nc(),D.oc(60,"mat-form-field",42),D.oc(61,"input",43),D.yc("dateChange",function(t){return i.addEvent("change",t)}),D.nc(),D.jc(62,"mat-datepicker-toggle",44),D.jc(63,"mat-datepicker",null,45),D.nc(),D.nc(),D.oc(65,"div",36),D.oc(66,"label",41),D.bd(67,"Deadline:"),D.nc(),D.oc(68,"mat-form-field",42),D.oc(69,"input",46),D.yc("dateChange",function(t){return i.addDedlineEvent("change",t)}),D.nc(),D.jc(70,"mat-datepicker-toggle",44),D.jc(71,"mat-datepicker",null,47),D.nc(),D.nc(),D.Zc(73,wi,5,1,"div",48),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(74,"div",19),D.Zc(75,Pi,4,3,"div",49),D.nc(),D.jc(76,"br"),D.oc(77,"div",19),D.oc(78,"div",4),D.oc(79,"div",50),D.oc(80,"div",51),D.oc(81,"div",29),D.oc(82,"label",52),D.bd(83,"Service Overhead:"),D.nc(),D.bd(84),D.nc(),D.nc(),D.nc(),D.oc(85,"div",50),D.oc(86,"div",51),D.oc(87,"div",29),D.oc(88,"label",52),D.bd(89,"Profit:"),D.nc(),D.bd(90),D.nc(),D.nc(),D.nc(),D.oc(91,"div",53),D.oc(92,"div",51),D.oc(93,"div",29),D.oc(94,"label",52),D.bd(95," Bill Overhead:"),D.nc(),D.bd(96),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.jc(97,"br"),D.oc(98,"div",54),D.oc(99,"div",55),D.oc(100,"div",29),D.oc(101,"div",56),D.oc(102,"label",57),D.bd(103,"Total Cost:"),D.nc(),D.nc(),D.oc(104,"form",58),D.oc(105,"div",59),D.oc(106,"div",60),D.oc(107,"div",61),D.oc(108,"div",51),D.oc(109,"div",29),D.oc(110,"mat-form-field",62),D.oc(111,"input",63),D.yc("keyup.enter",function(){return i.totalManualWichOutTaxes()})("focusout",function(){return i.totalManualWichOutTaxes()}),D.nc(),D.Zc(112,Si,4,0,"mat-error",25),D.nc(),D.nc(),D.nc(),D.nc(),D.jc(113,"div",64),D.oc(114,"div",61),D.oc(115,"div",51),D.oc(116,"div",29),D.oc(117,"mat-form-field",62),D.oc(118,"input",65),D.yc("keyup.enter",function(){return i.totalManualWichTaxes()})("focusout",function(){return i.totalManualWichTaxes()}),D.nc(),D.Zc(119,Di,4,0,"mat-error",25),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(120,"div",19),D.Zc(121,Oi,9,1,"div",49),D.nc(),D.oc(122,"div",54),D.oc(123,"div",55),D.oc(124,"div",29),D.oc(125,"div",56),D.oc(126,"label",57),D.bd(127,"Total Payments:"),D.nc(),D.nc(),D.oc(128,"form",58),D.oc(129,"div",59),D.oc(130,"div",60),D.oc(131,"div",61),D.oc(132,"div",51),D.oc(133,"div",29),D.oc(134,"mat-form-field",62),D.jc(135,"input",66),D.Zc(136,Ii,4,0,"mat-error",25),D.nc(),D.nc(),D.nc(),D.nc(),D.jc(137,"div",64),D.oc(138,"div",61),D.oc(139,"div",51),D.oc(140,"div",29),D.oc(141,"mat-form-field",62),D.jc(142,"input",67),D.Zc(143,Ai,4,0,"mat-error",25),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.nc(),D.jc(144,"br"),D.oc(145,"div",68),D.oc(146,"button",69),D.yc("click",function(){return i.saveNotification()}),D.bd(147,"Save"),D.nc(),D.oc(148,"button",70),D.yc("click",function(){return i.onCancel()}),D.bd(149,"cancel"),D.nc(),D.nc(),D.nc(),D.oc(150,"mat-tab",71),D.Zc(151,Ji,2,9,"div",72),D.nc(),D.Zc(152,Wi,2,2,"mat-tab",73),D.oc(153,"mat-tab",74),D.oc(154,"div",19),D.oc(155,"app-send-mail",75),D.yc("sendEvent",function(t){return i.selectChange(t)}),D.nc(),D.nc(),D.nc(),D.nc(),D.oc(156,"div"),D.oc(157,"div",76),D.oc(158,"button",77,8),D.yc("mouseover",function(){return i.showDivWithHoverStyles(2)})("mouseout",function(){return i.showAllDivsWithDefaultStyles()}),D.Zc(160,Ei,2,0,"mat-icon",25),D.Zc(161,Fi,2,0,"mat-icon",25),D.nc(),D.oc(162,"button",78,8),D.yc("mouseover",function(){return i.showDivWithHoverStyles(2)})("mouseout",function(){return i.showAllDivsWithDefaultStyles()})("click",function(){return i.onPrintProduct()}),D.oc(164,"mat-icon"),D.bd(165,"dns"),D.nc(),D.nc(),D.oc(166,"button",79,8),D.yc("mouseover",function(){return i.showDivWithHoverStyles(2)})("mouseout",function(){return i.showAllDivsWithDefaultStyles()})("click",function(){return i.onViewAvancePayments()}),D.oc(168,"mat-icon"),D.bd(169,"brightness_auto"),D.nc(),D.nc(),D.oc(170,"button",80,8),D.yc("mouseover",function(){return i.showDivWithHoverStyles(2)})("mouseout",function(){return i.showAllDivsWithDefaultStyles()})("click",function(){return i.onDeleteWork()}),D.Zc(172,_i,2,0,"mat-icon",25),D.Zc(173,Zi,2,0,"mat-icon",25),D.nc(),D.oc(174,"button",81,8),D.yc("mouseover",function(){return i.showDivWithHoverStyles(2)})("mouseout",function(){return i.showAllDivsWithDefaultStyles()})("click",function(){return i.saveNotification()}),D.oc(176,"mat-icon"),D.bd(177,"save"),D.nc(),D.nc(),D.oc(178,"button",82,8),D.yc("mouseover",function(){return i.showDivWithHoverStyles(2)})("mouseout",function(){return i.showAllDivsWithDefaultStyles()})("click",function(){return i.onCancel()}),D.oc(180,"mat-icon"),D.bd(181,"close"),D.nc(),D.nc(),D.nc(),D.nc(),D.nc()),2&t){const t=D.Rc(17),e=D.Rc(64),o=D.Rc(72);D.Vb(1),D.Jc("selectedIndex",i.selected.value),D.Vb(7),D.cd(i.vistaName),D.Vb(2),D.Jc("matTooltip",i.tooltipStatus),D.Vb(4),D.Jc("matMenuTriggerFor",t)("disabled",i.disableStatusList),D.Vb(1),D.dd(" ",i.work.status," "),D.Vb(3),D.Jc("ngForOf",i.statusList),D.Vb(4),D.Jc("formGroup",i.tileAndForm),D.Vb(9),D.Jc("formGroup",i.tileAndForm),D.Vb(3),D.Jc("ngIf",i.tileAndForm.controls.description.hasError("required")),D.Vb(7),D.Jc("ngIf",!i.clinetExist),D.Vb(1),D.Jc("ngIf",i.clinetExist),D.Vb(1),D.Jc("ngIf",i.clinetExist),D.Vb(6),D.Jc("formGroup",i.tileAndForm),D.Vb(12),D.Jc("matDatepicker",e),D.Vb(1),D.Jc("for",e),D.Vb(7),D.Jc("matDatepicker",o),D.Vb(1),D.Jc("for",o),D.Vb(3),D.Jc("ngIf",i.daysToDeline),D.Vb(2),D.Jc("ngIf",i.work),D.Vb(9),D.dd(" ",i.servicesTotalOverhead," "),D.Vb(6),D.dd(" ",i.subcontractorsTotalProfit," "),D.Vb(6),D.dd(" ",i.billTotalOverhead," "),D.Vb(8),D.Jc("formGroup",i.inputForm),D.Vb(8),D.Jc("ngIf",i.inputForm.controls.totalCostWorkWithoutTaxes.hasError("required")),D.Vb(7),D.Jc("ngIf",i.inputForm.controls.totalCostWork.hasError("required")),D.Vb(2),D.Jc("ngIf",i.work.idWork),D.Vb(7),D.Jc("formGroup",i.inputForm),D.Vb(8),D.Jc("ngIf",i.inputForm.controls.totalAmountPaind.hasError("required")),D.Vb(7),D.Jc("ngIf",i.inputForm.controls.remainingPayable.hasError("required")),D.Vb(7),D.Jc("disabled",i.disabledTab),D.Vb(1),D.Jc("ngIf",void 0!==i.work.idWork&&null!=i.work.idWork),D.Vb(1),D.Jc("ngIf",i.email.avancePayments),D.Vb(1),D.Jc("disabled",i.disabledTab),D.Vb(2),D.Jc("workPojo",i.work)("emailHandyManTally",i.email),D.Vb(3),D.Jc("matTooltipPosition",i.position.value),D.Vb(2),D.Jc("ngIf",1===i.hoveredDivId),D.Vb(1),D.Jc("ngIf",2===i.hoveredDivId),D.Vb(1),D.Jc("ngClass",2===i.hoveredDivId?"btna":"btn")("matTooltipPosition",i.position.value),D.Vb(4),D.Jc("ngClass",2===i.hoveredDivId?"btna":"btn")("matTooltipPosition",i.position.value),D.Vb(4),D.Jc("ngClass",2===i.hoveredDivId?"btna":"btn")("matTooltipPosition",i.position.value),D.Vb(2),D.Jc("ngIf",1===i.hoveredDivId),D.Vb(1),D.Jc("ngIf",2===i.hoveredDivId),D.Vb(1),D.Jc("ngClass",2===i.hoveredDivId?"btna":"btn")("matTooltipPosition",i.position.value),D.Vb(4),D.Jc("ngClass",2===i.hoveredDivId?"btna":"btn")("matTooltipPosition",i.position.value)}},directives:[rt.b,rt.a,lt.a,$.a,W.a,st.d,st.a,o.m,s.v,s.n,s.g,s.c,s.m,s.f,s.t,A.c,J.b,o.n,s.r,M.b,M.d,A.h,M.a,dt.a,o.l,st.b,A.b,x.a,T.a,v.a,tt,Ft,ui],styles:[".mac-card{max-width:100%}.ex-button-row a,.ex-button-row button{margin-right:8px}.cleanFlow{overflow:hidden}.flowRight{float:right}.viewWidth{width:100%;max-width:100%}.ex-chip-list{width:100%}.buttonEdid{background-color:#434b43;color:#fff}.buttonDelete{background-color:#ca0505;color:#fff}.mat-tab-header{color:#fff!important;min-width:20px!important;padding:4px;background-color:#f1ab28;font-weight:700;box-shadow:8px 8px 2px rgba(52,53,53,.521);font-size:50px}.tooltip-button{margin-top:16px}.tooltip-tooltip-red{background:#b71c1c}.tooltip-tooltip-yelon{background:#f5a510}.tooltip-tooltip-blue{background:#04579b}.tooltip-tooltip-purpe{background:#0e2aff}.tooltip-tooltip-green{background:green}.green{background-color:green!important}.delete{background:#cc2b2b!important}.yellon{background-color:#b46937!important}.deadline{background:#cc2b2b!important}.noDeadline{text-align:center;font-weight:700;color:blue}.contenedor{position:fixed;bottom:20px;right:20px;z-index:20}.botonF1{width:55px;height:55px;border-radius:100%;background:#f5a510;right:0;bottom:0;position:absolute;margin-right:16px;margin-bottom:16px;border:none;outline:none;color:#fff;font-size:36px;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;transition:.3s}span{transition:.5s}.botonF1:hover span{transform:rotate(1turn)}.botonF1:active{transform:scale(1.1)}.btn{width:40px;height:40px;border-radius:100%;border:none;color:#fff;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;font-size:28px;outline:none;position:absolute;right:0;bottom:0;margin-right:26px;transform:scale(0)}.botonF2{background:#04579b;margin-bottom:85px;transition:.5s}.botonF2:active{transform:scale(1.1)}.botonF3{background:#0e2aff;margin-bottom:130px;transition:.7s}.botonF3:active{transform:scale(1.1)}.botonF4{background:#f13427;margin-bottom:175px;transition:.9s}.botonF4:active{transform:scale(1.1)}.botonF5{background:green;margin-bottom:220px;transition:.99s}.botonF5:active{transform:scale(1.1)}.botonF6{background:#e90808;margin-bottom:265px;transition:.109s}.botonF6:active{transform:scale(1.1)}.btna:hover{background:#fff!important;color:#cc2b2b!important}.btna{width:40px;height:40px;border-radius:100%;border:none;color:#fff;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;font-size:28px;outline:none;position:absolute;right:0;bottom:0;margin-right:26px;transform:scale(1)}"],encapsulation:2});var Ni=e("M9IT"),$i=e("Dh3D"),zi=e("LvDl"),Li=e("u47x");function Ri(t,i){1&t&&(D.oc(0,"th",24),D.bd(1," ID "),D.nc())}function Bi(t,i){if(1&t&&(D.oc(0,"td",25),D.bd(1),D.nc()),2&t){const t=i.$implicit;D.Vb(1),D.dd(" ",t.idWork," ")}}function qi(t,i){1&t&&(D.oc(0,"th",26),D.bd(1," Name "),D.nc())}function Hi(t,i){if(1&t&&(D.oc(0,"td",25),D.bd(1),D.nc()),2&t){const t=i.$implicit;D.Vb(1),D.dd(" ",t.owner," ")}}function Qi(t,i){1&t&&(D.oc(0,"th",27),D.bd(1,"Create Date "),D.nc())}function Gi(t,i){if(1&t&&(D.oc(0,"td",25),D.bd(1),D.Dc(2,"date"),D.nc()),2&t){const t=i.$implicit;D.Vb(1),D.dd(" ",D.Fc(2,1,t.createDay,"dd/MM/yyyy"),"")}}function Ui(t,i){1&t&&(D.oc(0,"th",28),D.bd(1," Total Cost "),D.nc())}function Yi(t,i){if(1&t&&(D.oc(0,"td",25),D.bd(1),D.nc()),2&t){const t=i.$implicit;D.Vb(1),D.dd(" ",t.totalCostWork," ")}}function Ki(t,i){1&t&&(D.oc(0,"th",28),D.bd(1," Status "),D.nc())}function Xi(t,i){if(1&t&&(D.oc(0,"td",29),D.bd(1),D.nc()),2&t){const t=i.$implicit;D.Vb(1),D.dd(" ",t.status," ")}}function te(t,i){1&t&&D.jc(0,"tr",30)}function ie(t,i){if(1&t){const t=D.pc();D.oc(0,"tr",31),D.yc("click",function(){D.Tc(t);const e=i.$implicit;return D.Cc().onNavegateToDetail2(e)}),D.nc()}}function ee(t,i){if(1&t&&(D.oc(0,"tr",32),D.oc(1,"td",33),D.bd(2),D.nc(),D.nc()),2&t){D.Cc();const t=D.Rc(11);D.Vb(2),D.dd('No data matching the filter "',t.value,'"')}}const oe=function(){return[5,10,25,100]};class ne{constructor(t,i,e,o,n){this.snackBar=t,this._liveAnnouncer=i,this.invoiceWorkService=e,this.router=o,this.coreService=n,this.displayedColumns=["idWork","owner","createDay","totalCostWork","status"],this.dataSourceInvoice=new N.l,this.dataListWork2=new Array,this.title="Invoice",this.onGetData2()}ngOnChanges(t){this.dataSourceInvoice.paginator=this.paginator,this.dataSourceInvoice.sort=this.sort}ngAfterViewInit(){this.dataSourceInvoice.paginator=this.paginator,this.dataSourceInvoice.sort=this.sort}ngOnInit(){this.invoiceWorkService.em2.subscribe(t=>{this.dataListWork2=t,this.dataSourceInvoice.data=this.dataListWork2})}applyFilter(t){const i=t.target.value;this.dataSourceInvoice.filter=i.trim().toLowerCase()}onGetData2(){let t=new Array;this.invoiceWorkService.getList().subscribe(i=>{t=i.entidades,t.forEach(t=>{t.totalCostWork=this.coreService.round(t.totalCostWork)}),this.invoiceWorkService.updateWorkList2(t)},t=>{this.snackBar.open("FAILL THE RESPONSE OFF SERVER","Cerrar")})}onNavegateToDetail2(t){this.router.navigate(["/jshandy-man-services/menu/invoice/edid-and-detail"],{queryParams:{id:t.idWork}})}filterForselection(t,i){return zi.differenceWith(t,i,zi.isEqual)}onCreateNewWork(){this.router.navigateByUrl("/jshandy-man-services/menu/invoice/new")}applyDateFilter(){this.dataSourceInvoice.data=this.dataListWork2}announceSortChange(t){t.direction?this._liveAnnouncer.announce(`Sorted ${t.direction}ending`):this._liveAnnouncer.announce("Sorting cleared")}decriptClienteInfo(){this.coreService.startClient().subscribe(t=>{})}}ne.\u0275fac=function(t){return new(t||ne)(D.ic(O.a),D.ic(Li.k),D.ic(it.a),D.ic(r.c),D.ic(et.a))},ne.\u0275cmp=D.cc({type:ne,selectors:[["app-invoice"]],viewQuery:function(t,i){if(1&t&&(D.fd($i.a,3),D.fd(Ni.a,3)),2&t){let t;D.Qc(t=D.zc())&&(i.sort=t.first),D.Qc(t=D.zc())&&(i.paginator=t.first)}},features:[D.Tb],decls:33,vars:6,consts:[[1,"topeSeparation"],["for","title",1,"m-1","h3"],[1,"ex-button-row","mb-1","mt-1","flowRight"],["mat-fab","","color","primary",3,"click"],["appearance","standard"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","idWork"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by ID",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","owner"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Name",4,"matHeaderCellDef"],["matColumnDef","createDay"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Create Date",4,"matHeaderCellDef"],["matColumnDef","totalCostWork"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Total Cost",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-cell","","style","font-size: 12px;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by ID"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Create Date"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Total Cost"],["mat-cell","",2,"font-size","12px"],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(D.oc(0,"div",0),D.oc(1,"header"),D.oc(2,"label",1),D.bd(3),D.nc(),D.nc(),D.oc(4,"div",2),D.oc(5,"button",3),D.yc("click",function(){return i.onCreateNewWork()}),D.bd(6,"New"),D.nc(),D.nc(),D.oc(7,"mat-form-field",4),D.oc(8,"mat-label"),D.bd(9,"Filter"),D.nc(),D.oc(10,"input",5,6),D.yc("keyup",function(t){return i.applyFilter(t)}),D.nc(),D.nc(),D.oc(12,"div",7),D.oc(13,"table",8),D.yc("matSortChange",function(t){return i.announceSortChange(t)}),D.mc(14,9),D.Zc(15,Ri,2,0,"th",10),D.Zc(16,Bi,2,1,"td",11),D.lc(),D.mc(17,12),D.Zc(18,qi,2,0,"th",13),D.Zc(19,Hi,2,1,"td",11),D.lc(),D.mc(20,14),D.Zc(21,Qi,2,0,"th",15),D.Zc(22,Gi,3,4,"td",11),D.lc(),D.mc(23,16),D.Zc(24,Ui,2,0,"th",17),D.Zc(25,Yi,2,1,"td",11),D.lc(),D.mc(26,18),D.Zc(27,Ki,2,0,"th",17),D.Zc(28,Xi,2,1,"td",19),D.lc(),D.Zc(29,te,1,0,"tr",20),D.Zc(30,ie,1,0,"tr",21),D.Zc(31,ee,3,1,"tr",22),D.nc(),D.jc(32,"mat-paginator",23),D.nc(),D.nc()),2&t&&(D.Vb(3),D.cd(i.title),D.Vb(10),D.Jc("dataSource",i.dataSourceInvoice),D.Vb(16),D.Jc("matHeaderRowDef",i.displayedColumns),D.Vb(1),D.Jc("matRowDefColumns",i.displayedColumns),D.Vb(2),D.Jc("pageSizeOptions",D.Mc(5,oe)))},directives:[W.a,A.c,A.g,J.b,N.k,$i.a,N.c,N.e,N.b,N.g,N.j,N.h,Ni.a,N.d,$i.b,N.a,N.f,N.i],pipes:[o.f],styles:["table[_ngcontent-%COMP%]{width:100%;justify-content:center}.mat-column-id[_ngcontent-%COMP%]{Word-wrap:break-Word!important;white-space:unset!important;flex:0 0 15%!important;width:10%!important;margin:0 0 0 10px;overflow-wrap:break-Word;Word-wrap:break-Word;Word-break:break-Word;-webkit-hyphens:auto;hyphens:auto}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.ex-button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .ex-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px}.cleanFlow[_ngcontent-%COMP%]{overflow:hidden}.flowRight[_ngcontent-%COMP%]{float:right}"]});const ce=[{path:"list",component:ne,canActivate:[l.a]},{path:"edid-and-detail",component:ji,canActivate:[l.a]},{path:"new",component:ji,canActivate:[l.a]}];class ae{}ae.\u0275fac=function(t){return new(t||ae)},ae.\u0275mod=D.gc({type:ae}),ae.\u0275inj=D.fc({imports:[[r.e.forChild(ce)],r.e]});class re{}re.\u0275fac=function(t){return new(t||re)},re.\u0275mod=D.gc({type:re}),re.\u0275inj=D.fc({providers:[l.a],imports:[[o.c,n.a,c.a,a.b,ae]]})}}]);