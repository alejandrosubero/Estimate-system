(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Ibmz:function(t,i,e){"use strict";e.d(i,"a",function(){return Q});var o=e("3Pt+"),c=e("0IaG"),r=e("+0xr"),n=e("qmPo");class a{}var l=e("3hzH"),s=e("ltNV");class d{}var u=e("fXoL"),m=e("bSwM"),h=e("ofXK"),b=e("bTqV");function p(t,i){if(1&t){const t=u.pc();u.oc(0,"div",1),u.oc(1,"div",5),u.oc(2,"div",12),u.oc(3,"form",13),u.oc(4,"div",14),u.oc(5,"label",15),u.bd(6,"Price/Total:"),u.nc(),u.oc(7,"input",16),u.yc("keyup.enter",function(){u.Tc(t);return u.Cc().changePrices()})("focusout",function(){u.Tc(t);return u.Cc().changePrices()}),u.nc(),u.nc(),u.nc(),u.nc(),u.nc(),u.nc()}if(2&t){const t=u.Cc();u.Vb(3),u.Jc("formGroup",t.inputForm)}}class f{constructor(t,i,e){this.fb=t,this.dialogRef=i,this.data=e,this.mensaje="By accepting, you will remove the item from the list of calculations for the total cost, you can modify the price of the item.",this.title="Item Modifier Panel",this.checked=!1,this.disabled=!1,this.indeterminate=!1,this.labelPosition="before",this.color="warn",this.inputForm=this.fb.group({priceOrTotal:[null,o.u.required]}),this.item=new l.a,void 0!==e.item&&null!=e.item&&(this.item=e.item)}ngOnInit(){}onAgree(){const t=new d;t.oldProduct=this.item,this.checked&&(t.newProduct=this.copyItem(this.item),void 0!==this.inputForm.value.priceOrTotal&&null!=this.inputForm.value.priceOrTotal&&(t.newProduct.price=this.inputForm.value.priceOrTotal)),t.oldProduct.itemDeliteEdit=!0,this.dialogRef.close(t)}copyItem(t){const i=new l.a;return i.productCode=t.productCode,i.name=t.name,i.categories=t.categories,i.description=t.description,i.notas=t.notas,i.stockNumber=t.stockNumber,i.price=0,i.priceWithTaxes=0,i.totalPriceWithTaxes=0,i.totalPriceWithOupTaxes=0,i}onCancel(){this.dialogRef.close()}changePrices(){console.log(this.checked)}}f.\u0275fac=function(t){return new(t||f)(u.ic(o.d),u.ic(c.g),u.ic(c.a))},f.\u0275cmp=u.cc({type:f,selectors:[["app-app-panel-item-product"]],decls:23,vars:8,consts:[[1,"container","panelBackground"],[1,"row"],[1,"col","mat-elevation-z4",2,"background-color","rgba(0, 0, 0, 0.966)","color","rgb(253, 253, 253)","height","40px"],[1,"title",2,"margin-top","8px"],[1,"col"],[1,"col-12"],[1,"exa-section"],[1,"exa-margin",3,"ngModel","indeterminate","labelPosition","color","disabled","ngModelChange","indeterminateChange"],["class","row",4,"ngIf"],[1,"mt-5","mb-2","d-flex","justify-content-center"],["mat-button","",1,"m-1","ml-5",2,"background-color","rgb(202, 5, 5)","color","white",3,"click"],["mat-button","",1,"m-1","ml-5",2,"background-color","green","color","white",3,"click"],[1,"mt-2","mb-2","d-flex","justify-content-center"],[1,"col-12",3,"formGroup"],[1,"input-group"],["for","priceOrTotal",1,"m-1"],["type","number","min","0","placeholder","0","formControlName","priceOrTotal","id","priceOrTotal","aria-label","priceOrTotal","aria-describedby","basic-addon2","required","",1,"form-control",3,"keyup.enter","focusout"]],template:function(t,i){1&t&&(u.oc(0,"div",0),u.oc(1,"div",1),u.oc(2,"div",2),u.oc(3,"div",3),u.bd(4),u.nc(),u.nc(),u.nc(),u.jc(5,"br"),u.oc(6,"div",1),u.oc(7,"div",4),u.bd(8),u.nc(),u.nc(),u.jc(9,"br"),u.oc(10,"div",1),u.oc(11,"div",5),u.oc(12,"section",6),u.oc(13,"mat-checkbox",7),u.yc("ngModelChange",function(t){return i.checked=t})("indeterminateChange",function(t){return i.indeterminate=t}),u.bd(14," Do you want to change the price of the item?: "),u.nc(),u.nc(),u.nc(),u.nc(),u.Zc(15,p,8,1,"div",8),u.oc(16,"div",1),u.oc(17,"div",5),u.oc(18,"div",9),u.oc(19,"button",10),u.yc("click",function(){return i.onCancel()}),u.bd(20," Cancel "),u.nc(),u.oc(21,"button",11),u.yc("click",function(){return i.onAgree()}),u.bd(22," Agree "),u.nc(),u.nc(),u.nc(),u.nc(),u.nc()),2&t&&(u.Vb(4),u.dd(" ",i.title," "),u.Vb(4),u.dd(" ",i.mensaje," "),u.Vb(5),u.Jc("ngModel",i.checked)("indeterminate",i.indeterminate)("labelPosition",i.labelPosition)("color",i.color)("disabled",i.disabled),u.Vb(2),u.Jc("ngIf",i.checked))},directives:[m.a,o.m,o.p,h.n,b.a,o.v,o.n,o.g,o.r,o.c,o.f,o.t],styles:[".exa-h2[_ngcontent-%COMP%]{margin:10px}.exa-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.exa-margin[_ngcontent-%COMP%]{margin:0 10px}.panelBackground[_ngcontent-%COMP%]{background-color:#faf7f4}"]});var v=e("yZ9z"),C=e("P64T"),g=e("/t3+"),w=e("kmnG"),S=e("qFsG");function T(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," Name is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function k(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," Product Code is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function y(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," The categories is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function F(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," The Description is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function P(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," price is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function I(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," Price With Taxes is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function O(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," stock Number is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function E(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," Total Price With Oup Taxes is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function N(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," Total Price With Taxes is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function x(t,i){if(1&t){const t=u.pc();u.oc(0,"button",28),u.yc("click",function(){u.Tc(t);return u.Cc().panelItem()}),u.bd(1,"Modifi"),u.nc()}}class V{constructor(t,i,e,c,r,n){this.fb=t,this.dialog=i,this.dialogRef=e,this.data=c,this.sessionService=r,this.coreService=n,this.productForm=this.fb.group({productCode:[null,o.u.required],name:[null,o.u.required],description:[null,o.u.required],price:[null,o.u.required],stockNumber:[null,o.u.required],priceWithTaxes:[null],categories:[null],notas:[null],totalPriceWithTaxes:[null],totalPriceWithOupTaxes:[null]}),this.oldProduct=new l.a,this.titleProduct="",this.dialogoProduct=new d,this.dataEdit=!1,c.edit?(this.dataEdit=c.edit,this.product=this.newProducto(c.atributo),this.titleProduct="PRODUCT",this.updateView()):(this.titleProduct="NEW PRODUCT",this.product=new l.a,this.dialogoProduct=new d),this.seccion=this.sessionService.get("UserSession")}ngOnInit(){}onSave(){this.product.productCode=this.productForm.value.productCode,this.product.name=this.productForm.value.name,this.product.description=this.productForm.value.description,void 0!==this.productForm.value.categories&&null!=this.productForm.value.categories&&(this.product.categories=this.productForm.value.categories),void 0!==this.productForm.value.notas&&null!=this.productForm.value.notas&&(this.product.notas=this.productForm.value.notas),this.product.price=this.productForm.value.price,this.product.priceWithTaxes=this.productForm.value.priceWithTaxes,this.product.stockNumber=this.productForm.value.stockNumber,this.product.totalPriceWithTaxes=this.productForm.value.totalPriceWithTaxes,this.product.totalPriceWithOupTaxes=this.productForm.value.totalPriceWithOupTaxes,this.dataEdit&&void 0!==this.oldProduct&&null!=this.oldProduct&&void 0!==this.oldProduct.description&&null!=this.oldProduct.description&&(this.dialogoProduct.oldProduct=this.oldProduct),this.dialogoProduct.newProduct=this.product,this.dialogRef.close(this.dialogoProduct)}onCancel(){this.dialogRef.close()}updateView(){this.productForm.patchValue({productCode:this.product.productCode,name:this.product.name,categories:this.product.categories,description:this.product.description,notas:this.product.notas,price:this.product.price,priceWithTaxes:this.product.priceWithTaxes,stockNumber:this.product.stockNumber,totalPriceWithTaxes:this.coreService.round(this.product.totalPriceWithTaxes),totalPriceWithOupTaxes:this.coreService.round(this.product.totalPriceWithOupTaxes)})}checkPrice(){if(void 0===this.productForm.value.price||null==this.productForm.value.price&&void 0!==this.productForm.value.priceWithTaxes&&null!=this.productForm.value.priceWithTaxes){const t=this.product.priceWithTaxes-this.product.priceWithTaxes*(this.seccion.taxes/100);this.productForm.patchValue({price:t,priceWithTaxes:this.product.priceWithTaxes}),this.product.price=t}if(void 0===this.productForm.value.priceWithTaxes||null==this.productForm.value.priceWithTaxes&&void 0!==this.productForm.value.price&&null!=this.productForm.value.price){const t=this.productForm.value.price+this.productForm.value.price*(this.seccion.taxes/100);this.productForm.patchValue({price:this.productForm.value.price,priceWithTaxes:t}),this.product.priceWithTaxes=t}if((void 0!==this.productForm.value.price||null!=this.productForm.value.price)&&void 0!==this.productForm.value.priceWithTaxes&&null!=this.productForm.value.priceWithTaxes){const t=this.productForm.value.price+this.productForm.value.price*(this.seccion.taxes/100);this.productForm.patchValue({price:this.productForm.value.price,priceWithTaxes:t}),this.product.price=this.productForm.value.price,this.product.priceWithTaxes=t}if(void 0!==this.productForm.value.stockNumber&&null!=this.productForm.value.stockNumber&&void 0!==this.product.price&&null!=this.product.price){this.product.stockNumber=this.productForm.value.stockNumber;const t=this.product.price*this.product.stockNumber;this.product.totalPriceWithOupTaxes=t,this.product.totalPriceWithTaxes=this.product.totalPriceWithOupTaxes+this.product.totalPriceWithOupTaxes*(this.seccion.taxes/100),this.productForm.patchValue({totalPriceWithTaxes:this.coreService.round(this.product.totalPriceWithTaxes),totalPriceWithOupTaxes:this.coreService.round(this.product.totalPriceWithOupTaxes)})}}onDescription(){this.product.description=this.product.description}onNote(){this.product.notas=this.productForm.value.notas}panelItem(){const t=new c.d;t.disableClose=!0,t.autoFocus=!0,t.width="50%",t.height="auto",t.data={item:this.product};this.dialog.open(f,t).afterClosed().subscribe(t=>{void 0!==t&&null!=t&&(t.oldProduct.itemDeliteEdit&&void 0!==t.newProduct&&null!=t.newProduct&&(this.titleProduct="NEW PRODUCT",this.product=t.newProduct,this.oldProduct=t.oldProduct,this.updateView(),this.checkPrice()),(t.oldProduct.itemDeliteEdit&&void 0===t.newProduct||null==t.newProduct)&&(this.titleProduct="PRODUCT",this.product=t.oldProduct,this.updateView(),this.checkPrice()))})}newProducto(t){const i=new l.a;return i.productCode=t.productCode,i.name=t.name,i.categories=t.categories,i.description=t.description,i.notas=t.notas,i.stockNumber=t.stockNumber,i.price=t.price,i.priceWithTaxes=t.priceWithTaxes,i.totalPriceWithTaxes=t.totalPriceWithTaxes,i.totalPriceWithOupTaxes=t.totalPriceWithOupTaxes,i.idBill=t.idBill,i.idProduct=t.idProduct,i.itemDeliteEdit=t.itemDeliteEdit,i}}function B(t,i){if(1&t){const t=u.pc();u.oc(0,"div",1),u.oc(1,"div",5),u.oc(2,"div",12),u.oc(3,"form",13),u.oc(4,"div",14),u.oc(5,"label",15),u.bd(6,"Price/Total:"),u.nc(),u.oc(7,"input",16),u.yc("keyup.enter",function(){u.Tc(t);return u.Cc().changePrices()})("focusout",function(){u.Tc(t);return u.Cc().changePrices()}),u.nc(),u.nc(),u.nc(),u.nc(),u.nc(),u.nc()}if(2&t){const t=u.Cc();u.Vb(3),u.Jc("formGroup",t.inputForm)}}V.\u0275fac=function(t){return new(t||V)(u.ic(o.d),u.ic(c.b),u.ic(c.g),u.ic(c.a),u.ic(v.a),u.ic(C.a))},V.\u0275cmp=u.cc({type:V,selectors:[["app-new-product"]],decls:67,vars:12,consts:[[2,"padding-top","10px"],[1,"col","mat-elevation-z8","titleMarco"],[1,"mb-3","mt-3"],["novalidate","",1,"container-fluid",3,"formGroup"],[1,"container-fluid"],[1,"row-12","mt-1"],[1,"full-width"],["matInput","","placeholder","Name","formControlName","name","required",""],[4,"ngIf"],[1,"row"],[1,"col"],["matInput","","placeholder","Product Code","formControlName","productCode","required",""],["matInput","","placeholder","Categories","formControlName","categories"],["for","description",1,"m-1"],["appearance","fill",2,"width","100%"],["matInput","","placeholder","Description*","formControlName","description","required","",3,"keyup"],["matInput","","type","number","placeholder","price","formControlName","price","required","",3,"keyup.enter","focusout"],["matInput","","type","number","placeholder","Price With Taxes","formControlName","priceWithTaxes"],[1,"row","mt-1"],["matInput","","type","number","placeholder","Stock Number","formControlName","stockNumber","required","",3,"keyup.enter","focusout"],["matInput","","type","number","placeholder","Total Price With Oup Taxes","formControlName","totalPriceWithOupTaxes"],["matInput","","type","number","placeholder","Total Price With Taxes","formControlName","totalPriceWithTaxes"],["for","notas",1,"m-1"],["matInput","","placeholder","Notes","formControlName","notas",3,"keyup"],[1,"flex-container","mt-2","mb-2"],["mat-button","",1,"m-2","buttonColorGreen",3,"click"],["mat-button","",1,"m-2","buttonColorRed",3,"click"],["mat-button","","class","m-2 buttonColorBlue",3,"click",4,"ngIf"],["mat-button","",1,"m-2","buttonColorBlue",3,"click"]],template:function(t,i){1&t&&(u.oc(0,"div",0),u.oc(1,"header"),u.oc(2,"mat-toolbar",1),u.oc(3,"div"),u.bd(4),u.nc(),u.nc(),u.nc(),u.oc(5,"body",2),u.oc(6,"form",3),u.oc(7,"div",4),u.oc(8,"div",5),u.oc(9,"mat-form-field",6),u.jc(10,"input",7),u.Zc(11,T,4,0,"mat-error",8),u.nc(),u.nc(),u.nc(),u.oc(12,"div",4),u.oc(13,"div",9),u.oc(14,"div",10),u.oc(15,"mat-form-field",6),u.jc(16,"input",11),u.Zc(17,k,4,0,"mat-error",8),u.nc(),u.nc(),u.oc(18,"div",10),u.oc(19,"mat-form-field",6),u.jc(20,"input",12),u.Zc(21,y,4,0,"mat-error",8),u.nc(),u.nc(),u.nc(),u.nc(),u.oc(22,"div",4),u.oc(23,"div",5),u.oc(24,"label",13),u.bd(25,"Description:"),u.nc(),u.oc(26,"mat-form-field",14),u.oc(27,"textarea",15),u.yc("keyup",function(){return i.onDescription()}),u.nc(),u.Zc(28,F,4,0,"mat-error",8),u.nc(),u.nc(),u.nc(),u.oc(29,"div",4),u.oc(30,"div",9),u.oc(31,"div",10),u.oc(32,"mat-form-field",6),u.oc(33,"input",16),u.yc("keyup.enter",function(){return i.checkPrice()})("focusout",function(){return i.checkPrice()}),u.nc(),u.Zc(34,P,4,0,"mat-error",8),u.nc(),u.nc(),u.oc(35,"div",10),u.oc(36,"mat-form-field",6),u.jc(37,"input",17),u.Zc(38,I,4,0,"mat-error",8),u.nc(),u.nc(),u.nc(),u.nc(),u.oc(39,"div",4),u.oc(40,"div",18),u.oc(41,"div",10),u.oc(42,"mat-form-field",6),u.oc(43,"input",19),u.yc("keyup.enter",function(){return i.checkPrice()})("focusout",function(){return i.checkPrice()}),u.nc(),u.Zc(44,O,4,0,"mat-error",8),u.nc(),u.nc(),u.nc(),u.oc(45,"div",18),u.oc(46,"div",10),u.oc(47,"mat-form-field",6),u.jc(48,"input",20),u.Zc(49,E,4,0,"mat-error",8),u.nc(),u.nc(),u.nc(),u.oc(50,"div",18),u.oc(51,"div",10),u.oc(52,"mat-form-field",6),u.jc(53,"input",21),u.Zc(54,N,4,0,"mat-error",8),u.nc(),u.nc(),u.nc(),u.nc(),u.oc(55,"div",4),u.oc(56,"div",5),u.oc(57,"label",22),u.bd(58,"Notes:"),u.nc(),u.oc(59,"mat-form-field",14),u.oc(60,"textarea",23),u.yc("keyup",function(){return i.onNote()}),u.nc(),u.nc(),u.nc(),u.nc(),u.nc(),u.oc(61,"div",24),u.oc(62,"button",25),u.yc("click",function(){return i.onSave()}),u.bd(63,"Save"),u.nc(),u.oc(64,"button",26),u.yc("click",function(){return i.onCancel()}),u.bd(65,"cancel"),u.nc(),u.Zc(66,x,2,0,"button",27),u.nc(),u.nc(),u.nc()),2&t&&(u.Vb(4),u.cd(i.titleProduct),u.Vb(2),u.Jc("formGroup",i.productForm),u.Vb(5),u.Jc("ngIf",i.productForm.controls.name.hasError("required")),u.Vb(6),u.Jc("ngIf",i.productForm.controls.productCode.hasError("required")),u.Vb(4),u.Jc("ngIf",i.productForm.controls.categories.hasError("required")),u.Vb(7),u.Jc("ngIf",i.productForm.controls.description.hasError("required")),u.Vb(6),u.Jc("ngIf",i.productForm.controls.price.hasError("required")),u.Vb(4),u.Jc("ngIf",i.productForm.controls.priceWithTaxes.hasError("required")),u.Vb(6),u.Jc("ngIf",i.productForm.controls.stockNumber.hasError("required")),u.Vb(5),u.Jc("ngIf",i.productForm.controls.totalPriceWithOupTaxes.hasError("required")),u.Vb(5),u.Jc("ngIf",i.productForm.controls.totalPriceWithTaxes.hasError("required")),u.Vb(12),u.Jc("ngIf",void 0!==i.product.idProduct&&null!=i.product.idProduct))},directives:[g.a,o.v,o.n,o.g,w.c,S.b,o.c,o.m,o.f,o.t,h.n,o.r,b.a,w.b],styles:[".panelBackground[_ngcontent-%COMP%]{background-color:#fff}.containerz[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.item[_ngcontent-%COMP%]{flex:1 1 150px}"]});class W{constructor(t,i,e){this.fb=t,this.dialogRef=i,this.data=e,this.mensaje="By accepting, you will remove the item from the list of calculations for the total cost, you can modify the price of the item.",this.title="Item Modifier Panel",this.checked=!1,this.disabled=!1,this.indeterminate=!1,this.labelPosition="before",this.color="warn",this.inputForm=this.fb.group({priceOrTotal:[null,o.u.required]}),this.item=new n.a,void 0!==e.item&&null!=e.item&&(this.item=e.item)}ngOnInit(){}onAgree(){const t=new a;t.oldBill=this.item,this.checked&&(t.newBill=this.copyItem(this.item),void 0!==this.inputForm.value.priceOrTotal&&null!=this.inputForm.value.priceOrTotal&&(t.newBill.billTotal=this.inputForm.value.priceOrTotal)),t.oldBill.itemDeliteEdit=!0,this.dialogRef.close(t)}copyItem(t){const i=new n.a;return i.billNumber=t.billNumber,i.billType=t.billType,i.description=t.description,i.productsAndServices=t.productsAndServices,i.billTotal=0,i.billTotalWichoutTaxes=0,i}onCancel(){this.dialogRef.close()}changePrices(){console.log(this.checked)}}W.\u0275fac=function(t){return new(t||W)(u.ic(o.d),u.ic(c.g),u.ic(c.a))},W.\u0275cmp=u.cc({type:W,selectors:[["app-app-panel-item-bill"]],decls:23,vars:8,consts:[[1,"container","panelBackground"],[1,"row"],[1,"col","mat-elevation-z4",2,"background-color","rgba(0, 0, 0, 0.966)","color","rgb(253, 253, 253)","height","40px"],[1,"title",2,"margin-top","8px"],[1,"col"],[1,"col-12"],[1,"exa-section"],[1,"exa-margin",3,"ngModel","indeterminate","labelPosition","color","disabled","ngModelChange","indeterminateChange"],["class","row",4,"ngIf"],[1,"mt-5","mb-2","d-flex","justify-content-center"],["mat-button","",1,"m-1","ml-5","buttonColorRed",3,"click"],["mat-button","",1,"m-1","ml-5","buttonColorGreen",3,"click"],[1,"mt-2","mb-2","d-flex","justify-content-center"],[1,"col-12",3,"formGroup"],[1,"input-group"],["for","priceOrTotal",1,"m-1"],["type","number","min","0","placeholder","0","formControlName","priceOrTotal","id","priceOrTotal","aria-label","priceOrTotal","aria-describedby","basic-addon2","required","",1,"form-control",3,"keyup.enter","focusout"]],template:function(t,i){1&t&&(u.oc(0,"div",0),u.oc(1,"div",1),u.oc(2,"div",2),u.oc(3,"div",3),u.bd(4),u.nc(),u.nc(),u.nc(),u.jc(5,"br"),u.oc(6,"div",1),u.oc(7,"div",4),u.bd(8),u.nc(),u.nc(),u.jc(9,"br"),u.oc(10,"div",1),u.oc(11,"div",5),u.oc(12,"section",6),u.oc(13,"mat-checkbox",7),u.yc("ngModelChange",function(t){return i.checked=t})("indeterminateChange",function(t){return i.indeterminate=t}),u.bd(14," Do you want to change the price of the item?: "),u.nc(),u.nc(),u.nc(),u.nc(),u.Zc(15,B,8,1,"div",8),u.oc(16,"div",1),u.oc(17,"div",5),u.oc(18,"div",9),u.oc(19,"button",10),u.yc("click",function(){return i.onCancel()}),u.bd(20,"Cancel"),u.nc(),u.oc(21,"button",11),u.yc("click",function(){return i.onAgree()}),u.bd(22,"Agree"),u.nc(),u.nc(),u.nc(),u.nc(),u.nc()),2&t&&(u.Vb(4),u.dd(" ",i.title," "),u.Vb(4),u.dd(" ",i.mensaje," "),u.Vb(5),u.Jc("ngModel",i.checked)("indeterminate",i.indeterminate)("labelPosition",i.labelPosition)("color",i.color)("disabled",i.disabled),u.Vb(2),u.Jc("ngIf",i.checked))},directives:[m.a,o.m,o.p,h.n,b.a,o.v,o.n,o.g,o.r,o.c,o.f,o.t],styles:[""]});var D=e("dNgK"),q=e("NFeN");function A(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," bill Number is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function M(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," bill Type is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function j(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," The Description is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function R(t,i){1&t&&(u.oc(0,"th",37),u.bd(1,"Product"),u.nc())}function J(t,i){if(1&t&&(u.oc(0,"td",38),u.bd(1),u.nc()),2&t){const t=i.$implicit;u.Jc("ngClass",t.itemDeliteEdit?"tachado":""),u.Vb(1),u.dd(" ",t.name," ")}}function Z(t,i){1&t&&(u.oc(0,"th",37),u.bd(1,"Stock"),u.nc())}function L(t,i){if(1&t&&(u.oc(0,"td",38),u.bd(1),u.nc()),2&t){const t=i.$implicit;u.Jc("ngClass",t.itemDeliteEdit?"tachado":""),u.Vb(1),u.dd(" ",t.stockNumber," ")}}function G(t,i){1&t&&(u.oc(0,"th",37),u.bd(1,"Total Cost"),u.nc())}function $(t,i){if(1&t&&(u.oc(0,"td",38),u.bd(1),u.nc()),2&t){const t=i.$implicit;u.Jc("ngClass",t.itemDeliteEdit?"tachado":""),u.Vb(1),u.dd(" ",t.totalPriceWithTaxes," ")}}function z(t,i){1&t&&(u.oc(0,"th",37),u.bd(1,"Actiones"),u.nc())}function H(t,i){if(1&t){const t=u.pc();u.oc(0,"td",39),u.oc(1,"mat-icon",40),u.yc("click",function(){u.Tc(t);const e=i.$implicit;return u.Cc().onRemove(e)}),u.bd(2,"delete_forever"),u.nc(),u.oc(3,"mat-icon",41),u.yc("click",function(){u.Tc(t);const e=i.$implicit;return u.Cc().onAddOrEdidProduct(!0,e)}),u.bd(4,"create"),u.nc(),u.nc()}}function K(t,i){1&t&&u.jc(0,"tr",42)}function _(t,i){1&t&&u.jc(0,"tr",43)}function X(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," Total Wich out Taxes is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function U(t,i){1&t&&(u.oc(0,"mat-error"),u.bd(1," The Total is "),u.oc(2,"strong"),u.bd(3,"required"),u.nc(),u.nc())}function Y(t,i){if(1&t){const t=u.pc();u.oc(0,"button",44),u.yc("click",function(){u.Tc(t);return u.Cc().panelItem()}),u.bd(1," Modifict "),u.nc()}}class Q{constructor(t,i,e,c,l,s,d){this.snackBar=t,this.sessionService=i,this.coreService=e,this.fb=c,this.dialog=l,this.dialogRef=s,this.data=d,this.billForm=this.fb.group({billNumber:[null,o.u.required],billType:[null,o.u.required],description:[null,o.u.required]}),this.inputForm=this.fb.group({billTotal:[null,o.u.required],billTotalWichoutTaxes:[null]}),this.displayedColumns=["name","stockNumber","totalPriceWithTaxes","Actions"],this.dataSourceNewBill=new r.l,this.productosList=new Array,this.edit=!1,this.title="",this.dialogoBill=new a,d.edit?(this.bill=this.newBill(d.atributo),this.title="Bill",this.edit=d.edit,this.updateView()):(this.title="NEW Bill",this.bill=new n.a),this.seccion=this.sessionService.get("UserSession")}ngOnInit(){}updateView(){this.billForm.patchValue({billNumber:this.bill.billNumber,billType:this.bill.billType,description:this.bill.description,billTotal:this.bill.billTotal,billTotalWichoutTaxes:this.bill.billTotalWichoutTaxes}),this.inputForm.patchValue({billTotal:this.bill.billTotal,billTotalWichoutTaxes:this.bill.billTotalWichoutTaxes}),this.updatedatasourse(this.bill.productsAndServices),this.checkingList()}onSave(){this.billForm.valid?(this.edit&&void 0!==this.oldBill&&null!=this.oldBill&&(this.dialogoBill.oldBill=this.oldBill),this.bill.billNumber=this.billForm.value.billNumber,this.bill.billType=this.billForm.value.billType,this.dialogoBill.newBill=this.bill,this.dialogRef.close(this.dialogoBill)):this.snackBar.open("Fill in all required fields","Cerrar")}onCancel(){this.dialogRef.close()}ngOnChanges(t){}updatedatasourse(t){this.dataSourceNewBill.data=t}onDescription(){this.bill.description=this.billForm.value.description}onAddOrEdidProduct(t,i){let e=new l.a;void 0!==t&&null!=t&&t?e=i:t=!1;const o=new c.d;o.disableClose=!0,o.autoFocus=!0,o.width="50%",o.height="90%",o.data={atributo:e,edit:t};this.dialog.open(V,o).afterClosed().subscribe(e=>{if(void 0!==e){if(t){const t=this.bill.productsAndServices.filter(t=>t!=i);void 0!==e.oldProduct&&null!=e.oldProduct&&void 0!==e.newProduct&&null!=e.newProduct&&e.oldProduct.itemDeliteEdit&&(this.bill.productsAndServices=t,this.bill.productsAndServices.push(e.oldProduct),this.bill.productsAndServices.push(e.newProduct)),(void 0!==e.newProduct&&null!=e.newProduct&&e.newProduct.itemDeliteEdit&&void 0===e.oldProduct||null==e.oldProduct)&&(this.bill.productsAndServices=t,this.bill.productsAndServices.push(e.newProduct))}else(void 0!==e.newProduct||null!=e.newProduct&&void 0===e.oldProduct||null==e.oldProduct)&&this.bill.productsAndServices.push(e.newProduct);this.updatedatasourse(this.bill.productsAndServices),this.total(),this.checkingList()}else this.total(),this.checkingList()})}onRemove(t){this.notificationRemove(t)}notificationRemove(t){const i=new c.d;i.disableClose=!0,i.autoFocus=!0,i.width="45%",i.height="auto",i.data={title:" Table data deletion alert",msg:"Are you sure you want to delete the Product?",cancel:"Cancel",confirm:"Confirm"};this.dialog.open(s.a,i).afterClosed().subscribe(i=>{if(i){const i=this.bill.productsAndServices.filter(i=>i!=t);this.bill.productsAndServices=i,this.updatedatasourse(this.bill.productsAndServices),this.total(),this.checkingList()}})}checkingList(){void 0!==this.bill.productsAndServices&&null!=this.bill.productsAndServices&&this.bill.productsAndServices.length>0?this.disableManualTotal():this.enableManualTotal()}disableManualTotal(){this.inputForm.disable()}enableManualTotal(){this.inputForm.enable()}total(){this.bill.billTotalWichoutTaxes=0,this.bill.billTotal=0,this.bill.productsAndServices.forEach(t=>{t.itemDeliteEdit||(this.bill.billTotalWichoutTaxes+=t.totalPriceWithOupTaxes,this.bill.billTotal+=t.totalPriceWithTaxes)}),this.bill.billTotalWichoutTaxes=this.coreService.round(this.bill.billTotalWichoutTaxes),this.bill.billTotal=this.coreService.round(this.bill.billTotal),this.inputForm.patchValue({billTotalWichoutTaxes:this.bill.billTotalWichoutTaxes,billTotal:this.bill.billTotal})}totalManualWichOutTaxes(){const t=this.inputForm.value.billTotalWichoutTaxes+this.inputForm.value.billTotalWichoutTaxes*(this.seccion.taxes/100),i=this.coreService.round(t);this.inputForm.patchValue({billTotal:i}),this.bill.billTotalWichoutTaxes=this.coreService.round(this.inputForm.value.billTotalWichoutTaxes),this.bill.billTotal=this.inputForm.value.billTotal}totalManualWichTaxes(){const t=this.inputForm.value.billTotal-this.inputForm.value.billTotal*(this.seccion.taxes/100),i=this.coreService.round(t);this.inputForm.patchValue({billTotalWichoutTaxes:i}),this.bill.billTotalWichoutTaxes=this.inputForm.value.billTotalWichoutTaxes,this.bill.billTotal=this.coreService.round(this.inputForm.value.billTotal)}financial(t){return Number.parseFloat(t).toFixed(2)}panelItem(){const t=new c.d;t.disableClose=!0,t.autoFocus=!0,t.width="50%",t.height="auto",t.data={item:this.bill};this.dialog.open(W,t).afterClosed().subscribe(t=>{void 0!==t&&null!=t&&(t.oldBill.itemDeliteEdit&&void 0!==t.newBill&&null!=t.newBill&&(this.title="NEW Bill",this.bill=t.newBill,this.oldBill=t.oldBill,this.updateView(),this.totalManualWichTaxes()),(t.oldBill.itemDeliteEdit&&void 0===t.newBill||null==t.newBill)&&(this.title="Bill",this.bill=t.oldBill,this.updateView()))})}newBill(t){const i=new n.a;return i.billNumber=t.billNumber,i.billType=t.billType,i.description=t.description,i.productsAndServices=t.productsAndServices,i.billTotal=t.billTotal,i.billTotalWichoutTaxes=t.billTotalWichoutTaxes,void 0!==t.idBill&&null!=t.idBill&&(i.idBill=t.idBill),void 0!==t.idEstimate&&null!=t.idEstimate&&(i.idEstimate=t.idEstimate),void 0!==t.idSubContractor&&null!=t.idSubContractor&&(i.idSubContractor=t.idSubContractor),void 0!==t.idWork&&null!=t.idWork&&(i.idWork=t.idWork),void 0!==t.itemDeliteEdit&&null!=t.itemDeliteEdit&&(i.itemDeliteEdit=t.itemDeliteEdit),i}}Q.\u0275fac=function(t){return new(t||Q)(u.ic(D.a),u.ic(v.a),u.ic(C.a),u.ic(o.d),u.ic(c.b),u.ic(c.g),u.ic(c.a))},Q.\u0275cmp=u.cc({type:Q,selectors:[["app-new-bill"]],features:[u.Tb],decls:62,vars:12,consts:[[1,"topeSeparation"],[1,"col","mat-elevation-z8","titleMarco"],["for","title",1,"m-1","h3"],[1,"mb-3","mt-3"],["novalidate","",1,"container-fluid",3,"formGroup"],[1,"container-fluid","mt-1"],[1,"row"],[1,"col"],[1,"full-width"],["matInput","","placeholder","Bill number Code","formControlName","billNumber","required",""],[4,"ngIf"],["matInput","","placeholder","Bill Type","formControlName","billType","required",""],[1,"container-fluid"],[1,"row-12","mt-2"],["appearance","fill",2,"width","100%"],["matInput","","placeholder","Description","formControlName","description","required","",3,"keyup"],[1,"container-fluid","mb-1"],[1,"m-2","mb-2"],["for","starDate",1,"h5"],["mat-mini-fab","","color","primary","aria-label","button with a plus new client",1,"flowRight","m-1",3,"click"],["mat-table","",1,"mat-elevation-z8","mt-1","mb-2",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","stockNumber"],["matColumnDef","totalPriceWithTaxes"],["matColumnDef","Actions"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["novalidate","",1,"container-fluid","mt-1",3,"formGroup"],["matInput","","type","number","placeholder","Total Wich out Taxes","formControlName","billTotalWichoutTaxes","required","",3,"keyup"],["matInput","","type","number","placeholder","Total","formControlName","billTotal",3,"keyup"],[1,"flex-container","mt-2","mb-2"],["mat-button","",1,"m-2","buttonColorGreen",3,"click"],["mat-button","",1,"m-2","buttonColorRed",3,"click"],["mat-button","","class","m-2 buttonColorBlue d-sm-block",3,"click",4,"ngIf"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-cell",""],[2,"cursor","pointer","color","rgb(202, 5, 5)",3,"click"],[2,"cursor","pointer","color","black",3,"click"],["mat-header-row",""],["mat-row",""],["mat-button","",1,"m-2","buttonColorBlue","d-sm-block",3,"click"]],template:function(t,i){1&t&&(u.oc(0,"div",0),u.oc(1,"header"),u.oc(2,"mat-toolbar",1),u.oc(3,"label",2),u.bd(4),u.nc(),u.nc(),u.nc(),u.oc(5,"body",3),u.oc(6,"form",4),u.oc(7,"div",5),u.oc(8,"div",6),u.oc(9,"div",7),u.oc(10,"mat-form-field",8),u.jc(11,"input",9),u.Zc(12,A,4,0,"mat-error",10),u.nc(),u.nc(),u.oc(13,"div",7),u.oc(14,"mat-form-field",8),u.jc(15,"input",11),u.Zc(16,M,4,0,"mat-error",10),u.nc(),u.nc(),u.nc(),u.nc(),u.oc(17,"div",12),u.oc(18,"div",13),u.oc(19,"mat-form-field",14),u.oc(20,"textarea",15),u.yc("keyup",function(){return i.onDescription()}),u.nc(),u.Zc(21,j,4,0,"mat-error",10),u.nc(),u.nc(),u.nc(),u.nc(),u.oc(22,"div",16),u.oc(23,"div",17),u.oc(24,"label",18),u.bd(25,"Product list:"),u.nc(),u.oc(26,"button",19),u.yc("click",function(){return i.onAddOrEdidProduct(!1)}),u.oc(27,"mat-icon"),u.bd(28,"add"),u.nc(),u.nc(),u.nc(),u.oc(29,"table",20),u.mc(30,21),u.Zc(31,R,2,0,"th",22),u.Zc(32,J,2,2,"td",23),u.lc(),u.mc(33,24),u.Zc(34,Z,2,0,"th",22),u.Zc(35,L,2,2,"td",23),u.lc(),u.mc(36,25),u.Zc(37,G,2,0,"th",22),u.Zc(38,$,2,2,"td",23),u.lc(),u.mc(39,26),u.Zc(40,z,2,0,"th",22),u.Zc(41,H,5,0,"td",27),u.lc(),u.Zc(42,K,1,0,"tr",28),u.Zc(43,_,1,0,"tr",29),u.nc(),u.nc(),u.jc(44,"br"),u.oc(45,"form",30),u.oc(46,"div",12),u.oc(47,"div",6),u.oc(48,"div",7),u.oc(49,"mat-form-field",8),u.oc(50,"input",31),u.yc("keyup",function(){return i.totalManualWichOutTaxes()}),u.nc(),u.Zc(51,X,4,0,"mat-error",10),u.nc(),u.nc(),u.oc(52,"div",7),u.oc(53,"mat-form-field",8),u.oc(54,"input",32),u.yc("keyup",function(){return i.totalManualWichTaxes()}),u.nc(),u.Zc(55,U,4,0,"mat-error",10),u.nc(),u.nc(),u.nc(),u.nc(),u.nc(),u.oc(56,"div",33),u.oc(57,"button",34),u.yc("click",function(){return i.onSave()}),u.bd(58,"Save"),u.nc(),u.oc(59,"button",35),u.yc("click",function(){return i.onCancel()}),u.bd(60,"cancel"),u.nc(),u.Zc(61,Y,2,0,"button",36),u.nc(),u.nc(),u.nc()),2&t&&(u.Vb(4),u.cd(i.title),u.Vb(2),u.Jc("formGroup",i.billForm),u.Vb(6),u.Jc("ngIf",i.billForm.controls.billNumber.hasError("required")),u.Vb(4),u.Jc("ngIf",i.billForm.controls.billType.hasError("required")),u.Vb(5),u.Jc("ngIf",i.billForm.controls.description.hasError("required")),u.Vb(8),u.Jc("dataSource",i.dataSourceNewBill),u.Vb(13),u.Jc("matHeaderRowDef",i.displayedColumns),u.Vb(1),u.Jc("matRowDefColumns",i.displayedColumns),u.Vb(2),u.Jc("formGroup",i.inputForm),u.Vb(6),u.Jc("ngIf",i.inputForm.controls.billTotalWichoutTaxes.hasError("required")),u.Vb(4),u.Jc("ngIf",i.inputForm.controls.billTotal.hasError("required")),u.Vb(6),u.Jc("ngIf",void 0!==i.bill.productsAndServices&&null!=i.bill.productsAndServices&&0==i.bill.productsAndServices.length&&void 0!==i.bill.idBill&&null!=i.bill.idBill&&!i.bill.itemDeliteEdit))},directives:[g.a,o.v,o.n,o.g,w.c,S.b,o.c,o.m,o.f,o.t,h.n,b.a,q.a,r.k,r.c,r.e,r.b,r.g,r.j,o.r,w.b,r.d,r.a,h.l,r.f,r.i],styles:["table[_ngcontent-%COMP%]{width:100%}.flowRight[_ngcontent-%COMP%]{float:right}"]})},PRsa:function(t,i,e){"use strict";e.d(i,"a",function(){return W});var o=e("3Pt+"),c=e("0IaG"),r=e("qmPo");class n{}var a=e("5hrT"),l=e("kHcE"),s=e("Ibmz"),d=e("fXoL"),u=e("bSwM"),m=e("ofXK"),h=e("bTqV");function b(t,i){if(1&t){const t=d.pc();d.oc(0,"div",1),d.oc(1,"div",5),d.oc(2,"div",12),d.oc(3,"form",13),d.oc(4,"div",14),d.oc(5,"label",15),d.bd(6,"Price/Total:"),d.nc(),d.oc(7,"input",16),d.yc("keyup.enter",function(){d.Tc(t);return d.Cc().changePrices()})("focusout",function(){d.Tc(t);return d.Cc().changePrices()}),d.nc(),d.nc(),d.nc(),d.nc(),d.nc(),d.nc()}if(2&t){const t=d.Cc();d.Vb(3),d.Jc("formGroup",t.inputForm)}}class p{constructor(t,i,e){this.fb=t,this.dialogRef=i,this.data=e,this.mensaje="By accepting, you will remove the item from the list of calculations for the total cost, you can modify the price of the item.",this.title="Item Modifier Panel",this.checked=!1,this.disabled=!1,this.indeterminate=!1,this.labelPosition="before",this.color="warn",this.inputForm=this.fb.group({priceOrTotal:[null,o.u.required]}),this.item=new a.a,void 0!==e.item&&null!=e.item&&(this.item=e.item)}ngOnInit(){}onAgree(){const t=new n;t.oldSubContractor=this.item,this.checked&&(t.newSubContractor=this.copyItem(this.item),void 0!==this.inputForm.value.priceOrTotal&&null!=this.inputForm.value.priceOrTotal&&(t.newSubContractor.costOfwork=this.inputForm.value.priceOrTotal)),t.oldSubContractor.itemDeliteEdit=!0,this.dialogRef.close(t)}copyItem(t){const i=new a.a;return i.company=t.company,i.phoneNumber=t.phoneNumber,i.mail=t.mail,i.description=t.description,i.codeClient=t.codeClient,i.costOfwork=0,i.totalCost=0,i.profit=t.profit,void 0!==t.dateOfWork&&null!=t.dateOfWork&&(i.dateOfWork=t.dateOfWork),void 0!==t.datePain&&null!=t.datePain&&(i.datePain=t.datePain),void 0!==t.billListSubcontractor&&null!=t.billListSubcontractor&&(i.billListSubcontractor=t.billListSubcontractor),i}onCancel(){this.dialogRef.close()}changePrices(){console.log(this.checked)}}p.\u0275fac=function(t){return new(t||p)(d.ic(o.d),d.ic(c.g),d.ic(c.a))},p.\u0275cmp=d.cc({type:p,selectors:[["app-app-panel-item-subcontractors"]],decls:23,vars:8,consts:[[1,"container","panelBackground"],[1,"row"],[1,"col","mat-elevation-z4",2,"background-color","rgba(0, 0, 0, 0.966)","color","rgb(253, 253, 253)","height","40px"],[1,"title",2,"margin-top","8px"],[1,"col"],[1,"col-12"],[1,"exa-section"],[1,"exa-margin",3,"ngModel","indeterminate","labelPosition","color","disabled","ngModelChange","indeterminateChange"],["class","row",4,"ngIf"],[1,"mt-5","mb-2","d-flex","justify-content-center"],["mat-button","",1,"m-1","ml-5","buttonColorRed",3,"click"],["mat-button","",1,"m-1","ml-5","buttonColorGreen",3,"click"],[1,"mt-2","mb-2","d-flex","justify-content-center"],[1,"col-12",3,"formGroup"],[1,"input-group"],["for","priceOrTotal",1,"m-1"],["type","number","min","0","placeholder","0","formControlName","priceOrTotal","id","priceOrTotal","aria-label","priceOrTotal","aria-describedby","basic-addon2","required","",1,"form-control",3,"keyup.enter","focusout"]],template:function(t,i){1&t&&(d.oc(0,"div",0),d.oc(1,"div",1),d.oc(2,"div",2),d.oc(3,"div",3),d.bd(4),d.nc(),d.nc(),d.nc(),d.jc(5,"br"),d.oc(6,"div",1),d.oc(7,"div",4),d.bd(8),d.nc(),d.nc(),d.jc(9,"br"),d.oc(10,"div",1),d.oc(11,"div",5),d.oc(12,"section",6),d.oc(13,"mat-checkbox",7),d.yc("ngModelChange",function(t){return i.checked=t})("indeterminateChange",function(t){return i.indeterminate=t}),d.bd(14," Do you want to change the price of the item?: "),d.nc(),d.nc(),d.nc(),d.nc(),d.Zc(15,b,8,1,"div",8),d.oc(16,"div",1),d.oc(17,"div",5),d.oc(18,"div",9),d.oc(19,"button",10),d.yc("click",function(){return i.onCancel()}),d.bd(20," Cancel "),d.nc(),d.oc(21,"button",11),d.yc("click",function(){return i.onAgree()}),d.bd(22," Agree "),d.nc(),d.nc(),d.nc(),d.nc(),d.nc()),2&t&&(d.Vb(4),d.dd(" ",i.title," "),d.Vb(4),d.dd(" ",i.mensaje," "),d.Vb(5),d.Jc("ngModel",i.checked)("indeterminate",i.indeterminate)("labelPosition",i.labelPosition)("color",i.color)("disabled",i.disabled),d.Vb(2),d.Jc("ngIf",i.checked))},directives:[u.a,o.m,o.p,m.n,h.a,o.v,o.n,o.g,o.r,o.c,o.f,o.t],styles:[""]});var f=e("dNgK"),v=e("P64T"),C=e("yZ9z"),g=e("/t3+"),w=e("kmnG"),S=e("qFsG"),T=e("iadO"),k=e("NFeN");function y(t,i){1&t&&(d.oc(0,"mat-error"),d.bd(1," The company is "),d.oc(2,"strong"),d.bd(3,"required"),d.nc(),d.nc())}function F(t,i){1&t&&(d.oc(0,"mat-error"),d.bd(1," the phone Number is "),d.oc(2,"strong"),d.bd(3,"required"),d.nc(),d.nc())}function P(t,i){1&t&&(d.oc(0,"mat-error"),d.bd(1," the Email is "),d.oc(2,"strong"),d.bd(3,"required"),d.nc(),d.nc())}function I(t,i){1&t&&(d.oc(0,"mat-error"),d.bd(1," The Description is "),d.oc(2,"strong"),d.bd(3,"required"),d.nc(),d.nc())}function O(t,i){1&t&&(d.oc(0,"mat-error"),d.bd(1," Cost Of Service is "),d.oc(2,"strong"),d.bd(3,"required"),d.nc(),d.nc())}function E(t,i){1&t&&(d.oc(0,"mat-error"),d.bd(1," The profit is "),d.oc(2,"strong"),d.bd(3,"required"),d.nc(),d.nc())}function N(t,i){if(1&t){const t=d.pc();d.oc(0,"div",33),d.oc(1,"div",34),d.oc(2,"label",35),d.bd(3,"Bills:"),d.nc(),d.oc(4,"button",36),d.yc("click",function(){d.Tc(t);return d.Cc().onAddNewBill(!1)}),d.oc(5,"mat-icon"),d.bd(6,"add"),d.nc(),d.nc(),d.nc(),d.oc(7,"app-bill-list",37),d.yc("deleteBill",function(i){d.Tc(t);return d.Cc().deleteBill(i)})("edidBillEvent",function(i){d.Tc(t);return d.Cc().addbill(i)}),d.nc(),d.nc()}if(2&t){const t=d.Cc();d.Vb(7),d.Jc("billList",t.billList)}}function x(t,i){1&t&&(d.oc(0,"mat-error"),d.bd(1," Total Cost is "),d.oc(2,"strong"),d.bd(3,"required"),d.nc(),d.nc())}function V(t,i){if(1&t){const t=d.pc();d.oc(0,"button",38),d.yc("click",function(){d.Tc(t);return d.Cc().panelItem()}),d.bd(1," Modifict "),d.nc()}}function B(t){return/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i.test(t.value)?null:{invalidEmail:!0}}class W{constructor(t,i,e,c,r,l,s){this.snackBar=t,this.coreservice=i,this.fb=e,this.dialog=c,this.dialogRef=r,this.data=l,this.SessionService=s,this.subContractorsForm=this.fb.group({company:[null,o.u.required],phoneNumber:[null,o.u.required],mail:[null,[o.u.required,B]],costOfwork:[null,o.u.required],totalCost:[null,o.u.required],description:[null,o.u.required],codeClient:[null],profit:[null],dateOfWork:[null],datePain:[null]}),this.title="",this.oldSubcontractor=new a.a,this.dialogoSuSubContractors=new n,this.edit=!1,l.edit?(this.edit=l.edit,this.subcontractor=this.newSubcontractor(l.atributo),this.title="Subcontractors",this.billExist=this.subcontractor.billListSubcontractor.length>0,this.updateView()):(this.title="NEW Subcontractors",this.subcontractor=new a.a,this.billExist=this.subcontractor.billListSubcontractor.length>0),this.billList=this.subcontractor.billListSubcontractor,this.seccion=this.SessionService.get("UserSession")}ngOnChanges(t){}ngOnInit(){}totalManual(){this.subcontractor.totalCost=this.subContractorsForm.value.totalCost}total(){this.subcontractor.totalCost=0,this.subcontractor.totalCost+=this.subContractorsForm.value.costOfwork,this.subcontractor.billListSubcontractor.length>0&&(this.subcontractor.billListSubcontractor.forEach(t=>{t.itemDeliteEdit||(this.subcontractor.totalCost+=t.billTotal)}),this.subcontractor.totalCost=this.coreservice.round(this.subcontractor.totalCost)),void 0!==this.subContractorsForm.value.profit&&null!==this.subContractorsForm.value.profit?this.profiAdd():this.updateTotalCostOfworkInView()}profiAdd(){if(void 0!==this.subContractorsForm.value.profit&&null!==this.subContractorsForm.value.profit){this.subcontractor.profit=this.subContractorsForm.value.profit,this.subcontractor.profitCalculation=this.subcontractor.totalCost*(this.subcontractor.profit/100);let t=this.subcontractor.totalCost+this.subcontractor.profitCalculation;this.subcontractor.totalCost=this.coreservice.round(t),this.updateTotalCostOfworkInView()}}updateTotalCostOfworkInView(){this.subContractorsForm.patchValue({totalCost:this.subcontractor.totalCost})}updateView(){this.subContractorsForm.patchValue({company:this.subcontractor.company,phoneNumber:this.subcontractor.phoneNumber,mail:this.subcontractor.mail,costOfwork:this.subcontractor.costOfwork,totalCost:this.coreservice.round(this.subcontractor.totalCost),description:this.subcontractor.description,profit:this.subcontractor.profit,dateOfWork:this.subcontractor.dateOfWork,datePain:this.subcontractor.datePain})}onSave(){this.subContractorsForm.valid?(this.edit&&void 0!==this.oldSubcontractor&&null!=this.oldSubcontractor&&void 0!==this.oldSubcontractor.description&&null!=this.oldSubcontractor.description&&(this.dialogoSuSubContractors.oldSubContractor=this.oldSubcontractor),this.subcontractor.company=this.subContractorsForm.value.company,this.subcontractor.phoneNumber=this.subContractorsForm.value.phoneNumber,this.subcontractor.mail=this.subContractorsForm.value.mail,this.subcontractor.costOfwork=this.subContractorsForm.value.costOfwork,void 0!==this.subContractorsForm.value.dateOfWork&&null!==this.subContractorsForm.value.dateOfWork&&(this.subcontractor.dateOfWork=this.subContractorsForm.value.dateOfWork),void 0!==this.subContractorsForm.value.datePain&&null!==this.subContractorsForm.value.datePain&&(this.subcontractor.datePain=this.subContractorsForm.value.datePain),void 0!==this.subContractorsForm.value.profit&&null!==this.subContractorsForm.value.profit&&(this.subcontractor.profit=this.subContractorsForm.value.profit),void 0!==this.subContractorsForm.value.codeClient&&null!==this.subContractorsForm.value.codeClient&&(this.subcontractor.codeClient=this.subContractorsForm.value.codeClient),this.dialogoSuSubContractors.newSubContractor=this.subcontractor,this.dialogRef.close(this.dialogoSuSubContractors)):this.snackBar.open("Fill in all required fields","Cerrar")}onCancel(){this.dialogRef.close()}onAddNewBill(t,i){let e=new r.a;void 0!==t&&null!=t&&t?e=i:t=!1;const o=new c.d;o.disableClose=!0,o.autoFocus=!0,o.width="auto",o.height="auto",o.data={atributo:e,edit:t};this.dialog.open(s.a,o).afterClosed().subscribe(e=>{if(void 0!==e)if(t){const t=this.billList.filter(t=>t!=i);(void 0!==e.oldBill&&null!=e.oldBill&&e.oldBill.itemDeliteEdit&&void 0===e.newBill||null==e.newBill)&&(t.push(e.oldBill),this.subcontractor.billListSubcontractor=t,this.total(),this.billList=this.subcontractor.billListSubcontractor,this.billListTablet.updatedatasourse(this.billList)),void 0!==e.oldBill&&null!=e.oldBill&&e.oldBill.itemDeliteEdit&&void 0!==e.newBill&&null!=e.newBill&&(t.push(e.oldBill),t.push(e.newBill),this.subcontractor.billListSubcontractor=t,this.total(),this.billList=this.subcontractor.billListSubcontractor,this.billListTablet.updatedatasourse(this.billList))}else void 0!==e.newBill&&null!=e.newBill&&(this.subcontractor.billListSubcontractor.push(e.newBill),this.total(),this.billList=this.subcontractor.billListSubcontractor,this.billListTablet.updatedatasourse(this.billList))})}addbill(t){this.subcontractor.billListSubcontractor.push(t),this.total(),this.updateView()}deleteBill(t){const i=this.subcontractor.billListSubcontractor.filter(i=>i!==t);this.subcontractor.billListSubcontractor=i,this.total(),this.updateView()}onDescription(){this.subcontractor.description=this.subContractorsForm.value.description}addPainEvent(t,i){this.subcontractor.datePain=this.subContractorsForm.value.datePain}addWorkEvent(t,i){this.subcontractor.dateOfWork=this.subContractorsForm.value.dateOfWork}panelItem(){const t=new c.d;t.disableClose=!0,t.autoFocus=!0,t.width="50%",t.height="auto",t.data={item:this.subcontractor};this.dialog.open(p,t).afterClosed().subscribe(t=>{void 0!==t&&null!=t&&(t.oldSubContractor.itemDeliteEdit&&void 0!==t.newSubContractor&&null!=t.newSubContractor&&(this.billExist=this.subcontractor.billListSubcontractor.length>0,this.title="NEW Subcontractors",this.subcontractor=new a.a,this.subcontractor=t.newSubContractor,this.oldSubcontractor=t.oldSubContractor,this.updateView(),this.total()),(t.oldSubContractor.itemDeliteEdit&&void 0===t.newSubContractor||null==t.newSubContractor)&&(this.title="Subcontractors",this.subcontractor=t.oldSubContractor,this.billExist=this.subcontractor.billListSubcontractor.length>0,this.updateView(),this.total()))})}newSubcontractor(t){const i=new a.a;return i.company=t.company,i.phoneNumber=t.phoneNumber,i.mail=t.mail,i.description=t.description,i.codeClient=t.codeClient,i.totalCost=t.totalCost,i.profit=t.profit,void 0!==t.idSubContractor&&null!=t.idSubContractor&&(i.idSubContractor=t.idSubContractor),void 0!==t.costOfwork&&null!=t.costOfwork&&(i.costOfwork=t.costOfwork),void 0!==t.itemDeliteEdit&&null!=t.itemDeliteEdit&&(i.itemDeliteEdit=t.itemDeliteEdit),void 0!==t.idEstimate&&null!=t.idEstimate&&(i.idEstimate=t.idEstimate),void 0!==t.dateOfWork&&null!=t.dateOfWork&&(i.idSubContractor=t.idSubContractor),void 0!==t.idWork&&null!=t.idWork&&(i.idWork=t.idWork),void 0!==t.dateOfWork&&null!=t.dateOfWork&&(i.dateOfWork=t.dateOfWork),void 0!==t.datePain&&null!=t.datePain&&(i.datePain=t.datePain),void 0!==t.billListSubcontractor&&null!=t.billListSubcontractor&&(i.billListSubcontractor=t.billListSubcontractor),i}}W.\u0275fac=function(t){return new(t||W)(d.ic(f.a),d.ic(v.a),d.ic(o.d),d.ic(c.b),d.ic(c.g),d.ic(c.a),d.ic(C.a))},W.\u0275cmp=d.cc({type:W,selectors:[["app-new-sub-contractors"]],viewQuery:function(t,i){if(1&t&&d.fd(l.a,1),2&t){let t;d.Qc(t=d.zc())&&(i.billListTablet=t.first)}},features:[d.Tb],decls:70,vars:15,consts:[[1,"topeSeparation"],[1,"col","mat-elevation-z8","titleMarco"],["for","title",1,"m-1","h3"],[1,"mb-3","mt-3"],["novalidate","",1,"container-fluid",3,"formGroup"],[1,"container-fluid","mt-1"],[1,"row"],[1,"col"],[1,"full-width"],["matInput","","placeholder","Company","formControlName","company","required",""],[4,"ngIf"],["matInput","","type","number","placeholder","Phone Number","formControlName","phoneNumber","required",""],["matInput","","type","email","placeholder","Email","formControlName","mail","required",""],[1,"container-fluid"],[1,"row-12","mt-2"],["appearance","fill",2,"width","100%"],["matInput","","placeholder","Description*","formControlName","description","required","",3,"keyup"],["matInput","","type","number","placeholder","Cost Of Service","formControlName","costOfwork","required","",3,"keyup"],["matInput","","type","number","placeholder","Profit","formControlName","profit",3,"keyup"],[1,"input-group","mt-2","d-flex","align-items-center",2,"width","100%"],["appearance","fill"],["matInput","","placeholder","Date of Work","formControlName","dateOfWork",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker1",""],["matInput","","placeholder","Date of pain","formControlName","datePain",3,"matDatepicker","dateChange"],["picker2",""],[1,"container-fluid","mb-1"],["class","col-sm-12",4,"ngIf"],["matInput","","type","number","placeholder","Total Cost","formControlName","totalCost","required","","required","",3,"keyup"],[1,"flex-container","mt-2","mb-2"],["mat-button","",1,"m-1","buttonColorGreen",3,"click"],["mat-button","",1,"m-1","buttonColorRed",3,"click"],["mat-button","","class","m-1 buttonColorBlue",3,"click",4,"ngIf"],[1,"col-sm-12"],[1,"m-2"],["for","starDate",1,"h4"],["mat-mini-fab","","color","primary","aria-label","button with a plus new client",1,"m-1","flowRight",3,"click"],[2,"width","100%",3,"billList","deleteBill","edidBillEvent"],["mat-button","",1,"m-1","buttonColorBlue",3,"click"]],template:function(t,i){if(1&t&&(d.oc(0,"div",0),d.oc(1,"header"),d.oc(2,"mat-toolbar",1),d.oc(3,"label",2),d.bd(4),d.nc(),d.nc(),d.nc(),d.oc(5,"body",3),d.oc(6,"form",4),d.oc(7,"div",5),d.oc(8,"div",6),d.oc(9,"div",7),d.oc(10,"mat-form-field",8),d.jc(11,"input",9),d.Zc(12,y,4,0,"mat-error",10),d.nc(),d.nc(),d.nc(),d.nc(),d.oc(13,"div",5),d.oc(14,"div",6),d.oc(15,"div",7),d.oc(16,"mat-form-field",8),d.jc(17,"input",11),d.Zc(18,F,4,0,"mat-error",10),d.nc(),d.nc(),d.oc(19,"div",7),d.oc(20,"mat-form-field",8),d.jc(21,"input",12),d.Zc(22,P,4,0,"mat-error",10),d.nc(),d.nc(),d.nc(),d.nc(),d.oc(23,"div",13),d.oc(24,"div",14),d.oc(25,"mat-form-field",15),d.oc(26,"textarea",16),d.yc("keyup",function(){return i.onDescription()}),d.nc(),d.Zc(27,I,4,0,"mat-error",10),d.nc(),d.nc(),d.nc(),d.oc(28,"div",5),d.oc(29,"div",6),d.oc(30,"div",7),d.oc(31,"mat-form-field",8),d.oc(32,"input",17),d.yc("keyup",function(){return i.total()}),d.nc(),d.Zc(33,O,4,0,"mat-error",10),d.nc(),d.nc(),d.oc(34,"div",7),d.oc(35,"mat-form-field",8),d.oc(36,"input",18),d.yc("keyup",function(){return i.total()}),d.nc(),d.Zc(37,E,4,0,"mat-error",10),d.nc(),d.nc(),d.nc(),d.nc(),d.oc(38,"div",5),d.oc(39,"div",6),d.oc(40,"div",7),d.oc(41,"div",19),d.oc(42,"mat-form-field",20),d.oc(43,"input",21),d.yc("dateChange",function(t){return i.addWorkEvent("change",t)}),d.nc(),d.jc(44,"mat-datepicker-toggle",22),d.jc(45,"mat-datepicker",null,23),d.nc(),d.nc(),d.nc(),d.oc(47,"div",7),d.oc(48,"div",19),d.oc(49,"mat-form-field",20),d.oc(50,"input",24),d.yc("dateChange",function(t){return i.addPainEvent("change",t)}),d.nc(),d.jc(51,"mat-datepicker-toggle",22),d.jc(52,"mat-datepicker",null,25),d.nc(),d.nc(),d.nc(),d.nc(),d.nc(),d.oc(54,"div",26),d.Zc(55,N,8,1,"div",27),d.nc(),d.jc(56,"br"),d.oc(57,"div",13),d.oc(58,"div",6),d.oc(59,"div",7),d.oc(60,"mat-form-field",8),d.oc(61,"input",28),d.yc("keyup",function(){return i.totalManual()}),d.nc(),d.Zc(62,x,4,0,"mat-error",10),d.nc(),d.nc(),d.nc(),d.nc(),d.nc(),d.jc(63,"br"),d.oc(64,"div",29),d.oc(65,"button",30),d.yc("click",function(){return i.onSave()}),d.bd(66,"Save"),d.nc(),d.oc(67,"button",31),d.yc("click",function(){return i.onCancel()}),d.bd(68,"cancel"),d.nc(),d.Zc(69,V,2,0,"button",32),d.nc(),d.nc(),d.nc()),2&t){const t=d.Rc(46),e=d.Rc(53);d.Vb(4),d.cd(i.title),d.Vb(2),d.Jc("formGroup",i.subContractorsForm),d.Vb(6),d.Jc("ngIf",i.subContractorsForm.controls.company.hasError("required")),d.Vb(6),d.Jc("ngIf",i.subContractorsForm.controls.phoneNumber.hasError("required")),d.Vb(4),d.Jc("ngIf",i.subContractorsForm.controls.mail.hasError("required")),d.Vb(5),d.Jc("ngIf",i.subContractorsForm.controls.description.hasError("required")),d.Vb(6),d.Jc("ngIf",i.subContractorsForm.controls.costOfwork.hasError("required")),d.Vb(4),d.Jc("ngIf",i.subContractorsForm.controls.profit.hasError("required")),d.Vb(6),d.Jc("matDatepicker",t),d.Vb(1),d.Jc("for",t),d.Vb(6),d.Jc("matDatepicker",e),d.Vb(1),d.Jc("for",e),d.Vb(4),d.Jc("ngIf",i.subcontractor.billListSubcontractor),d.Vb(7),d.Jc("ngIf",i.subContractorsForm.controls.totalCost.hasError("required")),d.Vb(7),d.Jc("ngIf",void 0!==i.subcontractor.billListSubcontractor&&null!=i.subcontractor.billListSubcontractor&&0==i.subcontractor.billListSubcontractor.length&&void 0!==i.subcontractor.idSubContractor&&null!=i.subcontractor.idSubContractor&&!i.subcontractor.itemDeliteEdit)}},directives:[g.a,o.v,o.n,o.g,w.c,S.b,o.c,o.m,o.f,o.t,m.n,o.r,T.b,T.d,w.h,T.a,h.a,w.b,k.a,l.a],styles:[""]})},XoJ8:function(t,i,e){"use strict";e.d(i,"a",function(){return k});var o=e("fXoL"),c=e("FtGj"),r=e("g7l3"),n=e("3Pt+"),a=e("0IaG"),l=e("ltNV"),s=e("dNgK"),d=e("P64T"),u=e("6gb7"),m=e("bTqV"),h=e("NFeN"),b=e("kmnG"),p=e("A5z7"),f=e("ofXK"),v=e("qFsG");function C(t,i){if(1&t){const t=o.pc();o.oc(0,"mat-chip",27),o.yc("click",function(){o.Tc(t);const e=i.$implicit;return o.Cc().removeTo(e)}),o.bd(1),o.nc()}if(2&t){const t=i.$implicit;o.Vb(1),o.dd(" ",t," ")}}function g(t,i){if(1&t){const t=o.pc();o.oc(0,"mat-chip",27),o.yc("click",function(){o.Tc(t);const e=i.$implicit;return o.Cc().removeCc(e)}),o.bd(1),o.nc()}if(2&t){const t=i.$implicit;o.Vb(1),o.dd(" ",t," ")}}function w(t,i){if(1&t){const t=o.pc();o.oc(0,"mat-chip",27),o.yc("click",function(){o.Tc(t);const e=i.$implicit;return o.Cc().removeBcc(e)}),o.bd(1),o.nc()}if(2&t){const t=i.$implicit;o.Vb(1),o.dd(" ",t," ")}}function S(t,i){1&t&&(o.oc(0,"mat-error"),o.bd(1," Subject is "),o.oc(2,"strong"),o.bd(3,"required"),o.nc(),o.nc())}function T(t,i){1&t&&(o.oc(0,"mat-error"),o.bd(1," You must enter a comment."),o.nc())}class k{constructor(t,i,e,a,l){this.fb=t,this._snackBar=i,this.coreService=e,this.spinnerService=a,this.dialog=l,this.sendEvent=new o.u,this.mails=new r.a,this.addOnBlur=!0,this.separatorKeysCodes=[c.g,c.c],this.mailForm=this.fb.group({emailsTo:null,emailsCc:null,emailsBcc:[null],subject:[null,n.u.required],content:[""]}),this.notifications=""}get content(){return this.mailForm.get("content")}ngOnChanges(t){this.getCliente()}ngOnInit(){this.getCliente()}openSnackBar(t,i){this._snackBar.open(t,i)}getCliente(){void 0!==this.estimatePojo&&null!=this.estimatePojo&&void 0!==this.estimatePojo.idEstimate&&null!=this.estimatePojo.idEstimate&&(this.boddy=this.estimatePojo,this.emailHandyManTally.estimatePojo=this.estimatePojo,this.emailHandyManTally.subject="",this.emailHandyManTally.subject=`${this.emailHandyManTally.subject} - Estimate number: ${this.estimatePojo.idEstimate}`,this.mails=new r.a,this.estimatePojo.client.emails.forEach(t=>{this.mails.to.push(t.email)})),void 0!==this.workPojo&&null!=this.workPojo&&void 0!==this.workPojo.idWork&&null!=this.workPojo.idWork&&(this.boddy=this.workPojo,this.emailHandyManTally.workPojo=this.workPojo,this.emailHandyManTally.subject="",this.emailHandyManTally.subject=`${this.emailHandyManTally.subject} - Invoice number: ${this.workPojo.idWork}`,this.mails=new r.a,this.workPojo.client.emails.forEach(t=>{this.mails.to.push(t.email)}))}comentText(){this.mails.content=this.mailForm.value.content}subjectText(){this.mails.subject=this.mailForm.value.subject}addMailTo(t){this.addMail(t,this.mails.to)}removeTo(t){this.remove(t,this.mails.to)}addMailBcc(t){this.addMail(t,this.mails.bcc)}removeBcc(t){this.remove(t,this.mails.bcc)}addMailCc(t){this.addMail(t,this.mails.cc)}removeCc(t){this.remove(t,this.mails.cc)}remove(t,i){const e=i.indexOf(t);e>=0&&i.splice(e,1)}addMail(t,i){const e=new RegExp("([!#-'*+/-9=?A-Z^-~-]+(.[!#-'*+/-9=?A-Z^-~-]+)*|\"([]!#-[^-~ \t]|(\\[\t -~]))+\")@([!#-'*+/-9=?A-Z^-~-]+(.[!#-'*+/-9=?A-Z^-~-]+)*|[[\t -Z^-~]*])"),o=t.input,c=t.value;if((c||"").trim())if(e.test(c.trim())){let t="";t=c.trim(),i.push(t)}else alert("Enter an email with Valid Format"),o&&(o.value="");o&&(o.value="")}onSent(){if(this.mails.to.length>0){if(!this.mailForm.valid)return void this.notification(!0);this.send()}else this.notification(!1)}send(){this.emailHandyManTally.email=this.mails,this.emailHandyManTally.subject="",this.emailHandyManTally.subject=this.mails.subject,this.show(),this.coreService.sendWork(this.emailHandyManTally).subscribe(t=>{this.sendEvent.emit(0),this.coreService.sendWorkClean().subscribe(t=>{this.hide()},t=>{console.log("Error",t),this.notifications='"An error occurred while trying to send..."',this.hide(),this.openSnackBar(this.notifications,"Close")})},t=>{console.log("Error",t),this.notifications='"An error occurred while trying to send..."',this.hide(),this.openSnackBar(this.notifications,"Close")})}notification(t){let i="",e="";const o=new a.d;o.disableClose=!0,o.autoFocus=!0,o.width="45%",o.height="auto",t&&(i=" Subject Alert",e="You have not added a subject to the mail! - Do you want to send it without subject?",o.data={title:i,msg:e,cancel:"Cancel",confirm:"Confirm"}),t||(i=" Recipient Alert",e="The recipient is required to send the mail",o.data={title:i,msg:e,cancel:"ok"});this.dialog.open(l.a,o).afterClosed().subscribe(t=>{t&&(this.mails.subject=this.emailHandyManTally.subject,this.send())})}show(){this.spinnerService.spinnerActive=!1,this.spinnerService.show()}hide(){this.spinnerService.hide(),this.spinnerService.spinnerActive=!0}}k.\u0275fac=function(t){return new(t||k)(o.ic(n.d),o.ic(s.a),o.ic(d.a),o.ic(u.a),o.ic(a.b))},k.\u0275cmp=o.cc({type:k,selectors:[["app-send-mail"]],inputs:{estimatePojo:"estimatePojo",workPojo:"workPojo",emailHandyManTally:"emailHandyManTally"},outputs:{sendEvent:"sendEvent"},features:[o.Tb],decls:58,vars:16,consts:[[1,"m-4"],[1,"container-fluid"],["mat-button","",1,"m-1","flowRight","color",3,"click"],[1,"mt-3"],["novalidate","",1,"container-fluid","mt-2",3,"formGroup"],[1,"container"],[1,"row"],[1,"col-1"],[1,"col-11"],["appearance","fill",1,"ex-chip-list"],["aria-label","Add mail o mails"],["chipList1",""],[3,"click",4,"ngFor","ngForOf"],["placeholder","New mail...","formControlName","emailsTo","id","chipInput1",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["chipList2",""],["placeholder","New mail...","formControlName","emailsCc","id","chipInput2",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["chipList3",""],["placeholder","New mail...","formControlName","emailsBcc","id","chipInput3",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[1,"full-width"],["matInput","","placeholder","Subject","formControlName","subject","required","",3,"keyup"],[4,"ngIf"],[1,"highlight"],[1,"col-sm-12"],["data-toggle","tooltip","title"," Enter a comment for the customer, It is not a required field",2,"display","inline-block","width","100%"],["matInput","","type","string","placeholder","","maxlength","4000","formControlName","content",1,"shortInput","border",2,"width","100%","height","200px",3,"keyup"],["obser",""],["align","end"],[3,"click"]],template:function(t,i){if(1&t&&(o.oc(0,"div",0),o.oc(1,"div"),o.oc(2,"div",1),o.oc(3,"button",2),o.yc("click",function(){return i.onSent()}),o.bd(4," Send "),o.oc(5,"mat-icon"),o.bd(6,"send"),o.nc(),o.nc(),o.nc(),o.nc(),o.nc(),o.jc(7,"br"),o.jc(8,"br"),o.oc(9,"div",3),o.oc(10,"form",4),o.oc(11,"div",5),o.oc(12,"div",6),o.oc(13,"div",7),o.bd(14," To: "),o.nc(),o.oc(15,"div",8),o.oc(16,"mat-form-field",9),o.oc(17,"mat-chip-list",10,11),o.Zc(19,C,2,1,"mat-chip",12),o.oc(20,"input",13),o.yc("matChipInputTokenEnd",function(t){return i.addMailTo(t)}),o.nc(),o.nc(),o.nc(),o.nc(),o.nc(),o.nc(),o.oc(21,"div",5),o.oc(22,"div",6),o.oc(23,"div",7),o.bd(24," Cc: "),o.nc(),o.oc(25,"div",8),o.oc(26,"mat-form-field",9),o.oc(27,"mat-chip-list",10,14),o.Zc(29,g,2,1,"mat-chip",12),o.oc(30,"input",15),o.yc("matChipInputTokenEnd",function(t){return i.addMailCc(t)}),o.nc(),o.nc(),o.nc(),o.nc(),o.nc(),o.nc(),o.oc(31,"div",5),o.oc(32,"div",6),o.oc(33,"div",7),o.bd(34," Bcc: "),o.nc(),o.oc(35,"div",8),o.oc(36,"mat-form-field",9),o.oc(37,"mat-chip-list",10,16),o.Zc(39,w,2,1,"mat-chip",12),o.oc(40,"input",17),o.yc("matChipInputTokenEnd",function(t){return i.addMailBcc(t)}),o.nc(),o.nc(),o.nc(),o.nc(),o.nc(),o.nc(),o.oc(41,"div",5),o.oc(42,"div",6),o.oc(43,"div",7),o.bd(44," Subject: "),o.nc(),o.oc(45,"div",8),o.oc(46,"mat-form-field",18),o.oc(47,"input",19),o.yc("keyup",function(){return i.subjectText()}),o.nc(),o.Zc(48,S,4,0,"mat-error",20),o.nc(),o.nc(),o.nc(),o.nc(),o.oc(49,"div",21),o.oc(50,"div",22),o.oc(51,"mat-form-field",23),o.oc(52,"textarea",24,25),o.yc("keyup",function(){return i.comentText()}),o.bd(54,"                "),o.nc(),o.oc(55,"mat-hint",26),o.bd(56),o.nc(),o.Zc(57,T,2,0,"mat-error",20),o.nc(),o.nc(),o.nc(),o.nc(),o.nc()),2&t){const t=o.Rc(18),e=o.Rc(28),c=o.Rc(38);o.Vb(10),o.Jc("formGroup",i.mailForm),o.Vb(9),o.Jc("ngForOf",i.mails.to),o.Vb(1),o.Jc("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matChipInputAddOnBlur",i.addOnBlur),o.Vb(9),o.Jc("ngForOf",i.mails.cc),o.Vb(1),o.Jc("matChipInputFor",e)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matChipInputAddOnBlur",i.addOnBlur),o.Vb(9),o.Jc("ngForOf",i.mails.bcc),o.Vb(1),o.Jc("matChipInputFor",c)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matChipInputAddOnBlur",i.addOnBlur),o.Vb(8),o.Jc("ngIf",i.mailForm.controls.subject.hasError("required")),o.Vb(8),o.dd("",2e3-i.content.value.length," Characters remaining"),o.Vb(1),o.Jc("ngIf",i.content.invalid&&i.content.errors)}},directives:[m.a,h.a,n.v,n.n,n.g,b.c,p.c,f.m,n.c,p.b,n.m,n.f,v.b,n.t,f.n,n.i,b.f,p.a,b.b],styles:[".flowRight[_ngcontent-%COMP%]{float:right;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}.flowRight[_ngcontent-%COMP%]:active{transform:scale(1.2)}.color[_ngcontent-%COMP%]:hover{background:#fff!important;color:#cc2b2b!important;font-size:large}.color[_ngcontent-%COMP%]{background-color:green;color:#fff;font-size:large}"]})},cAkE:function(t,i,e){"use strict";e.d(i,"a",function(){return w});var o=e("fXoL"),c=e("0IaG"),r=e("+0xr"),n=e("5hrT"),a=e("ltNV"),l=e("PRsa"),s=e("P64T"),d=e("ofXK"),u=e("NFeN");function m(t,i){1&t&&(o.oc(0,"th",9),o.bd(1,"Description"),o.nc())}function h(t,i){if(1&t&&(o.oc(0,"td",10),o.bd(1),o.nc()),2&t){const t=i.$implicit;o.Jc("ngClass",t.itemDeliteEdit?"tachado":""),o.Vb(1),o.dd(" ",t.description," ")}}function b(t,i){1&t&&(o.oc(0,"th",9),o.bd(1,"Total Cost"),o.nc())}function p(t,i){if(1&t&&(o.oc(0,"td",10),o.bd(1),o.nc()),2&t){const t=i.$implicit;o.Jc("ngClass",t.itemDeliteEdit?"tachado":""),o.Vb(1),o.dd(" ",t.totalCost," ")}}function f(t,i){1&t&&(o.oc(0,"th",9),o.bd(1,"Actiones"),o.nc())}function v(t,i){if(1&t){const t=o.pc();o.oc(0,"td",11),o.oc(1,"mat-icon",12),o.yc("click",function(){o.Tc(t);const e=i.$implicit;return o.Cc().onRemove(e)}),o.bd(2,"delete_forever"),o.nc(),o.oc(3,"mat-icon",13),o.yc("click",function(){o.Tc(t);const e=i.$implicit;return o.Cc().onAddNewSubcontractor(!0,e)}),o.bd(4,"create"),o.nc(),o.nc()}}function C(t,i){1&t&&o.jc(0,"tr",14)}function g(t,i){1&t&&o.jc(0,"tr",15)}class w{constructor(t,i){this.dialog=t,this.coreservice=i,this.displayedColumns=["Description","TotalCost","Actions"],this.dataSourceSubContractorsList=new r.l,this.edidSubContractorsEvent=new o.u,this.deleteSubContractors=new o.u}ngOnChanges(t){this.updatedatasourse(this.subcontractorlist)}ngOnInit(){void 0!==this.subcontractorlist&&this.subcontractorlist.length>0&&(this.dataSourceSubContractorsList.data=this.subcontractorlist)}updatedatasourse(t){this.dataSourceSubContractorsList.data=this.subcontractorlist}onAddNewSubcontractor(t,i){let e=new n.a;void 0!==t&&null!=t&&t?e=i:t=!1;const o=new c.d;o.disableClose=!0,o.autoFocus=!0,o.width="auto",o.height="85%",o.data={atributo:e,edit:t};this.dialog.open(l.a,o).afterClosed().subscribe(t=>{if(void 0!==t){const e=this.subcontractorlist.filter(t=>t!=i);if(this.deleteSubContractors.emit(i),void 0!==t.newSubContractor&&null!=t.newSubContractor&&t.newSubContractor.itemDeliteEdit&&void 0===t.oldSubContractor||null==t.oldSubContractor){let i=this.coreservice.round(t.newSubContractor.totalCost);t.newSubContractor.totalCost=i,e.push(t.newSubContractor),this.edidSubContractorsEvent.emit(t.newSubContractor)}if(void 0!==t.oldSubContractor&&null!=t.oldSubContractor&&t.oldSubContractor.itemDeliteEdit&&void 0!==t.newSubContractor&&null!=t.newSubContractor){const i=this.coreservice.round(t.newSubContractor.totalCost);t.newSubContractor.totalCost=i;const o=this.coreservice.round(t.oldSubContractor.totalCost);t.oldSubContractor.totalCost=o,e.push(t.oldSubContractor),e.push(t.newSubContractor),this.edidSubContractorsEvent.emit(t.oldSubContractor),this.edidSubContractorsEvent.emit(t.newSubContractor)}this.subcontractorlist=e,this.updatedatasourse(this.subcontractorlist)}})}onRemove(t){this.notificationRemove(t)}notificationRemove(t){const i=new c.d;i.disableClose=!0,i.autoFocus=!0,i.width="45%",i.height="auto",i.data={title:" Table data deletion alert",msg:"Are you sure you want to delete the Subcontractor?",cancel:"Cancel",confirm:"Confirm"};this.dialog.open(a.a,i).afterClosed().subscribe(i=>{if(i){const i=this.subcontractorlist.filter(i=>i!=t);this.subcontractorlist=i,this.updatedatasourse(this.subcontractorlist),this.deleteSubContractors.emit(t)}})}}w.\u0275fac=function(t){return new(t||w)(o.ic(c.b),o.ic(s.a))},w.\u0275cmp=o.cc({type:w,selectors:[["app-sub-contractors-list"]],inputs:{subcontractorlist:"subcontractorlist"},outputs:{edidSubContractorsEvent:"edidSubContractorsEvent",deleteSubContractors:"deleteSubContractors"},features:[o.Tb],decls:12,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","TotalCost"],["matColumnDef","Actions"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-cell",""],[2,"cursor","pointer","color","rgb(202, 5, 5)",3,"click"],[2,"cursor","pointer",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(o.oc(0,"table",0),o.mc(1,1),o.Zc(2,m,2,0,"th",2),o.Zc(3,h,2,2,"td",3),o.lc(),o.mc(4,4),o.Zc(5,b,2,0,"th",2),o.Zc(6,p,2,2,"td",3),o.lc(),o.mc(7,5),o.Zc(8,f,2,0,"th",2),o.Zc(9,v,5,0,"td",6),o.lc(),o.Zc(10,C,1,0,"tr",7),o.Zc(11,g,1,0,"tr",8),o.nc()),2&t&&(o.Jc("dataSource",i.dataSourceSubContractorsList),o.Vb(10),o.Jc("matHeaderRowDef",i.displayedColumns),o.Vb(1),o.Jc("matRowDefColumns",i.displayedColumns))},directives:[r.k,r.c,r.e,r.b,r.g,r.j,r.d,r.a,d.l,u.a,r.f,r.i],styles:["table[_ngcontent-%COMP%]{width:100%}"]})},g7l3:function(t,i,e){"use strict";e.d(i,"a",function(){return o});class o{constructor(){this.to=new Array,this.cc=new Array,this.bcc=new Array}}},gjWC:function(t,i,e){"use strict";e.d(i,"a",function(){return g});var o=e("0IaG"),c=e("+0xr"),r=e("r9Q/"),n=e("hZln"),a=e("fXoL"),l=e("ltNV"),s=e("ofXK"),d=e("NFeN");function u(t,i){1&t&&(a.oc(0,"th",9),a.bd(1,"Description"),a.nc())}function m(t,i){if(1&t&&(a.oc(0,"td",10),a.bd(1),a.nc()),2&t){const t=i.$implicit;a.Jc("ngClass",t.itemDeliteEdit?"tachado":""),a.Vb(1),a.dd(" ",t.descriptionOfServicesCost," ")}}function h(t,i){1&t&&(a.oc(0,"th",9),a.bd(1,"Total Cost"),a.nc())}function b(t,i){if(1&t&&(a.oc(0,"td",10),a.bd(1),a.nc()),2&t){const t=i.$implicit;a.Jc("ngClass",t.itemDeliteEdit?"tachado":""),a.Vb(1),a.dd(" ",t.servicesCost," ")}}function p(t,i){1&t&&(a.oc(0,"th",9),a.bd(1,"Actiones"),a.nc())}function f(t,i){if(1&t){const t=a.pc();a.oc(0,"td",11),a.oc(1,"mat-icon",12),a.yc("click",function(){a.Tc(t);const e=i.$implicit;return a.Cc().onRemove(e)}),a.bd(2,"delete_forever"),a.nc(),a.oc(3,"mat-icon",13),a.yc("click",function(){a.Tc(t);const e=i.$implicit;return a.Cc().onAddNewService(!0,e)}),a.bd(4,"create"),a.nc(),a.nc()}}function v(t,i){1&t&&a.jc(0,"tr",14)}function C(t,i){1&t&&a.jc(0,"tr",15)}class g{constructor(t){this.dialog=t,this.displayedColumns=["Description","TotalCost","Actions"],this.dataSourceServiceList=new c.l,this.edidServiceEvent=new a.u,this.deleteService=new a.u}ngOnChanges(t){this.updatedataSourse(this.servicelist)}ngOnInit(){void 0!==this.servicelist&&this.servicelist.length>0&&(this.dataSourceServiceList.data=this.servicelist)}updatedataSourse(t){this.servicelist=t,this.dataSourceServiceList.data=this.servicelist}onAddNewService(t,i){let e=new r.a;void 0!==t&&null!=t&&t?e=i:t=!1;const c=new o.d;c.disableClose=!0,c.autoFocus=!0,c.width="auto",c.height="auto",c.data={atributo:e,edit:t};this.dialog.open(n.a,c).afterClosed().subscribe(t=>{if(void 0!==t){const e=this.servicelist.filter(t=>t!=i);this.deleteService.emit(i),(void 0!==t.oldService&&null!=t.oldService&&t.oldService.itemDeliteEdit&&void 0===t.newService||null==t.newService)&&(e.push(t.oldService),this.edidServiceEvent.emit(t.oldService)),void 0!==t.oldService&&null!=t.oldService&&void 0!==t.oldService.descriptionOfServicesCost&&null!=t.oldService.descriptionOfServicesCost&&t.oldService.itemDeliteEdit&&void 0!==t.newService&&null!=t.newService&&(e.push(t.oldService),e.push(t.newService),this.edidServiceEvent.emit(t.oldService),this.edidServiceEvent.emit(t.newService)),void 0!==t.oldService||null!=t.oldService||t.newService.itemDeliteEdit||void 0===t.newService||null==t.newService||(e.push(t.newService),this.edidServiceEvent.emit(t.newService)),this.servicelist=e,this.updatedataSourse(this.servicelist)}})}onRemove(t){this.notificationRemove(t)}notificationRemove(t){const i=new o.d;i.disableClose=!0,i.autoFocus=!0,i.width="45%",i.height="auto",i.data={title:" Table data deletion alert",msg:"Are you sure you want to delete the service?",cancel:"Cancel",confirm:"Confirm"};this.dialog.open(l.a,i).afterClosed().subscribe(i=>{if(i){const i=this.servicelist.filter(i=>i!=t);this.servicelist=i,this.updatedataSourse(this.servicelist),this.deleteService.emit(t)}})}}g.\u0275fac=function(t){return new(t||g)(a.ic(o.b))},g.\u0275cmp=a.cc({type:g,selectors:[["app-service-list"]],inputs:{servicelist:"servicelist"},outputs:{edidServiceEvent:"edidServiceEvent",deleteService:"deleteService"},features:[a.Tb],decls:12,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","TotalCost"],["matColumnDef","Actions"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-cell",""],[2,"cursor","pointer","color","rgb(202, 5, 5)",3,"click"],[2,"cursor","pointer","color","black",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(a.oc(0,"table",0),a.mc(1,1),a.Zc(2,u,2,0,"th",2),a.Zc(3,m,2,2,"td",3),a.lc(),a.mc(4,4),a.Zc(5,h,2,0,"th",2),a.Zc(6,b,2,2,"td",3),a.lc(),a.mc(7,5),a.Zc(8,p,2,0,"th",2),a.Zc(9,f,5,0,"td",6),a.lc(),a.Zc(10,v,1,0,"tr",7),a.Zc(11,C,1,0,"tr",8),a.nc()),2&t&&(a.Jc("dataSource",i.dataSourceServiceList),a.Vb(10),a.Jc("matHeaderRowDef",i.displayedColumns),a.Vb(1),a.Jc("matRowDefColumns",i.displayedColumns))},directives:[c.k,c.c,c.e,c.b,c.g,c.j,c.d,c.a,s.l,d.a,c.f,c.i],styles:["table[_ngcontent-%COMP%]{width:100%}"]})},hZln:function(t,i,e){"use strict";e.d(i,"a",function(){return w});var o=e("3Pt+"),c=e("0IaG");class r{}var n=e("r9Q/"),a=e("fXoL"),l=e("bSwM"),s=e("ofXK"),d=e("bTqV");function u(t,i){if(1&t){const t=a.pc();a.oc(0,"div",1),a.oc(1,"div",5),a.oc(2,"div",12),a.oc(3,"form",13),a.oc(4,"div",14),a.oc(5,"label",15),a.bd(6,"Price/Total:"),a.nc(),a.oc(7,"input",16),a.yc("keyup.enter",function(){a.Tc(t);return a.Cc().changePrices()})("focusout",function(){a.Tc(t);return a.Cc().changePrices()}),a.nc(),a.nc(),a.nc(),a.nc(),a.nc(),a.nc()}if(2&t){const t=a.Cc();a.Vb(3),a.Jc("formGroup",t.inputForm)}}class m{constructor(t,i,e){this.fb=t,this.dialogRef=i,this.data=e,this.mensaje="By accepting, you will remove the item from the list of calculations for the total cost, you can modify the price of the item.",this.title="Item Modifier Panel",this.checked=!1,this.disabled=!1,this.indeterminate=!1,this.labelPosition="before",this.color="warn",this.inputForm=this.fb.group({priceOrTotal:[null,o.u.required]}),this.item=new n.a,void 0!==e.item&&null!=e.item&&(this.item=e.item)}ngOnInit(){}onAgree(){const t=new r;t.oldService=this.item,t.oldService.itemDeliteEdit=!0,this.checked&&(t.newService=this.copyItem(this.item),void 0!==this.inputForm.value.priceOrTotal&&null!=this.inputForm.value.priceOrTotal&&(t.newService.servicesCost=this.inputForm.value.priceOrTotal)),this.dialogRef.close(t)}copyItem(t){const i=new n.a;return i.servicesCost=0,i.descriptionOfServicesCost=t.descriptionOfServicesCost,i}onCancel(){this.dialogRef.close()}changePrices(){console.log(this.checked)}}m.\u0275fac=function(t){return new(t||m)(a.ic(o.d),a.ic(c.g),a.ic(c.a))},m.\u0275cmp=a.cc({type:m,selectors:[["app-app-panel-item-service"]],decls:23,vars:8,consts:[[1,"container","panelBackground"],[1,"row"],[1,"col","mat-elevation-z4",2,"background-color","rgba(0, 0, 0, 0.966)","color","rgb(253, 253, 253)","height","40px"],[1,"title",2,"margin-top","8px"],[1,"col"],[1,"col-12"],[1,"exa-section"],[1,"exa-margin",3,"ngModel","indeterminate","labelPosition","color","disabled","ngModelChange","indeterminateChange"],["class","row",4,"ngIf"],[1,"mt-5","mb-2","d-flex","justify-content-center"],["mat-button","",1,"m-1","ml-5","buttonColorRed",3,"click"],["mat-button","",1,"m-1","ml-5","buttonColorGreen",3,"click"],[1,"mt-2","mb-2","d-flex","justify-content-center"],[1,"col-12",3,"formGroup"],[1,"input-group"],["for","priceOrTotal",1,"m-1"],["type","number","min","0","placeholder","0","formControlName","priceOrTotal","id","priceOrTotal","aria-label","priceOrTotal","aria-describedby","basic-addon2","required","",1,"form-control",3,"keyup.enter","focusout"]],template:function(t,i){1&t&&(a.oc(0,"div",0),a.oc(1,"div",1),a.oc(2,"div",2),a.oc(3,"div",3),a.bd(4),a.nc(),a.nc(),a.nc(),a.jc(5,"br"),a.oc(6,"div",1),a.oc(7,"div",4),a.bd(8),a.nc(),a.nc(),a.jc(9,"br"),a.oc(10,"div",1),a.oc(11,"div",5),a.oc(12,"section",6),a.oc(13,"mat-checkbox",7),a.yc("ngModelChange",function(t){return i.checked=t})("indeterminateChange",function(t){return i.indeterminate=t}),a.bd(14," Do you want to change the price of the item?: "),a.nc(),a.nc(),a.nc(),a.nc(),a.Zc(15,u,8,1,"div",8),a.oc(16,"div",1),a.oc(17,"div",5),a.oc(18,"div",9),a.oc(19,"button",10),a.yc("click",function(){return i.onCancel()}),a.bd(20," Cancel "),a.nc(),a.oc(21,"button",11),a.yc("click",function(){return i.onAgree()}),a.bd(22," Agree "),a.nc(),a.nc(),a.nc(),a.nc(),a.nc()),2&t&&(a.Vb(4),a.dd(" ",i.title," "),a.Vb(4),a.dd(" ",i.mensaje," "),a.Vb(5),a.Jc("ngModel",i.checked)("indeterminate",i.indeterminate)("labelPosition",i.labelPosition)("color",i.color)("disabled",i.disabled),a.Vb(2),a.Jc("ngIf",i.checked))},directives:[l.a,o.m,o.p,s.n,d.a,o.v,o.n,o.g,o.r,o.c,o.f,o.t],styles:[""]});var h=e("dNgK"),b=e("/t3+"),p=e("kmnG"),f=e("qFsG");function v(t,i){1&t&&(a.oc(0,"mat-error"),a.bd(1," Description is "),a.oc(2,"strong"),a.bd(3,"required"),a.nc(),a.nc())}function C(t,i){1&t&&(a.oc(0,"mat-error"),a.bd(1," Service Cost is "),a.oc(2,"strong"),a.bd(3,"required"),a.nc(),a.nc())}function g(t,i){if(1&t){const t=a.pc();a.oc(0,"button",14),a.yc("click",function(){a.Tc(t);return a.Cc().panelItem()}),a.bd(1," Modifict "),a.nc()}}class w{constructor(t,i,e,c,a){this.snackBar=t,this.fb=i,this.dialog=e,this.dialogRef=c,this.data=a,this.servicesForm=this.fb.group({servicesCost:[null,o.u.required],overhead:[null],descriptionOfServicesCost:[null,o.u.required]}),this.edit=!1,this.odlService=new n.a,this.dialogoService=new r,this.titleService="NEW SERVICE",a.edit?(this.edit=a.edit,this.service=this.newService(a.atributo),this.titleService="SERVICE",this.updateView()):(this.titleService="NEW SERVICE",this.service=new n.a)}ngOnInit(){}onSave(){this.servicesForm.valid?(this.edit&&void 0!==this.odlService&&null!=this.odlService&&void 0!==this.odlService.descriptionOfServicesCost&&null!=this.odlService.descriptionOfServicesCost&&(this.dialogoService.oldService=this.odlService),this.service.servicesCost=this.servicesForm.value.servicesCost,this.service.descriptionOfServicesCost=this.servicesForm.value.descriptionOfServicesCost,void 0!==this.servicesForm.value.overhead&&null!=this.servicesForm.value.overhead&&(this.service.overhead=this.servicesForm.value.overhead),this.dialogoService.newService=this.service,this.dialogRef.close(this.dialogoService)):this.snackBar.open("Fill in all required fields","Cerrar")}onCancel(){this.dialogRef.close()}updateView(){this.servicesForm.patchValue({servicesCost:this.service.servicesCost,overhead:this.service.overhead,descriptionOfServicesCost:this.service.descriptionOfServicesCost})}panelItem(){const t=new c.d;t.disableClose=!0,t.autoFocus=!0,t.width="50%",t.height="auto",t.data={item:this.service};this.dialog.open(m,t).afterClosed().subscribe(t=>{void 0!==t&&null!=t&&(t.oldService.itemDeliteEdit&&void 0!==t.newService&&null!=t.newService&&(this.titleService="NEW SERVICE",this.service=t.newService,this.odlService=t.oldService,this.updateView()),(t.oldService.itemDeliteEdit&&void 0===t.newService||null==t.newService)&&(this.service=t.oldService,this.titleService="SERVICE",this.updateView()))})}newService(t){const i=new n.a;return i.descriptionOfServicesCost=t.descriptionOfServicesCost,void 0!==t.servicesCost&&null!=t.servicesCost&&(i.servicesCost=t.servicesCost),void 0!==t.idEstimate&&null!=t.idEstimate&&(i.idEstimate=t.idEstimate),void 0!==t.idServices&&null!=t.idServices&&(i.idServices=t.idServices),void 0!==t.idWork&&null!=t.idWork&&(i.idWork=t.idWork),void 0!==t.itemDeliteEdit&&null!=t.itemDeliteEdit&&(i.itemDeliteEdit=t.itemDeliteEdit),void 0!==t.overhead&&null!=t.overhead&&(i.overhead=t.overhead),i}}w.\u0275fac=function(t){return new(t||w)(a.ic(h.a),a.ic(o.d),a.ic(c.b),a.ic(c.g),a.ic(c.a))},w.\u0275cmp=a.cc({type:w,selectors:[["app-new-service"]],decls:22,vars:5,consts:[[1,"topeSeparation"],[1,"col","mat-elevation-z8","titleMarco"],[1,"mb-3","mt-3"],["novalidate","",1,"container-fluid",3,"formGroup"],[1,"container-fluid"],[1,"row","mt-1"],[1,"full-width"],["matInput","","placeholder","Description","formControlName","descriptionOfServicesCost","required",""],[4,"ngIf"],["matInput","","type","number","placeholder","Service Cost","formControlName","servicesCost","required",""],[1,"flex-container","mt-2","mb-2"],["mat-button","",1,"m-1","buttonColorGreen",3,"click"],["mat-button","",1,"m-1","buttonColorRed",3,"click"],["mat-button","","class","m-1 buttonColorBlue",3,"click",4,"ngIf"],["mat-button","",1,"m-1","buttonColorBlue",3,"click"]],template:function(t,i){1&t&&(a.oc(0,"div",0),a.oc(1,"header"),a.oc(2,"mat-toolbar",1),a.oc(3,"div"),a.bd(4),a.nc(),a.nc(),a.nc(),a.oc(5,"body",2),a.oc(6,"form",3),a.oc(7,"div",4),a.oc(8,"div",5),a.oc(9,"mat-form-field",6),a.jc(10,"input",7),a.Zc(11,v,4,0,"mat-error",8),a.nc(),a.nc(),a.oc(12,"div",5),a.oc(13,"mat-form-field",6),a.jc(14,"input",9),a.Zc(15,C,4,0,"mat-error",8),a.nc(),a.nc(),a.nc(),a.nc(),a.oc(16,"div",10),a.oc(17,"button",11),a.yc("click",function(){return i.onSave()}),a.bd(18,"Save"),a.nc(),a.oc(19,"button",12),a.yc("click",function(){return i.onCancel()}),a.bd(20,"cancel"),a.nc(),a.Zc(21,g,2,0,"button",13),a.nc(),a.nc(),a.nc()),2&t&&(a.Vb(4),a.cd(i.titleService),a.Vb(2),a.Jc("formGroup",i.servicesForm),a.Vb(5),a.Jc("ngIf",i.servicesForm.controls.descriptionOfServicesCost.hasError("required")),a.Vb(4),a.Jc("ngIf",i.servicesForm.controls.servicesCost.hasError("required")),a.Vb(6),a.Jc("ngIf",void 0!==i.service.idServices&&null!=i.service.idServices&&!i.service.itemDeliteEdit))},directives:[b.a,o.v,o.n,o.g,p.c,f.b,o.c,o.m,o.f,o.t,s.n,o.r,d.a,p.b],styles:[".ex-chip-list[_ngcontent-%COMP%]{width:100%}"]})},j8Vv:function(t,i,e){"use strict";e.d(i,"a",function(){return I});var o=e("3Pt+"),c=e("0IaG"),r=e("FtGj"),n=e("GDQp"),a=e("YoIJ"),l=e("UMzN"),s=e("fXoL"),d=e("/t3+"),u=e("kmnG"),m=e("qFsG"),h=e("ofXK"),b=e("d3UM"),p=e("A5z7"),f=e("bTqV"),v=e("FKr1");function C(t,i){1&t&&(s.oc(0,"mat-error"),s.bd(1," First name is "),s.oc(2,"strong"),s.bd(3,"required"),s.nc(),s.nc())}function g(t,i){1&t&&(s.oc(0,"mat-error"),s.bd(1," Last name is "),s.oc(2,"strong"),s.bd(3,"required"),s.nc(),s.nc())}function w(t,i){1&t&&(s.oc(0,"mat-error"),s.bd(1," Address is "),s.oc(2,"strong"),s.bd(3,"required"),s.nc(),s.nc())}function S(t,i){1&t&&(s.oc(0,"mat-error"),s.bd(1," Address is "),s.oc(2,"strong"),s.bd(3,"required"),s.nc(),s.nc())}function T(t,i){1&t&&(s.oc(0,"mat-error"),s.bd(1," city is "),s.oc(2,"strong"),s.bd(3,"required"),s.nc(),s.nc())}function k(t,i){if(1&t&&(s.oc(0,"mat-option",34),s.bd(1),s.nc()),2&t){const t=i.$implicit;s.Jc("value",t.abbreviation),s.Vb(1),s.dd(" ",t.name," ")}}function y(t,i){1&t&&(s.oc(0,"mat-error"),s.bd(1," State is "),s.oc(2,"strong"),s.bd(3,"required"),s.nc(),s.nc())}function F(t,i){if(1&t){const t=s.pc();s.oc(0,"mat-chip",35),s.yc("click",function(){s.Tc(t);const e=i.$implicit;return s.Cc().remove(e)}),s.bd(1),s.nc()}if(2&t){const t=i.$implicit;s.Vb(1),s.dd(" ",t.number," ")}}function P(t,i){if(1&t){const t=s.pc();s.oc(0,"mat-chip",35),s.yc("click",function(){s.Tc(t);const e=i.$implicit;return s.Cc().removeMail(e)}),s.bd(1),s.nc()}if(2&t){const t=i.$implicit;s.Vb(1),s.dd(" ",t.email," ")}}class I{constructor(t,i,e){this.fb=t,this.dialogRef=i,this.data=e,this.addressForm=this.fb.group({firstName:[null,o.u.required],lastName:[null,o.u.required],address:[null,o.u.required],state:[null,o.u.required],city:[null,o.u.required],postalCode:[null,o.u.compose([o.u.required,o.u.minLength(5),o.u.maxLength(5)])],emails:null,address2:null,codigocliente:[null],phone:[null]}),this.hasUnitNumber=!1,this.states=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],this.addOnBlur=!0,this.separatorKeysCodes=[r.g,r.c],this.phones=[],this.mails=[],this.filterName="",e.edit?(this.client=e.atributo,this.updateClientView()):this.client=new l.a}updateClientView(){this.states.forEach(t=>{t.abbreviation!==this.client.state||this.addressForm.patchValue({state:t.abbreviation})}),this.addressForm.patchValue({firstName:this.client.name,lastName:this.client.lastName,address:this.client.address,postalCode:this.client.zipCode,codigocliente:this.client.codeClient,city:this.client.city}),this.phones=this.client.phoneNumbers,this.mails=this.client.emails}onAddUnitOrAprt2(){void 0!==this.addressForm.value.address2&&null!=this.addressForm.value.address2?this.client.address=`${this.addressForm.value.address}, # ${this.addressForm.value.address2}`:this.client.address=`${this.addressForm.value.address}`}add(t){const i=t.input,e=t.value;if((e||"").trim()){const t=new n.a;t.number=e.trim(),this.phones.push(t)}i&&(i.value="")}remove(t){const i=this.phones.indexOf(t);i>=0&&this.phones.splice(i,1)}addMail(t){const i=new RegExp("([!#-'*+/-9=?A-Z^-~-]+(.[!#-'*+/-9=?A-Z^-~-]+)*|\"([]!#-[^-~ \t]|(\\[\t -~]))+\")@([!#-'*+/-9=?A-Z^-~-]+(.[!#-'*+/-9=?A-Z^-~-]+)*|[[\t -Z^-~]*])"),e=t.input,o=t.value;if((o||"").trim())if(i.test(o.trim())){const t=new a.a;t.email=o.trim(),this.mails.push(t)}else alert("Enter an email with Valid Format"),e&&(e.value="");e&&(e.value="")}removeMail(t){const i=this.mails.indexOf(t);i>=0&&this.mails.splice(i,1)}onCancel(){this.dialogRef.close()}ngOnInit(){}onSave(){this.addressForm.valid?(this.client.name=this.addressForm.value.firstName,this.client.lastName=this.addressForm.value.lastName,this.onAddUnitOrAprt2(),this.client.state=this.addressForm.value.state,this.client.zipCode=this.addressForm.value.postalCode,this.client.city=this.addressForm.value.city,this.client.fullAdress=`${this.client.address}, ${this.client.city}, ${this.addressForm.value.state}, ${this.client.zipCode}`,this.client.emails=this.mails,this.client.phoneNumbers=this.phones,this.checkCodigocliente(),this.dialogRef.close(this.client)):alert("complete all the required information")}checkCodigocliente(){void 0!==this.addressForm.value.codigocliente&&null!==this.addressForm.value.codigocliente&&""!==this.addressForm.value.codigocliente?this.client.codeClient=this.addressForm.value.codigocliente:this.generateCodeClient(),this.setCodigocliente()}generateCodeClient(){const t=Math.floor(1000001*Math.random());this.client.codeClient=`${this.addressForm.value.firstName}${this.client.lastName}-${t}`}setCodigocliente(){void 0!==this.client.codeClient&&null!==this.client.codeClient&&""!==this.client.codeClient&&(this.client.phoneNumbers.forEach(t=>{t.codeClient=this.client.codeClient}),this.client.emails.forEach(t=>{t.codeClient=this.client.codeClient}))}}I.\u0275fac=function(t){return new(t||I)(s.ic(o.d),s.ic(c.g),s.ic(c.a))},I.\u0275cmp=s.cc({type:I,selectors:[["app-new-cliente"]],decls:69,vars:17,consts:[[1,"topeSeparation"],[1,"col","mat-elevation-z8","titleMarco"],[1,"mb-3","mt-3"],["novalidate","",1,"container-fluid",3,"formGroup"],[1,"container-fluid"],[1,"row","mt-1"],[1,"col"],[1,"full-width"],["matInput","","placeholder","First name","formControlName","firstName","required",""],[4,"ngIf"],["matInput","","placeholder","Last name","formControlName","lastName","required",""],["matInput","","placeholder","Client Code","formControlName","codigocliente"],[1,"col-12"],[2,"width","100%"],["matInput","","placeholder","Address","formControlName","address","required",""],["matInput","","placeholder","Apartment or Unit","formControlName","address2"],["matInput","","placeholder","City","formControlName","city","required",""],["placeholder","State","formControlName","state","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","maxlength","5","placeholder","Postal Code","type","number","formControlName","postalCode","required",""],["postalCode",""],["align","end"],[1,"row","mt-2"],["appearance","fill",1,"ex-chip-list"],["aria-label","Add phone or phones"],["chipList",""],[3,"click",4,"ngFor","ngForOf"],["placeholder","New Phone Number...","formControlName","phone","id","chipInput",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["aria-label","Add mail o mails of client"],["chipList2",""],["placeholder","New mail...","formControlName","emails","id","chipInput",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[1,"mt-2","mb-2","d-flex","justify-content-center"],["mat-button","",1,"m-1",2,"background-color","green","color","white",3,"click"],["mat-button","",1,"m-1","ml-5",2,"background-color","rgb(202, 5, 5)","color","white",3,"click"],[3,"value"],[3,"click"]],template:function(t,i){if(1&t&&(s.oc(0,"div",0),s.oc(1,"header"),s.oc(2,"mat-toolbar",1),s.oc(3,"div"),s.bd(4,"NEW CLIENT"),s.nc(),s.nc(),s.nc(),s.oc(5,"body",2),s.oc(6,"form",3),s.oc(7,"div",4),s.oc(8,"div",5),s.oc(9,"div",6),s.oc(10,"mat-form-field",7),s.jc(11,"input",8),s.Zc(12,C,4,0,"mat-error",9),s.nc(),s.nc(),s.oc(13,"div",6),s.oc(14,"mat-form-field",7),s.jc(15,"input",10),s.Zc(16,g,4,0,"mat-error",9),s.nc(),s.nc(),s.oc(17,"div",6),s.oc(18,"mat-form-field",7),s.jc(19,"input",11),s.nc(),s.nc(),s.nc(),s.oc(20,"div",5),s.oc(21,"div",12),s.oc(22,"mat-form-field",13),s.jc(23,"textarea",14),s.Zc(24,w,4,0,"mat-error",9),s.nc(),s.nc(),s.nc(),s.oc(25,"div",5),s.oc(26,"div",12),s.oc(27,"mat-form-field",13),s.jc(28,"textarea",15),s.Zc(29,S,4,0,"mat-error",9),s.nc(),s.nc(),s.nc(),s.oc(30,"div",5),s.oc(31,"div",6),s.oc(32,"mat-form-field",7),s.jc(33,"input",16),s.Zc(34,T,4,0,"mat-error",9),s.nc(),s.nc(),s.oc(35,"div",6),s.oc(36,"mat-form-field",7),s.oc(37,"mat-select",17),s.Zc(38,k,2,2,"mat-option",18),s.nc(),s.Zc(39,y,4,0,"mat-error",9),s.nc(),s.nc(),s.oc(40,"div",6),s.oc(41,"mat-form-field",7),s.jc(42,"input",19,20),s.oc(44,"mat-hint",21),s.bd(45),s.nc(),s.nc(),s.nc(),s.nc(),s.jc(46,"br"),s.oc(47,"div",22),s.oc(48,"div",6),s.oc(49,"mat-form-field",23),s.oc(50,"mat-label"),s.bd(51,"Client Phones"),s.nc(),s.oc(52,"mat-chip-list",24,25),s.Zc(54,F,2,1,"mat-chip",26),s.oc(55,"input",27),s.yc("matChipInputTokenEnd",function(t){return i.add(t)}),s.nc(),s.nc(),s.nc(),s.nc(),s.oc(56,"div",6),s.oc(57,"mat-form-field",23),s.oc(58,"mat-label"),s.bd(59,"Client Mails"),s.nc(),s.oc(60,"mat-chip-list",28,29),s.Zc(62,P,2,1,"mat-chip",26),s.oc(63,"input",30),s.yc("matChipInputTokenEnd",function(t){return i.addMail(t)}),s.nc(),s.nc(),s.nc(),s.nc(),s.nc(),s.nc(),s.nc(),s.oc(64,"div",31),s.oc(65,"button",32),s.yc("click",function(){return i.onSave()}),s.bd(66,"Save"),s.nc(),s.oc(67,"button",33),s.yc("click",function(){return i.onCancel()}),s.bd(68,"cancel"),s.nc(),s.nc(),s.nc(),s.nc()),2&t){const t=s.Rc(43),e=s.Rc(53),o=s.Rc(61);s.Vb(6),s.Jc("formGroup",i.addressForm),s.Vb(6),s.Jc("ngIf",i.addressForm.controls.firstName.hasError("required")),s.Vb(4),s.Jc("ngIf",i.addressForm.controls.lastName.hasError("required")),s.Vb(8),s.Jc("ngIf",i.addressForm.controls.address.hasError("required")),s.Vb(5),s.Jc("ngIf",i.addressForm.controls.address2.hasError("required")),s.Vb(5),s.Jc("ngIf",i.addressForm.controls.city.hasError("required")),s.Vb(4),s.Jc("ngForOf",i.states),s.Vb(1),s.Jc("ngIf",i.addressForm.controls.state.hasError("required")),s.Vb(6),s.dd("",t.value.length," / 5"),s.Vb(9),s.Jc("ngForOf",i.phones),s.Vb(1),s.Jc("matChipInputFor",e)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matChipInputAddOnBlur",i.addOnBlur),s.Vb(7),s.Jc("ngForOf",i.mails),s.Vb(1),s.Jc("matChipInputFor",o)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matChipInputAddOnBlur",i.addOnBlur)}},directives:[d.a,o.v,o.n,o.g,u.c,m.b,o.c,o.m,o.f,o.t,h.n,b.a,h.m,o.r,o.i,u.f,u.g,p.c,p.b,f.a,u.b,v.m,p.a],styles:[".ex-chip-list[_ngcontent-%COMP%]{width:100%}"]})},kHcE:function(t,i,e){"use strict";e.d(i,"a",function(){return g});var o=e("fXoL"),c=e("0IaG"),r=e("+0xr"),n=e("qmPo"),a=e("ltNV"),l=e("Ibmz"),s=e("ofXK"),d=e("NFeN");function u(t,i){1&t&&(o.oc(0,"th",9),o.bd(1,"Description"),o.nc())}function m(t,i){if(1&t&&(o.oc(0,"td",10),o.bd(1),o.nc()),2&t){const t=i.$implicit;o.Jc("ngClass",t.itemDeliteEdit?"tachado":""),o.Vb(1),o.dd(" ",t.description," ")}}function h(t,i){1&t&&(o.oc(0,"th",9),o.bd(1,"Total Cost"),o.nc())}function b(t,i){if(1&t&&(o.oc(0,"td",10),o.bd(1),o.nc()),2&t){const t=i.$implicit;o.Jc("ngClass",t.itemDeliteEdit?"tachado":""),o.Vb(1),o.dd(" ",t.billTotal," ")}}function p(t,i){1&t&&(o.oc(0,"th",9),o.bd(1,"Actiones"),o.nc())}function f(t,i){if(1&t){const t=o.pc();o.oc(0,"td",11),o.oc(1,"mat-icon",12),o.yc("click",function(){o.Tc(t);const e=i.$implicit;return o.Cc().onRemove(e)}),o.bd(2,"delete_forever"),o.nc(),o.oc(3,"mat-icon",13),o.yc("click",function(){o.Tc(t);const e=i.$implicit;return o.Cc().onAddNewBill(!0,e)}),o.bd(4,"create"),o.nc(),o.nc()}}function v(t,i){1&t&&o.jc(0,"tr",14)}function C(t,i){1&t&&o.jc(0,"tr",15)}class g{constructor(t){this.dialog=t,this.displayedColumns=["Description","TotalCost","actiones"],this.dataSourceBill=new r.l,this.edidBillEvent=new o.u,this.deleteBill=new o.u}ngOnChanges(t){this.updatedatasourse(this.billList)}ngOnInit(){void 0!==this.billList&&this.billList.length>0&&(this.dataSourceBill.data=this.billList)}updatedatasourse(t){this.billList=t,this.dataSourceBill.data=this.billList}onAddNewBill(t,i){let e=new n.a;void 0!==t&&null!=t&&t?e=i:t=!1;const o=new c.d;o.disableClose=!0,o.autoFocus=!0,o.width="95%",o.height="85%",o.data={atributo:e,edit:t};this.dialog.open(l.a,o).afterClosed().subscribe(t=>{if(void 0!==t){const e=this.billList.filter(t=>t!=i);this.deleteBill.emit(i),(void 0!==t.oldBill&&null!=t.oldBill&&t.oldBill.itemDeliteEdit&&void 0===t.newBill||null==t.newBill)&&(e.push(t.oldBill),this.edidBillEvent.emit(t.oldBill)),void 0!==t.oldBill&&null!=t.oldBill&&t.oldBill.itemDeliteEdit&&void 0!==t.newBill&&null!=t.newBill&&(e.push(t.oldBill),e.push(t.newBill),this.edidBillEvent.emit(t.oldBill),this.edidBillEvent.emit(t.newBill)),(void 0===t.oldBill||null==t.oldBill&&void 0!==t.newBill&&null!=t.newBill)&&(e.push(t.newBill),this.edidBillEvent.emit(t.newBill)),this.billList=e,this.updatedatasourse(this.billList)}})}onRemove(t){this.notificationRemove(t)}notificationRemove(t){const i=new c.d;i.disableClose=!0,i.autoFocus=!0,i.width="45%",i.height="auto",i.data={title:" Table data deletion alert",msg:"Are you sure you want to delete the Bill?",cancel:"Cancel",confirm:"Confirm"};this.dialog.open(a.a,i).afterClosed().subscribe(i=>{if(i){const i=this.billList.filter(i=>i!=t);this.billList=i,this.updatedatasourse(this.billList),this.deleteBill.emit(t)}})}}g.\u0275fac=function(t){return new(t||g)(o.ic(c.b))},g.\u0275cmp=o.cc({type:g,selectors:[["app-bill-list"]],inputs:{billList:"billList"},outputs:{edidBillEvent:"edidBillEvent",deleteBill:"deleteBill"},features:[o.Tb],decls:12,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","TotalCost"],["matColumnDef","actiones"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-cell",""],[2,"cursor","pointer","color","rgb(202, 5, 5)",3,"click"],[2,"cursor","pointer",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(o.oc(0,"table",0),o.mc(1,1),o.Zc(2,u,2,0,"th",2),o.Zc(3,m,2,2,"td",3),o.lc(),o.mc(4,4),o.Zc(5,h,2,0,"th",2),o.Zc(6,b,2,2,"td",3),o.lc(),o.mc(7,5),o.Zc(8,p,2,0,"th",2),o.Zc(9,f,5,0,"td",6),o.lc(),o.Zc(10,v,1,0,"tr",7),o.Zc(11,C,1,0,"tr",8),o.nc()),2&t&&(o.Jc("dataSource",i.dataSourceBill),o.Vb(10),o.Jc("matHeaderRowDef",i.displayedColumns),o.Vb(1),o.Jc("matRowDefColumns",i.displayedColumns))},directives:[r.k,r.c,r.e,r.b,r.g,r.j,r.d,r.a,s.l,d.a,r.f,r.i],styles:["table[_ngcontent-%COMP%]{width:100%}"]})},qBFp:function(t,i,e){"use strict";e.d(i,"a",function(){return c});var o=e("g7l3");class c{constructor(){this.email=new o.a,this.printProduct=!1,this.avancePayments=!1}}}}]);