
<div class="m-4">
    <div>
      <div class="container-fluid">
        <button mat-button class="m-1 flowRight color" (click)="onSent()">
          Send <mat-icon>send</mat-icon> 
        </button>
      </div>
    </div>
</div>

<br>
<br>

<div class="mt-3">
  <form [formGroup]="mailForm" novalidate  class="container-fluid mt-2">

    <div class="container">
        <div class="row">
          <div class="col-1">
          To:
          </div>
          <div class="col-11">
                <mat-form-field class="ex-chip-list" appearance="fill">
                    <mat-chip-list #chipList1 aria-label="Add mail o mails">
                        <mat-chip *ngFor="let mail of this.mails.to" (click)="removeTo(mail)">
                            {{mail}}
                          </mat-chip>
                      <input placeholder="New mail..." formControlName="emailsTo" 
                             [matChipInputFor]="chipList1"
                             [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                             [matChipInputAddOnBlur]="addOnBlur"
                             (matChipInputTokenEnd)="addMailTo($event)"
                             id="chipInput1">
                    </mat-chip-list>
                  </mat-form-field>
          </div>
        </div>
      </div>
    
      <div class="container">
        <div class="row">
          <div class="col-1">
          Cc:
          </div>
          <div class="col-11">
            <mat-form-field class="ex-chip-list" appearance="fill">
                <mat-chip-list #chipList2 aria-label="Add mail o mails">
                    <mat-chip *ngFor="let mail of this.mails.cc" (click)="removeCc(mail)">
                        {{mail}}
                      </mat-chip>
                  <input placeholder="New mail..." formControlName="emailsCc" 
                         [matChipInputFor]="chipList2"
                         [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                         [matChipInputAddOnBlur]="addOnBlur"
                         (matChipInputTokenEnd)="addMailCc($event)"
                         id="chipInput2">
                </mat-chip-list>
              </mat-form-field>
          </div>
        </div>
      </div>
    
      <div class="container">
        <div class="row">
          <div class="col-1">
          Bcc:
          </div>
          <div class="col-11">
            <mat-form-field class="ex-chip-list" appearance="fill">
                <mat-chip-list #chipList3 aria-label="Add mail o mails">
                    <mat-chip *ngFor="let mail of this.mails.bcc" (click)="removeBcc(mail)">
                        {{mail}}
                      </mat-chip>
                  <input placeholder="New mail..." formControlName="emailsBcc" 
                         [matChipInputFor]="chipList3"
                         [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                         [matChipInputAddOnBlur]="addOnBlur"
                         (matChipInputTokenEnd)="addMailBcc($event)"
                         id="chipInput3">
                </mat-chip-list>
              </mat-form-field>
          </div>
        </div>
      </div>
    
      <div class="container">
        <div class="row">
          <div class="col-1">
            Subject:
          </div>
          <div class="col-11">
            <mat-form-field class="full-width">
                <input matInput placeholder="Subject" formControlName="subject" (keyup)="subjectText()" required>
                <mat-error *ngIf="mailForm.controls['subject'].hasError('required')">
                    Subject is <strong>required</strong>
                </mat-error>
              </mat-form-field>
          </div>
        </div>
      </div>
    
      <div class="highlight">
        <div class="col-sm-12">
            <mat-form-field 
                style="display: inline-block; width: 100%"
                data-toggle="tooltip"
                title=" Enter a comment for the customer, It is not a required field">
                <textarea style="width: 100%; height: 200px;" class="shortInput border"
                    matInput type="string" placeholder="" maxlength="4000"
                    formControlName="content" 
                    (keyup)="comentText()" #obser>
                </textarea>
                <mat-hint align="end">{{ 2000 - content.value.length }} Characters remaining</mat-hint>
                <mat-error *ngIf="content.invalid && content.errors"> You must enter a comment.</mat-error>
            </mat-form-field>
        </div>
    </div>
    
    </form>
</div>





<!-- <div class="mt-2 mb-2 d-flex justify-content-center" >
    <button mat-button class="m-1 " style="background-color: green; color: white; font-size: large;" (click)="onSent()">Send</button>
    <button mat-button class="m-1 ml-5" style="background-color: rgb(202, 5, 5); color: white;" (click)="test()">test</button>
  </div> -->